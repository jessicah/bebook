<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Kernel Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheKernelKit.html" title="The Kernel Kit" /><link rel="prev" href="TheKernelKit_Time.html" title="Time Information" /><link rel="next" href="TheKernelKit_Miscellaneous.html" title="Miscellaneous Functions And Constants" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="TheKernelKit_Time.html" title="Time Information"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheKernelKit.html" title="The Kernel Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="TheKernelKit_Miscellaneous.html" title="Miscellaneous Functions And Constants"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Kernel Kit</div></div><div id="headerB">Prev: <a href="TheKernelKit_Time.html">Time Information</a>  Up: <a href="TheKernelKit.html">The Kernel Kit</a>  Next: <a href="TheKernelKit_Miscellaneous.html">Miscellaneous Functions And Constants</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="TheKernelKit_SystemInfo"></a>System Information</h2></div></div></div><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Declared in:</td><td><code class="filename">kernel/OS.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libroot.so</code></td></tr></tbody></table></div><p>The following functions, types, and structures are used to convey basic
information about the system, such as the number of CPUs, when the kernel
was built, what time it is now and whether your computer is on fire.</p><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Time_Functions"></a><a id="Time_DefinedTypes"></a>
System Info Functions and Structures</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="get_system_info"></a><a id="system_info"></a>
<a id="cpu_info"></a>
<a id="cpu_type"></a>
<a id="platform_type"></a>
get_system_info(), system_info, cpu_info, cpu_type, platform_type</h4></div></div></div><a id="id1113059" class="indexterm"></a><a id="id1113066" class="indexterm"></a><a id="id1113073" class="indexterm"></a><a id="id1113080" class="indexterm"></a><a id="id1113087" class="indexterm"></a><code class="methodsynopsis c"><span class="type">status_t </span><span class="methodname">get_system_info</span>(<span class="methodparam"><span class="type">system_info* </span><span class="parameter">info</span></span>);</code><pre class="programlisting definition c">struct {} <span class="type">system_info</span>

struct {} <span class="type">cpu_info</span>

enum <span class="type">cpu_type</span>

enum <span class="type">platform_type</span></pre><p>The <code class="function">get_system_info()</code> function tells you more than you want to know about
the physical capacities and other statistics of your operating system.
The function takes a pointer to an allocated <span class="type">system_info</span> structure and
fills it in.</p><pre class="programlisting definition c">typedef struct {
   <span class="type">machine_id</span>  <code class="varname">id</code>;
   <span class="type">bigtime_t</span>  <code class="varname">boot_time</code>;
   <span class="type">int32</span>  <code class="varname">cpu_count</code>;
   <span class="type">cpu_type</span>  <code class="varname">cpu_type</code>;
   <span class="type">int32</span>  <code class="varname">cpu_revision</code>;
   <span class="type">cpu_info</span>  <code class="varname">cpu_infos</code>[<code class="constant">B_MAX_CPU_NUM</code>];
   <span class="type">int64</span>  <code class="varname">cpu_clock_speed</code>;
   <span class="type">int64</span>  <code class="varname">bus_clock_speed</code>;
   <span class="type">platform_type</span>  <code class="varname">platform_type</code>;
   <span class="type">int32</span>  <code class="varname">max_pages</code>;
   <span class="type">int32</span>  <code class="varname">used_pages</code>;
   <span class="type">int32</span>  <code class="varname">page_faults</code>;
   <span class="type">int32</span>  <code class="varname">max_sems</code>;
   <span class="type">int32</span>  <code class="varname">used_sems</code>;
   <span class="type">int32</span>  <code class="varname">max_ports</code>;
   <span class="type">int32</span>  <code class="varname">used_ports</code>;
   <span class="type">int32</span>  <code class="varname">max_threads</code>;
   <span class="type">int32</span>  <code class="varname">used_threads</code>;
   <span class="type">int32</span>  <code class="varname">max_teams</code>;
   <span class="type">int32</span>  <code class="varname">used_teams</code>;
   <span class="type">char</span>   <code class="varname">kernel_name</code>[<code class="constant">B_FILE_NAME_LENGTH</code>];
   <span class="type">char</span>   <code class="varname">kernel_build_date</code>[<code class="constant">B_OS_NAME_LENGTH</code>];
   <span class="type">char</span>   <code class="varname">kernel_build_time</code>[<code class="constant">B_OS_NAME_LENGTH</code>];
   <span class="type">int64</span>  <code class="varname">kernel_version</code>;
} system_info</pre><p>The <span class="type">system_info</span> structure holds information about the machine and the
state of the kernel. The structure's fields are:</p><table class="variablelist fields"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="varname">id</code>.</span></p></td><td><p>The 64-bit number (encoded as two <span class="type">int32</span>s) that uniquely
identifies this machine.</p></td></tr><tr><td><p><span class="term"><code class="varname">boot_time</code>.</span></p></td><td><p>The time at which the computer was last booted, measured
in microseconds since January 1st, 1970.</p></td></tr><tr><td><p><span class="term"><code class="varname">cpu_count</code>.</span></p></td><td><p>The number of CPUs.</p></td></tr><tr><td><p><span class="term"><code class="varname">cpu_type</code> and <code class="varname">cpu_revision</code>.</span></p></td><td><p>The type constant and revision number of
the CPUs.</p></td></tr><tr><td><p><span class="term"><code class="varname">cpu_infos</code>.</span></p></td><td><p>An array of <span class="type">cpu_info</span> structures, one for each CPU.</p></td></tr><tr><td><p><span class="term"><code class="varname">cpu_clock_speed</code>.</span></p></td><td><p>The speed (in Hz) at which the CPUs operate.</p></td></tr><tr><td><p><span class="term"><code class="varname">bus_clock_speed</code>.</span></p></td><td><p>The speed (in Hz) at which the bus operates.</p></td></tr><tr><td><p><span class="term"><code class="varname">platform_type</code>.</span></p></td><td><p>One of the platform type constants.</p></td></tr><tr><td><p><span class="term"><code class="varname">max_resources</code> and <code class="varname">used_resources</code>.</span></p></td><td><p>The five pairs of max/used fields
give the total number of RAM pages, semaphores, and so on, that the
system can create, and the number that are currently in use.</p></td></tr><tr><td><p><span class="term"><code class="varname">page_faults</code>.</span></p></td><td><p>The number of times the system a read a page of memory
into RAM due to a page fault.</p></td></tr><tr><td><p><span class="term"><code class="varname">kernel_name</code>.</span></p></td><td><p>The (leaf) name of the kernel.</p></td></tr><tr><td><p><span class="term"><code class="varname">kernel_build_date</code> and <code class="varname">kernel_build_time</code>.</span></p></td><td><p>Human-readable strings that
tell you when the kernel was built.</p></td></tr><tr><td><p><span class="term"><code class="varname">kernel_version</code>.</span></p></td><td><p>A number that identifies the kernel version.</p></td></tr></tbody></table><p>The <span class="type">cpu_info</span> structure is:</p><pre class="programlisting definition c">typedef struct {
      <span class="type">bigtime_t</span> <code class="varname">active_time</code>;
} <span class="type">cpu_info</span>;</pre><table class="variablelist fields"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="varname">active_time</code></span></p></td><td><p>Is the number of microseconds spent doing useful work
since the machine was booted.</p></td></tr></tbody></table><p>Relatedly, <code class="constant">B_MAX_CPU_COUNT</code> is currently 8.</p><p>The <span class="type">machine_id</span> type is:</p><pre class="programlisting definition c">typedef <span class="type">int32</span> <span class="type">machine_id</span>[2];</pre><p>The <span class="type">cpu_type</span> constants are:</p><pre class="programlisting definition c">typedef enum {
    <code class="constant">B_CPU_PPC_601</code> = 1,
    <code class="constant">B_CPU_PPC_603</code> = 2,
    <code class="constant">B_CPU_PPC_603e</code> = 3,
    <code class="constant">B_CPU_PPC_604</code> = 4,
    <code class="constant">B_CPU_PPC_604e</code> = 5,
    <code class="constant">B_CPU_PPC_686</code> = 13,
    <code class="constant">B_CPU_AMD_29K</code>,
    <code class="constant">B_CPU_X86</code>,
    <code class="constant">B_CPU_MC6502</code>,
    <code class="constant">B_CPU_Z80</code>,
    <code class="constant">B_CPU_ALPHA</code>,
    <code class="constant">B_CPU_MIPS</code>,
    <code class="constant">B_CPU_HPPA</code>,
    <code class="constant">B_CPU_M68K</code>,
    <code class="constant">B_CPU_ARM</code>,
    <code class="constant">B_CPU_SH</code>,
    <code class="constant">B_CPU_SPARC</code>
} <span class="type">cpu_type</span>;</pre><p>The <span class="type">platform_type</span> constants are:</p><pre class="programlisting definition c">typedef enum {
    <code class="constant">B_BEBOX_PLATFORM</code> = 0,
    <code class="constant">B_MAC_PLATFORM</code>,
    <code class="constant">B_AT_CLONE_PLATFORM</code>,
    <code class="constant">B_ENIAC_PLATFORM</code>,
    <code class="constant">B_APPLE_II_PLATFORM</code>,
    <code class="constant">B_CRAY_PLATFORM</code>,
    <code class="constant">B_LISA_PLATFORM</code>,
    <code class="constant">B_TI_994A_PLATFORM</code>,
    <code class="constant">B_TIMEX_SINCLAIR_PLATFORM</code>,
    <code class="constant">B_ORAC_1_PLATFORM</code>,
    <code class="constant">B_HAL_PLATFORM</code>
} <span class="type">platform_type</span>;</pre><p>I haven't tried it, but I really don't think the BeOS would work at all
well on a Timex Sinclair (see
<a class="link" href="TheKernelKit_SystemInfo.html#is_computer_on_fire" title="is_computer_on_fire()"><code class="function">is_computer_on_fire()</code></a>).</p><p><code class="function">get_system_info()</code> always returns
<code class="constant">B_OK</code>.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="is_computer_on"></a>is_computer_on()</h4></div></div></div><a id="id1113885" class="indexterm"></a><code class="methodsynopsis c"><span class="type">int32 </span><span class="methodname">is_computer_on</span>();</code><p>Returns 1 if the computer is on. If the computer isn't on, the value
returned by this function is undefined.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="is_computer_on_fire"></a>is_computer_on_fire()</h4></div></div></div><a id="id1113923" class="indexterm"></a><code class="methodsynopsis c"><span class="type">double </span><span class="methodname">is_computer_on_fire</span>();</code><p>Returns the temperature of the motherboard if the computer is currently
on fire. Smoldering doesn't count. If the computer isn't on fire, the
function returns some other value.</p></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="TheKernelKit_Time.html">Time Information</a>  Up: <a href="TheKernelKit.html">The Kernel Kit</a>  Next: <a href="TheKernelKit_Miscellaneous.html">Miscellaneous Functions And Constants</a> </div><div id="footerB"><div id="footerBL"><a href="TheKernelKit_Time.html" title="Time Information"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheKernelKit.html" title="The Kernel Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="TheKernelKit_Miscellaneous.html" title="Miscellaneous Functions And Constants"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
