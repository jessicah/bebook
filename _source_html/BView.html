<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Interface Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheInterfaceKit.html" title="The Interface Kit" /><link rel="prev" href="BTextView.html" title="BTextView" /><link rel="next" href="BWindow.html" title="BWindow" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BTextView.html" title="BTextView"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BWindow.html" title="BWindow"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Interface Kit</div></div><div id="headerB">Prev: <a href="BTextView.html">BTextView</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BWindow.html">BWindow</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView"></a>BView</h2></div></div></div><a id="id1055380" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td><a class="link" href="BHandler.html" title="BHandler">BHandler</a></td></tr><tr><td>Mix-in Classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">interface/View.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BView_Overview.html" title="BView">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BView.html#BView_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BView.html#BView_Hook">Hook Functions</a></span></li><li><span class="section"><a href="BView.html#BView_General">General Functions</a></span></li><li><span class="section"><a href="BView.html#BView_ViewHierarchy">View Hierarchy Functions</a></span></li><li><span class="section"><a href="BView.html#BView_Input">Input Related Functions</a></span></li><li><span class="section"><a href="BView.html#BView_Graphics">Graphics State Functions</a></span></li><li><span class="section"><a href="BView.html#BView_Drawing">Drawing Related Functions</a></span></li><li><span class="section"><a href="BView.html#BView_StaticFunctions">Static Functions</a></span></li><li><span class="section"><a href="BView.html#BView_Scripting">Scripting Support</a></span></li><li><span class="section"><a href="BView.html#BView_ArchivedFields">Archived Fields</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Constructor"></a>BView()</h4></div></div></div><div class="synopsisgroup">
<code class="constructorsynopsis cpp"><span class="methodname">BView</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">frame</span></span>,<br />      <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">name</span></span>,<br />      <span class="methodparam"><span class="type">uint32 </span><span class="parameter">resizingMode</span></span>,<br />      <span class="methodparam"><span class="type">uint32 </span><span class="parameter">flags</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BView</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code>
</div><p>
Sets up a view with the <code class="parameter">frame</code> rectangle, which is specified in the
coordinate system of its eventual parent, and assigns the <code class="classname">BView</code> an
identifying <code class="parameter">name</code>, which can be <code class="constant">NULL</code>.
</p><p>
When it's created, a <code class="classname">BView</code> doesn't belong to a window and has no parent.
It's assigned a parent by having another <code class="classname">BView</code> adopt it with the
<a class="link" href="BView.html#BView_AddChild" title="AddChild(), RemoveChild()"><code class="methodname">AddChild()</code></a> function. If the other view is in a window, the <code class="classname">BView</code> becomes
part of that window's view hierarchy. A <code class="classname">BView</code> can be made a child of the
window's top view by calling <a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>'s
<a class="link" href="BWindow.html#BWindow_AddChild" title="AddChild(), RemoveChild(), ChildAt(), CountChildren()">version</a> of the <code class="methodname">AddChild()</code> function.
</p><p>
When the <code class="classname">BView</code> gains a parent, the values in
<code class="parameter">frame</code> are interpreted in the
parent's coordinate system. The sides of the view must be aligned on
screen pixels. Therefore, the <code class="parameter">frame</code> rectangle should not contain
coordinates with fractional values. Fractional coordinates will be
rounded to the first lower whole number (for example 1.2 will be rounded
down to 1.0).
</p><p>
The <code class="parameter">resizingMode</code> mask determines the behavior of the view when its parent
is resized. It should combine one constant for horizontal resizing,
</p><ul class="itemizedlist"><li><p><code class="constant">B_FOLLOW_LEFT</code></p></li><li><p><code class="constant">B_FOLLOW_RIGHT</code></p></li><li><p><code class="constant">B_FOLLOW_LEFT_RIGHT</code></p></li><li><p><code class="constant">B_FOLLOW_H_CENTER</code></p></li></ul><p>
with one for vertical resizing:
</p><ul class="itemizedlist"><li><p><code class="constant">B_FOLLOW_TOP</code></p></li><li><p><code class="constant">B_FOLLOW_BOTTOM</code></p></li><li><p><code class="constant">B_FOLLOW_TOP_BOTTOM</code></p></li><li><p><code class="constant">B_FOLLOW_V_CENTER</code></p></li></ul><p>
For example, if <code class="constant">B_FOLLOW_LEFT</code> is chosen, the margin between the left side
of the view and the left side of its parent will remain
constant—the view will "follow" the parent's left side. Similarly,
if <code class="constant">B_FOLLOW_RIGHT</code> is chosen, the view will follow the parent's right
side. If <code class="constant">B_FOLLOW_H_CENTER</code> is chosen, the view will maintain a constant
relationship to the horizontal center of the parent.
</p><p>
If the constants name opposite sides of the view rectangle—left and
right, or top and bottom—the view will necessarily be resized in
that dimension when the parent is. For example, <code class="constant">B_FOLLOW_LEFT_RIGHT</code> means
that the margin between the left side of the view and left side of the
parent will remain constant, as will the margin between the right side of
the view and the right side of the parent. As the parent is resized
horizontally, the child will be resized with it. Note that
<code class="constant">B_FOLLOW_LEFT_RIGHT</code> is not the same as combining <code class="constant">B_FOLLOW_LEFT</code> and
<code class="constant">B_FOLLOW_RIGHT</code>, an illegal move. The <code class="parameter">resizingMode</code> mask can contain only
one horizontal constant and one vertical constant.
</p><p>
If a side is not mentioned in the mask, the distance between that side of
the view and the corresponding side of the parent is free to fluctuate.
This may mean that the view will move within its parent's coordinate
system when the parent is resized. <code class="constant">B_FOLLOW_RIGHT</code> plus <code class="constant">B_FOLLOW_BOTTOM</code>,
for example, would keep a view from being resized, but the view will move
to follow the right bottom corner of its parent whenever the parent is
resized. <code class="constant">B_FOLLOW_LEFT</code> plus <code class="constant">B_FOLLOW_TOP</code> prevents a view from being
resized and from being moved.
</p><p>
In addition to the constants listed above, there are two other
possibilities:
</p><ul class="itemizedlist"><li><p><code class="constant">B_FOLLOW_ALL_SIDES</code></p></li><li><p><code class="constant">B_FOLLOW_NONE</code></p></li></ul><p>
<code class="constant">B_FOLLOW_ALL_SIDES</code> is a shorthand for <code class="constant">B_FOLLOW_LEFT_RIGHT</code> and
<code class="constant">B_FOLLOW_TOP_BOTTOM</code>. It means that the view will be resized in tandem
with its parent, both horizontally and vertically.
</p><p>
<code class="constant">B_FOLLOW_NONE</code> behaves just like
<code class="constant">B_FOLLOW_LEFT</code> | <code class="constant">B_FOLLOW_TOP</code>; the view
maintains the same position in its parent's coordinate system, but not in
the screen coordinate system.
</p><p>
Typically, a parent view is resized because the user resizes the window
it's in. When the window is resized, the top view is too. Depending on
how the <code class="parameter">resizingMode</code> flag is set for the top view's children and for the
descendants of its children, automatic resizing can cascade down the view
hierarchy. A view can also be resized programmatically by the
<a class="link" href="BView.html#BView_ResizeTo"><code class="methodname">ResizeTo()</code></a>
and <a class="link" href="BView.html#BView_ResizeBy" title="ResizeBy(), ResizeTo()"><code class="methodname">ResizeBy()</code></a>
functions.
</p><p>
The resizing mode can be changed after construction with the
<a class="link" href="BView.html#BView_SetResizingMode" title="SetResizingMode(), ResizingMode()"><code class="methodname">SetResizingMode()</code></a> function.
</p><p>
The <code class="parameter">flags</code> mask determines what kinds of notifications the <code class="classname">BView</code> will
receive. It can be any combination of the following constants:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_WILL_DRAW</code></span></p></td><td><p>
Indicates that the <code class="classname">BView</code> does some drawing of its own and therefore
can't be ignored when the window is updated. If this flag isn't set, the
<code class="classname">BView</code> won't receive update notifications—its
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> function won't
be called—and it won't be erased to its background view color if
the color is other than white.
</p></td></tr><tr><td><p><span class="term"><code class="constant">B_PULSE_NEEDED</code></span></p></td><td><p>
Indicates that the <code class="classname">BView</code> should receive
<a class="link" href="BView.html#BView_Pulse" title="Pulse()"><code class="methodname">Pulse()</code></a> notifications.
</p></td></tr><tr><td><p><span class="term"><code class="constant">B_FRAME_EVENTS</code></span></p></td><td><p>
Indicates that the <code class="classname">BView</code> should receive
<a class="link" href="BView.html#BView_FrameResized" title="FrameResized()"><code class="methodname">FrameResized()</code></a> and
<a class="link" href="BView.html#BView_FrameMoved" title="FrameMoved()"><code class="methodname">FrameMoved()</code></a>
notifications when its frame rectangle
changes—typically as a result of the automatic resizing behavior
described above.
<a class="link" href="BView.html#BView_FrameResized" title="FrameResized()"><code class="methodname">FrameResized()</code></a>
is called when the dimensions of the view
change; <a class="link" href="BView.html#BView_FrameMoved" title="FrameMoved()"><code class="methodname">FrameMoved()</code></a>
is called when the position of its left top corner
in its parent's coordinate system changes.
</p></td></tr><tr><td><p><span class="term"><code class="constant">B_FULL_UPDATE_ON_RESIZE</code></span></p></td><td><p>
Indicates that the entire view should be updated when it's resized. If
this flag isn't set, only the portions that resizing adds to the view
will be included in the clipping region. This doesn't affect the view's
children; their own flags determine when updates will occur.
</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NAVIGABLE</code></span></p></td><td><p>
Indicates that the <code class="classname">BView</code> can become the focus view for keyboard
actions. This flag makes it possible for the user to navigate to the view
and put it in focus by pressing the Tab key. See
"<a class="xref" href="TheInterfaceKit_Responding.html#TheInterfaceKit_Listening_KeyboardNavigation" title="Keyboard Navigation">Keyboard Navigation</a>" at
the beginning of this chapter.
</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NAVIGABLE_JUMP</code></span></p></td><td><p>
Marks the position of a group of views for keyboard navigation. By
pressing
<span class="keycap">Control</span>+<span class="keycap">Tab</span>,
the user can jump from group to group. The focus lands on the
first <code class="classname">BView</code> in the group that has the
<code class="constant">B_NAVIGABLE</code> flag set.
This may be the same
<code class="classname">BView</code> that has the
<code class="constant">B_NAVIGABLE_JUMP</code> marker, or
the
<code class="constant">B_NAVIGABLE_JUMP</code> <code class="classname">BView</code> may
be the parent of a group of <code class="constant">B_NAVIGABLE</code> views.
</p></td></tr><tr><td><p><span class="term"><code class="constant">B_SUBPIXEL_PRECISE</code></span></p></td><td><p>
Instructs the rendering methods to use subpixel precision when
drawing. If you don't set this flag, coordinates are rounded to the
nearest unit.
</p></td></tr></tbody></table><p>
If none of these constants apply, <code class="parameter">flags</code> can be
<code class="constant">NULL</code>. The flags can be
reset after construction with the
<a class="link" href="BView.html#BView_SetFlags" title="SetFlags() , Flags()"><code class="methodname">SetFlags()</code></a> function.
</p><p>
See also:
<a class="link" href="BHandler.html#BHandler_SetName" title="SetName(), Name()"><code class="methodname">BHandler::SetName()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Destructor"></a>~BView()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BView</span>();</code><p>
Frees all memory the <code class="classname">BView</code> allocated, and ensures that each of the
<code class="classname">BView</code>'s descendants in the view hierarchy is also destroyed.
</p><p>
It's an error to delete a <code class="classname">BView</code> while it remains attached to a window.
Call
<a class="link" href="BView.html#BView_RemoveChild"><code class="methodname">RemoveChild()</code></a> or
<a class="link" href="BView.html#BView_RemoveSelf" title="RemoveSelf()"><code class="methodname">RemoveSelf()</code></a>
before using the delete operator.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Hook"></a>Hook Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_AttachedToWindow"></a><a id="BView_AllAttached"></a>
AttachedToWindow(), AllAttached()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">AttachedToWindow</span>();</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">AllAttached</span>();</code><p>
Implemented by derived classes to complete the initialization of the
<code class="classname">BView</code> when it's assigned to a window.
A <code class="classname">BView</code> is assigned to a window
when it, or one of its ancestors in the view hierarchy, becomes a child
of a view already attached to a window.
</p><p>
<code class="methodname">AttachedToWindow()</code> is called immediately
after the <code class="classname">BView</code> is formally made
a part of the window's view hierarchy and after it has become known to
the Application Server and its graphics parameters are set. The
<a class="link" href="BView.html#BView_Window" title="Window()"><code class="methodname">Window()</code></a>
function can identify which
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a> the
<code class="classname">BView</code> belongs to.
</p><p>
All of the <code class="classname">BView</code>'s children, if it has any, also become attached to the
window and receive their own <code class="methodname">AttachedToWindow()</code> notifications. Parents
receive the notification before their children, but only after all views
have become attached to the window and recognized as part of the window's
view hierarchy. This function can therefore depend on all ancestor and
descendant views being in place.
</p><p>
For example, <code class="methodname">AttachedToWindow()</code> can be implemented to set a view's
background color to the same color as its parent, something that can't be
done before the view belongs to a window and knows who its parent is.
</p><pre class="programlisting example cpp"><span class="type">void</span> <code class="classname">MyView</code>::<code class="methodname">AttachedToWindow</code>()
{
   if ( <code class="methodname">Parent</code>() )
      <code class="methodname">SetViewColor</code>(<code class="methodname">Parent</code>()-&gt;<code class="methodname">ViewColor</code>());
   <span class="emphasis"><em><code class="classname">baseClass</code></em></span>::<code class="methodname">AttachedToWindow</code>();
}</pre><p>
The <code class="methodname">AllAttached()</code> notification follows on the heels of
<code class="methodname">AttachedToWindow()</code>, but works its way up the view hierarchy rather than
down. When <code class="methodname">AllAttached()</code> is called for a
<code class="classname">BView</code>, all its descendants have
received both <code class="methodname">AttachedToWindow()</code> and
<code class="methodname">AllAttached()</code> notifications.
Therefore, parent views can depend on any calculations that their
children make in either function. For example, a parent can resize itself
to fit the size of its children, where their sizes depend on calculations
done in <code class="methodname">AttachedToWindow()</code>.
</p><p>
The default (<code class="classname">BView</code>) version of both these functions are empty.
</p><p>
See also:
<a class="link" href="BView.html#BView_AddChild" title="AddChild(), RemoveChild()"><code class="methodname">AddChild()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DetachedFromWindow"></a><a id="BView_AllDetached"></a>
DetachedFromWindow(), AllDetached()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">DetachedFromWindow</span>();</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">AllDetached</span>();</code><p>
Implemented by derived classes to make any adjustments necessary when the
<code class="classname">BView</code> is about to be removed from a window's view hierarchy. These two
functions parallel the more commonly implemented
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">AttachedToWindow()</code></a> and
<a class="link" href="BView.html#BView_AllAttached"><code class="methodname">AllAttached()</code></a> functions.
</p><p>
<code class="methodname">DetachedFromWindow()</code> notifications work their way down the hierarchy of
views being detached, followed by <code class="methodname">AllDetached()</code> notifications, which work
their way up the hierarchy. The second function call permits an ancestor
view to take actions that depend on calculations a descendant might have
to make when it's first notified of being detached.
</p><p>
The <code class="classname">BView</code> is still attached to the window when both functions are called.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Draw"></a>Draw()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Draw</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">updateRect</span></span>);</code><p>
Implemented by derived classes to draw the <code class="parameter">updateRect</code> portion of the
view. The update rectangle is stated in the <code class="classname">BView</code>'s coordinate system.
</p><p>
<code class="methodname">Draw()</code> is called as the result of update messages whenever the view needs
to present itself on-screen. This may happen when:
</p><ul class="itemizedlist"><li><p>
The window the view is in is first shown on-screen, or shown after
being hidden (see the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>
version of the
<a class="link" href="BWindow.html#BWindow_Hide"><code class="methodname">Hide()</code></a>
function).
</p></li><li><p>
The view is made visible after being hidden (see
<code class="classname">BView</code>'s
<a class="link" href="BView.html#BView_Hide" title="Hide(), Show()"><code class="methodname">Hide()</code></a>
function).
</p></li><li><p>
Obscured parts of the view are revealed, as when a window is moved
from in front of the view or an image is dragged across it.
</p></li><li><p>
The view is resized.
</p></li><li><p>
The contents of the view are scrolled (see
<a class="link" href="BView.html#BView_ScrollBy" title="ScrollBy(), ScrollTo()"><code class="methodname">ScrollBy()</code></a>).
</p></li><li><p>
A child view is added, removed, or resized.
</p></li><li><p>
A rectangle has been invalidated that includes at least some of the
view (see
<a class="link" href="BView.html#BView_Invalidate" title="Invalidate()"><code class="methodname">Invalidate()</code></a>).
</p></li><li><p>
<a class="link" href="BView.html#BView_CopyBits" title="CopyBits()"><code class="methodname">CopyBits()</code></a>
can't completely fill a destination rectangle within the view.
</p></li></ul><p>
<code class="methodname">Draw()</code> is also called from a
<a class="link" href="BPrintJob.html" title="BPrintJob"><code class="classname">BPrintJob</code></a> object's
<a class="link" href="BPrintJob.html#BPrintJob_DrawView" title="DrawView() , SpoolPage()"><code class="methodname">DrawView()</code></a> function to
draw the view on a printed page.
<a class="link" href="BView.html#BView_IsPrinting" title="IsPrinting()"><code class="methodname">IsPrinting()</code></a>
returns <code class="constant">true</code> when the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
is drawing for the printer and <code class="constant">false</code> when it's drawing to the screen.
When printing, you may want to recalculate layouts, substitute fonts,
turn antialiasing off, scale the size of a coordinate unit, or make other
adjustments to ensure the quality of the printed image.
</p><p>
When drawing to the screen, the <code class="parameter">updateRect</code> is the smallest rectangle that
encloses the current clipping region for the view. Since the Application
Server won't render anything on-screen that's outside the clipping
region, an application will be more efficient if it avoids producing
drawing instructions for images that don't intersect with the rectangle.
For still more efficiency and precision, you can ask for the clipping
region itself (by calling
<a class="link" href="BView.html#BView_GetClippingRegion" title="GetClippingRegion()"><code class="methodname">GetClippingRegion()</code></a>)
and confine drawing to images that intersect with it.
</p><p>
When printing, the <code class="parameter">updateRect</code> matches the rectangle passed to
<a class="link" href="BPrintJob.html#BPrintJob_DrawView" title="DrawView() , SpoolPage()"><code class="methodname">DrawView()</code></a>
and may lie outside the clipping region. The clipping region is not
enforced for printing, but the Print Server clips the BView's drawing to
the specified rectangle.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_UpdateIfNeeded" title="UpdateIfNeeded()"><code class="methodname">BWindow::UpdateIfNeeded()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DrawAfterChildren"></a>DrawAfterChildren()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">DrawAfterChildren</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">updateRect</span></span>);</code><p>
This function is similar (in fact, almost identical) to
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>. The only
difference is that <code class="methodname">DrawAfterChildren()</code>
is called after all children have drawn during a screen update.
This is in contrast to <a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>,
which draws before any children have drawn. In general,
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> will be used for
almost all of your drawing needs; <code class="methodname">DrawAfterChildren()</code> is intended for use
in the rare circumstances where you wish a view to be able to draw on top
of its child views.
</p><p>
Other details are as for <a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_FrameMoved"></a>FrameMoved()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">FrameMoved</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">newLocation</span></span>);</code><p>
Implemented by derived classes to respond to a notification that the view
has moved within its parent's coordinate system. <code class="parameter">newLocation</code> gives the
new location, within the coordinate system of the view's window, of the
left top corner of the <code class="classname">BView</code>'s frame rectangle.
</p><p>
<code class="methodname">FrameMoved()</code> is called only if the
<code class="constant">B_FRAME_EVENTS</code> flag is set and the
<code class="classname">BView</code> is attached to a window.
</p><p>
If the view is both moved and resized, <code class="methodname">FrameMoved()</code> is called before
<a class="link" href="BView.html#BView_FrameResized" title="FrameResized()"><code class="methodname">FrameResized()</code></a>.
This might happen, for example, if the <code class="classname">BView</code>'s automatic
resizing mode is a combination of <code class="constant">B_FOLLOW_TOP_BOTTOM</code>
and <code class="constant">B_FOLLOW_RIGHT</code>
and its parent is resized both horizontally and vertically.
</p><p>
<code class="classname">BView</code>'s version of this function is empty.
</p><p>
Currently, <code class="methodname">FrameMoved()</code> is also called when a hidden window is shown
on-screen.
</p><p>
See also:
<a class="link" href="BView.html#BView_MoveBy" title="MoveBy(), MoveTo()"><code class="methodname">MoveBy()</code></a>,
<a class="link" href="BWindow.html#BWindow_FrameMoved" title="FrameMoved(), FrameResized()"><code class="methodname">BWindow::FrameMoved()</code></a>,
<a class="link" href="BView.html#BView_SetFlags" title="SetFlags() , Flags()"><code class="methodname">SetFlags()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_FrameResized"></a>FrameResized()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">FrameResized</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">width</span></span>,<br />                          <span class="methodparam"><span class="type">float </span><span class="parameter">height</span></span>);</code><p>
Implemented by derived classes to respond to a notification that the view
has been resized. The arguments state the new width and height of the
view. The resizing could have been the result of a user action (resizing
the window) or of a programmatic one (calling
<a class="link" href="BView.html#BView_ResizeTo"><code class="methodname">ResizeTo()</code></a> or
<a class="link" href="BView.html#BView_ResizeBy" title="ResizeBy(), ResizeTo()"><code class="methodname">ResizeBy()</code></a>).
</p><p>
<code class="methodname">FrameResized()</code> is called only if the
<code class="constant">B_FRAME_EVENTS</code> flag is set and the
<code class="classname">BView</code> is attached to a window.
</p><p>
<code class="classname">BView</code>'s version of this function is empty.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_FrameResized"><code class="methodname">BWindow::FrameResized()</code></a>,
<a class="link" href="BView.html#BView_SetFlags" title="SetFlags() , Flags()"><code class="methodname">SetFlags()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_GetPreferredSize"></a><a id="BView_ResizeToPreferred"></a>
GetPreferredSize(), ResizeToPreferred()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">GetPreferredSize</span>(<span class="methodparam"><span class="type">float* </span><span class="parameter">width</span></span>,<br />                              <span class="methodparam"><span class="type">float* </span><span class="parameter">height</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">ResizeToPreferred</span>();</code><p>
<code class="methodname">GetPreferredSize()</code> is implemented by derived classes to write the
preferred width and height of the view into the variables the <code class="parameter">width</code> and
<code class="parameter">height</code> arguments refer to. Derived classes generally make this
calculation based on the view's contents. For example, a
<a class="link" href="BButton.html" title="BButton"><code class="classname">BButton</code></a> object
reports the optimal size for displaying the button border and label given
the current font.
</p><p>
<code class="methodname">ResizeToPreferred()</code> resizes the
<code class="classname">BView</code>'s frame rectangle to the preferred
size, keeping its left and top sides constant.
</p><p>
See also:
<a class="link" href="BView.html#BView_ResizeTo"><code class="methodname">ResizeTo()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_KeyDown"></a>KeyDown()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">KeyDown</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">bytes</span></span>,<br />                     <span class="methodparam"><span class="type">int32 </span><span class="parameter">numBytes</span></span>);</code><p>
Implemented by derived classes to respond to a
<a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_DOWN" title="B_KEY_DOWN, B_KEY_UP, B_UNMAPPED_KEY_DOWN, B_UNMAPPED_KEY_UP"><code class="constant">B_KEY_DOWN</code></a> message
reporting keyboard input. Whenever a <code class="classname">BView</code> is the focus view of the
active window, it receives a <code class="methodname">KeyDown()</code> notification for each character
the user types, except for those that:
</p><ul class="itemizedlist"><li><p>
Are produced while a <span class="keycap">Command</span> key is held down. Command key events are
interpreted as keyboard shortcuts.
</p></li><li><p>
Are produced by the <span class="keycap">Tab</span> key when an <span class="keycap">Option</span> key is held down.
<span class="keycap">Option</span>+<span class="keycap">Tab</span>
events are invariably interpreted as instructions to change
the focus view (for keyboard navigation); they work even where <span class="keycap">Tab</span>
alone does not.
</p></li><li><p>
Can operate the default button in a window. The
<a class="link" href="BButton.html" title="BButton"><code class="classname">BButton</code></a> object's
<a class="link" href="BButton.html#BButton_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>
function is called, rather than the focus view's.
</p></li></ul><p>
The first argument, <code class="parameter">bytes</code>, is an array that encodes the character mapped
to the key the user pressed. The second argument, <code class="parameter">numBytes</code>, tells how
many bytes are in the array; there will always be at least one. The <code class="parameter">bytes</code>
value follows the character encoding of the <code class="classname">BView</code>'s font. Typically, the
encoding is Unicode UTF-8 (<code class="constant">B_UNICODE_UTF8</code>), so there may be more than one
byte per character. The bytes array is not null-terminated; '0' is a
valid character value.
</p><p>
The character value takes into account any modifier keys that were held
down or keyboard locks that were on at the time of the keystroke. For
example, <span class="keycap">Shift</span>+<span class="keycap">i</span>
is reported as uppercase 'I' (0x49) and
<span class="keycap">Control</span>+<span class="keycap">i</span> is
reported as a <code class="constant">B_TAB</code> (0x09).
</p><p>
Single-byte characters can be tested against
<acronym class="acronym" title="American Standard Code for Information Interchange">ASCII</acronym>
codes and these constants:
</p><ul class="itemizedlist"><li><p><code class="constant">B_BACKSPACE</code></p></li><li><p><code class="constant">B_ENTER</code></p></li><li><p><code class="constant">B_RETURN</code></p></li><li><p><code class="constant">B_SPACE</code></p></li><li><p><code class="constant">B_TAB</code></p></li><li><p><code class="constant">B_ESCAPE</code></p></li><li><p><code class="constant">B_LEFT_ARROW</code></p></li><li><p><code class="constant">B_RIGHT_ARROW</code></p></li><li><p><code class="constant">B_UP_ARROW</code></p></li><li><p><code class="constant">B_DOWN_ARROW</code></p></li><li><p><code class="constant">B_INSERT</code></p></li><li><p><code class="constant">B_DELETE</code></p></li><li><p><code class="constant">B_HOME</code></p></li><li><p><code class="constant">B_END</code></p></li><li><p><code class="constant">B_PAGE_UP</code></p></li><li><p><code class="constant">B_PAGE_DOWN</code></p></li><li><p><code class="constant">B_FUNCTION_KEY</code></p></li></ul><p>
<code class="constant">B_ENTER</code> and <code class="constant">B_RETURN</code>
are the same character, a newline ('\n').
</p><p>
Only keys that generate characters produce key-down events; the modifier
keys on their own do not.
</p><p>
You can determine which modifier keys were being held down at the time of
the event by calling
<a class="link" href="BLooper.html" title="BLooper"><code class="classname">BLooper</code></a>'s
<a class="link" href="BLooper.html#BLooper_CurrentMessage" title="CurrentMessage(), DetachCurrentMessage()"><code class="methodname">CurrentMessage()</code></a>
function and looking up the "modifiers" entry in the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>
it returns. If the <code class="parameter">bytes</code> character
is <code class="constant">B_FUNCTION_KEY</code> and you want to know which key produced the character,
you can look up the "key" entry in the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>
and test it against these constants:
</p><ul class="itemizedlist"><li><p><code class="constant">B_F1_KEY</code></p></li><li><p><code class="constant">B_F1_KEY</code></p></li><li><p><code class="constant">B_F2_KEY</code></p></li><li><p><code class="constant">B_F3_KEY</code></p></li><li><p><code class="constant">B_F4_KEY</code></p></li><li><p><code class="constant">B_F5_KEY</code></p></li><li><p><code class="constant">B_F6_KEY</code></p></li><li><p><code class="constant">B_F7_KEY</code></p></li><li><p><code class="constant">B_F8_KEY</code></p></li><li><p><code class="constant">B_F9_KEY</code></p></li><li><p><code class="constant">B_F10_KEY</code></p></li><li><p><code class="constant">B_F11_KEY</code></p></li><li><p><code class="constant">B_F12_KEY</code></p></li><li><p><code class="constant">B_PRINT_KEY</code> (Print Screen)</p></li><li><p><code class="constant">B_SCROLL_KEY</code> (Scroll Lock)</p></li><li><p><code class="constant">B_PAUSE_KEY</code></p></li></ul><p>
For example:
</p><pre class="programlisting example cpp">if ( <code class="varname">bytes</code>[0] == <code class="constant">B_FUNCTION_KEY</code> ) {
   <span class="type">BMessage *</span><code class="varname">msg</code> = <code class="methodname">Window</code>()-&gt;<code class="methodname">CurrentMessage</code>();
   if ( <code class="varname">msg</code> ) {
      <span class="type">int32</span> <code class="varname">key</code>;
      <code class="varname">msg</code>-&gt;<code class="methodname">FindInt32</code>("key", &amp;<code class="varname">key</code>);
      switch ( <code class="varname">key</code> ) {
      case <code class="constant">B_F1_KEY</code>:
         . . .
         break;
      case <code class="constant">B_F2_KEY</code>:
         . . .
         break;
      . . .
      }
   }
}</pre><p>
The <code class="classname">BView</code> version of <code class="methodname">KeyDown()</code>
handles keyboard navigation from view to view through
<code class="constant">B_TAB</code> characters. If the view you define is navigable, its
<code class="methodname">KeyDown()</code> function should permit
<code class="constant">B_SPACE</code> characters to operate the object
and perhaps allow the arrow keys to navigate inside the view. It should
also call the inherited version of
<code class="methodname">KeyDown()</code> to enable between-view
navigation. For example:
</p><pre class="programlisting example cpp"><span class="type">void</span> <code class="classname">MyView</code>::<code class="methodname">KeyDown</code>(<span class="type">const char *</span><code class="parameter">bytes</code>, <span class="type">int32</span> <code class="parameter">numBytes</code>)
{
   if ( <code class="parameter">numBytes</code> == 1 ) {
      switch ( <code class="parameter">bytes</code>[0] ) {
      case <code class="constant">B_SPACE</code>:
         <span class="comment">/* mimic a click in the view*/</span>
         break;
      case <code class="constant">B_RIGHT_ARROW</code>:
         <span class="comment">/* move one position to the right in the view*/</span>
         break;
      case <code class="constant">B_LEFT_ARROW</code>:
         <span class="comment">/* move one position to the left in the view*/</span>
         break;
      default:
         <span class="emphasis"><em><code class="classname">baseClass</code></em></span>::<code class="methodname">KeyDown</code>(<code class="parameter">bytes</code>, <code class="parameter">numBytes</code>);
         break;
      }
   }
}</pre><p>
If your <code class="classname">BView</code> is navigable but needs to respond to <code class="constant">B_TAB</code>
characters—for example, if it permits users to insert tabs in a
text string—its <code class="methodname">KeyDown()</code> function should simply grab the
characters and not pass them to the inherited function. Users will have
to rely on the
<span class="keycap">Option</span>+<span class="keycap">Tab</span>
combination to navigate from your view.
</p><p>
See also: the <a class="link" href="TheKeyboard.html" title="The Keyboard">Keyboard Information</a> special topic,
<a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_DOWN" title="B_KEY_DOWN, B_KEY_UP, B_UNMAPPED_KEY_DOWN, B_UNMAPPED_KEY_UP"><code class="constant">B_KEY_DOWN</code></a> in the
<a class="link" href="TheKeyboard_KeyboardMessages.html" title="Keyboard Messages">Keyboard Messages</a> appendix,
<a class="link" href="BWindow.html#BWindow_SetDefaultButton" title="SetDefaultButton(), DefaultButton()"><code class="methodname">BWindow::SetDefaultButton()</code></a>,
<a class="link" href="TheInputServer_Functions.html#modifiers" title="modifiers()"><code class="function">modifiers()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_KeyUp"></a>KeyUp()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">KeyUp</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">bytes</span></span>,<br />                   <span class="methodparam"><span class="type">int32 </span><span class="parameter">numBytes</span></span>);</code><p>
Implemented by derived classes to respond to a
<a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_UP"><code class="constant">B_KEY_UP</code></a>
message reporting that the user released a key on the keyboard.
The same set of keys that produce
<a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_DOWN" title="B_KEY_DOWN, B_KEY_UP, B_UNMAPPED_KEY_DOWN, B_UNMAPPED_KEY_UP"><code class="constant">B_KEY_DOWN</code></a>
messages when they're pressed produce
<a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_UP"><code class="constant">B_KEY_UP</code></a>
messages when they're released. The <code class="parameter">bytes</code>
and <code class="parameter">numBytes</code> arguments encode
the character mapped to the key the user released; they work exactly like
the same arguments passed to
<a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>.
</p><p>
Some <a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_DOWN" title="B_KEY_DOWN, B_KEY_UP, B_UNMAPPED_KEY_DOWN, B_UNMAPPED_KEY_UP"><code class="constant">B_KEY_DOWN</code></a>
messages are swallowed by the system and are never dispatched by calling
<a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>;
others are dispatched, but not to the focus view. In contrast, all
<a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_UP"><code class="constant">B_KEY_UP</code></a>
messages are dispatched by calling
<a class="link" href="BView.html#BView_KeyUp" title="KeyUp()"><code class="methodname">KeyUp()</code></a>
for the focus view of the active window. Since the focus view and
active window can change between the time a key is pressed and the time
it's released, this may or may not be the same <code class="classname">BView</code> that was notified of
the <a class="link" href="TheInterfaceKit_MessageConstants.html#B_KEY_DOWN" title="B_KEY_DOWN, B_KEY_UP, B_UNMAPPED_KEY_DOWN, B_UNMAPPED_KEY_UP"><code class="constant">B_KEY_DOWN</code></a>
message.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_MessageReceived"></a>MessageReceived()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MessageReceived</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>);</code><p>
Augments the
<a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a> version of
<a class="link" href="BHandler.html#BHandler_MessageReceived" title="MessageReceived()"><code class="methodname">MessageReceived()</code></a>
to handle scripting messages for the <code class="classname">BView</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_MouseDown"></a>MouseDown()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MouseDown</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code><p>
<code class="methodname">MouseDown()</code> is a hook function that's invoked when the user depresses a
mouse button (or other pointing device button, not including joysticks).
The location of the cursor at the time of the event is given by <code class="parameter">point</code> in
the <code class="classname">BView</code>'s coordinates. See
<a class="link" href="TheInterfaceKit_MessageConstants.html#B_MOUSE_DOWN" title="B_MOUSE_DOWN"><code class="constant">B_MOUSE_DOWN</code></a>
for the message format. Also see
<a class="link" href="BView.html#BView_SetMouseEventMask"><code class="methodname">SetMouseEventMask()</code></a>
for information on extending the view's event mask while the mouse is being held down.
</p><p>
The <code class="classname">BView</code> version of <code class="methodname">MouseDown()</code> is empty.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_MouseMoved"></a>MouseMoved()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MouseMoved</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>,<br />                        <span class="methodparam"><span class="type">uint32 </span><span class="parameter">transit</span></span>,<br />                        <span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>);</code><p>
Implemented by derived classes to respond to reports of mouse-moved
events associated with the view. As the user moves the cursor over a
window, the Application Server generates a continuous stream of messages
reporting where the cursor is located.
</p><p>
The first argument, <code class="parameter">point</code>, gives the cursor's
new location in the <code class="classname">BView</code>'s
coordinate system. The second argument, <code class="parameter">transit</code>, is one of four constants,
</p><ul class="itemizedlist"><li><p><code class="constant">B_ENTERED_VIEW</code></p></li><li><p><code class="constant">B_INSIDE_VIEW</code></p></li><li><p><code class="constant">B_EXITED_VIEW</code></p></li><li><p><code class="constant">B_OUTSIDE_VIEW</code></p></li></ul><p>
which explains whether the cursor has just entered the visible region of
the view, is now inside the visible region having previously entered, has
just exited from the view, or is currently outside the visible region of
the view. When the cursor passes from one view to another, <code class="methodname">MouseMoved()</code>
is called on each of the <code class="classname">BView</code>s, once with a transit code of
<code class="constant">B_EXITED_VIEW</code> and the other with a code of <code class="constant">B_ENTERED_VIEW</code>.
</p><p>
If the user is dragging a bundle of information from one location to
another, the final argument, <code class="parameter">message</code>, is a pointer to the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> object
that holds the information. If a message isn't being dragged,
<code class="parameter">message</code> is <code class="constant">NULL</code>.
</p><p>
The default version of <code class="methodname">MouseMoved()</code> is empty.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_MouseUp"></a>MouseUp()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MouseUp</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code><p>
Implemented by derived classes to respond to a message reporting a
mouse-up event within the view. The location of the cursor at the time of
the event is given by <code class="parameter">point</code> in the <code class="classname">BView</code>'s coordinates.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Pulse"></a>Pulse()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Pulse</span>();</code><p>
Implemented by derived classes to do something at regular intervals.
Pulses are regularly timed events, like the tick of a clock or the beat
of a steady pulse. A <code class="classname">BView</code> receives
<code class="methodname">Pulse()</code> notifications when no other
messages are pending, but only if it asks for them with the
<code class="constant">B_PULSE_NEEDED</code> flag.
</p><p>
The interval between <code class="methodname">Pulse()</code> calls can be set with
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>'s
<a class="link" href="BWindow.html#BWindow_SetPulseRate" title="SetPulseRate(), PulseRate()"><code class="methodname">SetPulseRate()</code></a>
function. The default interval is around 500 milliseconds.
The pulse rate is the same for all views within a window, but can vary
between windows.
</p><p>
Derived classes can implement a <code class="methodname">Pulse()</code> function to do something that
must be repeated continuously. However, for time-critical actions, you
should implement your own timing mechanism.
</p><p>
The <code class="classname">BView</code> version of this function is empty.
</p><p>
See also:
<a class="link" href="BView.html#BView_SetFlags" title="SetFlags() , Flags()"><code class="methodname">SetFlags()</code></a>
the <code class="classname">BView</code>
<a class="link" href="BView.html#BView_Constructor" title="BView()">constructor</a>,
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_TargetedByScrollView"></a>TargetedByScrollView()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">TargetedByScrollView</span>(<span class="methodparam"><span class="type"><a class="link" href="BScrollView.html" title="BScrollView"><code class="classname">BScrollView</code></a>* </span><span class="parameter">scroller</span></span>);</code><p>
Implemented by derived classes to respond to a notification that the
<code class="classname">BView</code> has become the target of the scroller
<a class="link" href="BScrollView.html" title="BScrollView"><code class="classname">BScrollView</code></a>
object. This function is called when the
<a class="link" href="BScrollView.html" title="BScrollView"><code class="classname">BScrollView</code></a>
sets its target, which it does on
construction. The target is the object whose contents will be scrolled.
</p><p>
<code class="classname">BView</code>'s implementation of this function is empty.
</p><p>
See also: The various scrolling-related
functions in <code class="classname">BView</code>
<a class="xref" href="BView.html#BView_Input" title="Input Related Functions">Input Related Functions</a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_WindowActivated"></a>WindowActivated()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">WindowActivated</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">active</span></span>);</code><p>
Implemented by derived classes to take whatever steps are necessary when
the <code class="classname">BView</code>'s window becomes the active window, or when the window gives up
that status. If <code class="parameter">active</code> is <code class="constant">true</code>,
the window has become active. If <code class="parameter">active</code>
is <code class="constant">false</code>, it no longer is the active window.
</p><p>
All objects in the view hierarchy receive
<code class="methodname">WindowActivated()</code>
notifications when the status of the window changes.
</p><p>
<code class="classname">BView</code>'s version of this function is empty.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_WindowActivated" title="WindowActivated()"><code class="methodname">BWindow::WindowActivated()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_General"></a>General Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Archive"></a>Archive()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Archive</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>,<br />                         <span class="methodparam"><span class="type">bool </span><span class="parameter">deep</span><span class="initializer"> = <span class="constant">true</span></span></span>) <span class="modifier">const</span>;</code><p>
Archives the <code class="classname">BView</code> in the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> <code class="parameter">archive</code>.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Archive" title="Archive()"><code class="methodname">BArchivable::Archive()</code></a>,
<a class="link" href="BView.html#BView_Instantiate" title="Instantiate()"><code class="methodname">Instantiate()</code></a> static function
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Bounds"></a>Bounds()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">Bounds</span>() <span class="modifier">const</span>;</code><p>
Returns the <code class="classname">BView</code>'s bounds rectangle.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ConvertToParent"></a><a id="BView_ConvertFromParent"></a>
ConvertToParent(), ConvertFromParent()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">ConvertToParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">localPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertToParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">localPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">ConvertToParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">localRect</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertToParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BRect*</code></a> </span><span class="parameter">localRect</span></span>) <span class="modifier">const</span>;</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">ConvertFromParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">parentPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertFromParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">parentPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">ConvertFromParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">parentRect</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertFromParent</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BRect*</code></a> </span><span class="parameter">parentRect</span></span>) <span class="modifier">const</span>;</code>
</div><p>
These functions convert points and rectangles to and from the coordinate
system of the <code class="classname">BView</code>'s parent.
<code class="methodname">ConvertToParent()</code> converts <code class="parameter">localPoint</code> or
<code class="parameter">localRect</code> from the <code class="classname">BView</code>'s coordinate system to the coordinate system of
its parent <code class="classname">BView</code>.
<code class="methodname">ConvertFromParent()</code> does the opposite; it converts
<code class="parameter">parentPoint</code> or <code class="parameter">parentRect</code> from the coordinate system of the <code class="classname">BView</code>'s
parent to the <code class="classname">BView</code>'s own coordinate system.
</p><p>
If the point or rectangle is passed by value, the function returns the
converted value. If a pointer is passed, the conversion is done in place.
</p><p>
Both functions fail if the <code class="classname">BView</code> isn't attached to a window.
</p><p>
See also:
<a class="link" href="BView.html#BView_ConvertToScreen" title="ConvertToScreen(), ConvertFromScreen()"><code class="methodname">ConvertToScreen()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ConvertToScreen"></a><a id="BView_ConvertFromScreen"></a>
ConvertToScreen(), ConvertFromScreen()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">ConvertToScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">localPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertToScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">localPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">ConvertToScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">localRect</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertToScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BRect*</code></a> </span><span class="parameter">localRect</span></span>) <span class="modifier">const</span>;</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">ConvertFromScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">screenPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertFromScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">screenPoint</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">ConvertFromScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">screenRect</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ConvertFromScreen</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BRect*</code></a> </span><span class="parameter">screenRect</span></span>) <span class="modifier">const</span>;</code>
</div><p>
<code class="methodname">ConvertToScreen()</code> converts
<code class="parameter">localPoint</code> or <code class="parameter">localRect</code> from the <code class="classname">BView</code>'s
coordinate system to the global screen coordinate system.
<code class="methodname">ConvertFromScreen()</code> makes the opposite conversion; it converts
<code class="parameter">screenPoint</code> or <code class="parameter">screenRect</code> from the screen coordinate system to the
<code class="classname">BView</code>'s local coordinate system.
</p><p>
If the point or rectangle is passed by value, the function returns the
converted value. If a pointer is passed, the conversion is done in place.
</p><p>
The screen coordinate system has its origin, (0.0, 0.0), at the left top
corner of the main screen.
</p><p>
Neither function will work if the <code class="classname">BView</code> isn't attached to a window.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_ConvertToScreen" title="ConvertToScreen(), ConvertFromScreen()"><code class="methodname">BWindow::ConvertToScreen()</code></a>,
<a class="link" href="BView.html#BView_ConvertToParent" title="ConvertToParent(), ConvertFromParent()"><code class="methodname">ConvertToParent()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Frame"></a>Frame()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">Frame</span>() <span class="modifier">const</span>;</code><p>
Returns the <code class="classname">BView</code>'s frame rectangle. The frame rectangle is first set by
the <code class="classname">BView</code> constructor and is altered only when the view is moved or
resized. It's stated in the coordinate system of the <code class="classname">BView</code>'s parent.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Hide"></a><a id="BView_Show"></a>
Hide(), Show()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Hide</span>();</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Show</span>();</code><p>
These functions hide a view and show it again.
</p><p>
<code class="methodname">Hide()</code> makes the view invisible without removing it from the view
hierarchy. The visible region of the view will be empty and the <code class="classname">BView</code>
won't receive update messages. If the <code class="classname">BView</code> has children, they also are
hidden.
</p><p>
<code class="methodname">Show()</code> unhides a view that had been hidden. This function doesn't
guarantee that the view will be visible to the user; it merely undoes the
effects of <code class="methodname">Hide()</code>. If the view didn't have any visible area before being
hidden, it won't have any after being shown again (given the same
conditions).
</p><p>
Calls to <code class="methodname">Hide()</code> and <code class="methodname">Show()</code>
can be nested. For a hidden view to become
visible again, the number of <code class="methodname">Hide()</code> calls must be matched by an equal
number of <code class="methodname">Show()</code> calls.
</p><p>
However, <code class="methodname">Show()</code> can only undo a previous <code class="methodname">Hide()</code> call on the same view. If
the view became hidden when <code class="methodname">Hide()</code> was called to hide the window it's in
or to hide one of its ancestors in the view hierarchy, calling <code class="methodname">Show()</code> on
the view will have no effect. For a view to come out of hiding, its
window and all its ancestor views must be unhidden.
</p><p>
<code class="methodname">Hide()</code> and <code class="methodname">Show()</code>
can affect a view before it's attached to a window. The
view will reflect its proper state (hidden or not) when it becomes
attached. Views are created in an unhidden state.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_Hide"><code class="methodname">BWindow::Hide()</code></a>,
<a class="link" href="BView.html#BView_IsHidden" title="IsHidden()"><code class="methodname">IsHidden()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_IsFocus"></a>IsFocus()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsFocus</span>();</code><p>
Returns <code class="constant">true</code> if the <code class="classname">BView</code>
is the current focus view for its window, and
<code class="constant">false</code> if it's not. The focus view changes as the user chooses one view to
work in and then another—for example, as the user moves from one
text field to another when filling out an on-screen form. The change is
made programmatically through the
<a class="link" href="BView.html#BView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a> function.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_CurrentFocus" title="CurrentFocus()"><code class="methodname">BWindow::CurrentFocus()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_IsHidden"></a>IsHidden()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsHidden</span>();</code><p>
Returns <code class="constant">true</code> if the view has been hidden by the
<a class="link" href="BView.html#BView_Hide" title="Hide(), Show()"><code class="methodname">Hide()</code></a> function, and
<code class="constant">false</code> otherwise.
</p><p>
This function returns <code class="constant">true</code> whether
<a class="link" href="BView.html#BView_Hide" title="Hide(), Show()"><code class="methodname">Hide()</code></a>
was called to hide the <code class="classname">BView</code>
itself, to hide an ancestor view, or to hide the <code class="classname">BView</code>'s window. When a
window is hidden, all its views are hidden with it. When a <code class="classname">BView</code> is
hidden, all its descendants are hidden with it.
</p><p>
If the view has no visible region—perhaps because it lies outside
its parent's frame rectangle or is obscured by a window in
front—this function may nevertheless return <code class="constant">false</code>. It reports only
whether the <a class="link" href="BView.html#BView_Hide" title="Hide(), Show()"><code class="methodname">Hide()</code></a>
function has been called to hide the view, hide one of
the view's ancestors in the view hierarchy, or hide the window where the
view is located.
</p><p>
If the <code class="classname">BView</code> isn't attached to a window,
<code class="methodname">IsHidden()</code> returns the state
that it will assume when it becomes attached. By default, views are not
hidden.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_IsPrinting"></a>IsPrinting()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsPrinting</span>() <span class="modifier">const</span>;</code><p>
Returns <code class="constant">true</code> if the <code class="classname">BView</code>
is being asked to draw for the printer, and
<code class="constant">false</code> if the drawing it produces will be rendered on-screen (or if the
<code class="classname">BView</code> isn't being asked to draw at all).
</p><p>
This function's result is only reliable when called from within
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> or
<a class="link" href="BView.html#BView_DrawAfterChildren" title="DrawAfterChildren()"><code class="methodname">DrawAfterChildren()</code></a>
to determine whether the drawing it does is destined for
the printer or the screen. When drawing to the printer, the <code class="classname">BView</code> may
choose different parameters—such as fonts, bitmap images, or
colors—than when drawing to the screen.
</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>You should avoid calling this function from outside
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> and
<a class="link" href="BView.html#BView_DrawAfterChildren" title="DrawAfterChildren()"><code class="methodname">DrawAfterChildren()</code></a>;
however, if you absolutely have to do it, lock the view
first. Failure to do so may bring up the debugger—if not in BeOS 5,
it may in future versions of BeOS.</p></div></div></div><p>
See also:
the <a class="link" href="BPrintJob.html" title="BPrintJob"><code class="classname">BPrintJob</code></a> class
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_LeftTop"></a>LeftTop()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">LeftTop</span>() <span class="modifier">const</span>;</code><p>
Returns the coordinates of the left top corner of the view—the
smallest x and y coordinate values within the bounds rectangle.
</p><p>
See also:
<a class="link" href="BRect.html#BRect_LeftTop"><code class="methodname">BRect::LeftTop()</code></a>,
<a class="link" href="BView.html#BView_Bounds" title="Bounds()"><code class="methodname">Bounds()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_MoveBy"></a><a id="BView_MoveTo"></a>
MoveBy(), MoveTo()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MoveBy</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">horizontal</span></span>,<br />            <span class="methodparam"><span class="type">float </span><span class="parameter">vertical</span></span>);</code><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MoveTo</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MoveTo</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">x</span></span>,<br />            <span class="methodparam"><span class="type">float </span><span class="parameter">y</span></span>);</code>
</div><p>
These functions move the view in its parent's coordinate system without
altering its size.
</p><p>
<code class="methodname">MoveBy()</code> adds <code class="parameter">horizontal</code> coordinate units to the left and right
components of the frame rectangle and <code class="parameter">vertical</code> units to the top and
bottom components. If <code class="parameter">horizontal</code> and
<code class="parameter">vertical</code> are positive, the view
moves downward and to the right. If they're negative, it moves upward and
to the left.
</p><p>
<code class="methodname">MoveTo()</code> moves the upper left corner of the view
to <code class="parameter">point</code> or to (<code class="parameter">x</code>, <code class="parameter">y</code>)
in the parent view's coordinate system and adjusts all
coordinates in the frame rectangle accordingly.
</p><p>
Neither function alters the <code class="classname">BView</code>'s bounds rectangle or coordinate system.
</p><p>
None of the values passed to these functions should specify fractional
coordinates; the sides of a view must line up on screen pixels.
Fractional values will be rounded to the closest whole number.
</p><p>
If the <code class="classname">BView</code> is attached to a window, these functions cause its parent
view to be updated, so the <code class="classname">BView</code> is immediately displayed in its new
location. If it doesn't have a parent or isn't attached to a window,
these functions merely alter its frame rectangle.
</p><p>
See also:
<a class="link" href="BView.html#BView_FrameMoved" title="FrameMoved()"><code class="methodname">FrameMoved()</code></a>,
<a class="link" href="BView.html#BView_ResizeBy" title="ResizeBy(), ResizeTo()"><code class="methodname">ResizeBy()</code></a>,
<a class="link" href="BView.html#BView_Frame" title="Frame()"><code class="methodname">Frame()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ResizeBy"></a><a id="BView_ResizeTo"></a>
ResizeBy(), ResizeTo()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ResizeBy</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">horizontal</span></span>,<br />              <span class="methodparam"><span class="type">float </span><span class="parameter">vertical</span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ResizeTo</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">width</span></span>,<br />              <span class="methodparam"><span class="type">float </span><span class="parameter">height</span></span>);</code><p>
These functions resize the view, without moving its left and top sides.
<code class="methodname">ResizeBy()</code> adds <code class="parameter">horizontal</code>
coordinate units to the width of the view and
<code class="parameter">vertical</code> units to the height.
<code class="methodname">ResizeTo()</code> makes the view <code class="parameter">width</code> units wide
and <code class="parameter">height</code> units high. Both functions adjust the right and bottom
components of the frame rectangle accordingly.
</p><p>
Since a <code class="classname">BView</code>'s frame rectangle must be aligned on screen pixels, only
integral values should be passed to these functions. Values with
fractional components will be rounded to the nearest whole integer.
</p><p>
If the <code class="classname">BView</code> is attached to a window, these functions cause its parent
view to be updated, so the <code class="classname">BView</code> is immediately displayed in its new
size. If it doesn't have a parent or isn't attached to a window, these
functions merely alter its frame and bounds rectangles.
</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>If the view isn't attached to a window, its frame and bounds rectangles
are adjusted, but its children, if any, don't get corresponding
adjustments.</p></div></div></div><p>
See also:
<a class="link" href="BView.html#BView_FrameResized" title="FrameResized()"><code class="methodname">FrameResized()</code></a>,
<a class="link" href="BView.html#BView_MoveBy" title="MoveBy(), MoveTo()"><code class="methodname">MoveBy()</code></a>,
<a class="link" href="BView.html#BView_Frame" title="Frame()"><code class="methodname">Frame()</code></a>,
<a class="link" href="BRect.html#BRect_Width" title="Width(), IntegerWidth(), Height(), IntegerHeight()"><code class="methodname">BRect::Width()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetFlags"></a><a id="BView_Flags"></a>
SetFlags() , Flags()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetFlags</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">mask</span></span>);</code><code class="methodsynopsis cpp"><span class="type">uint32 </span><span class="methodname">Flags</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the flags that inform the Application
Server about the kinds of notifications the <code class="classname">BView</code> should receive. The
mask set by <code class="methodname">SetFlags()</code> and the return value of
<code class="methodname">Flags()</code> is formed from
combinations of the following constants:
</p><ul class="itemizedlist"><li><p><code class="constant">B_WILL_DRAW</code></p></li><li><p><code class="constant">B_FULL_UPDATE_ON_RESIZE</code></p></li><li><p><code class="constant">B_FRAME_EVENTS</code></p></li><li><p><code class="constant">B_PULSE_NEEDED</code></p></li><li><p><code class="constant">B_NAVIGABLE</code></p></li><li><p><code class="constant">B_NAVIGABLE_JUMP</code></p></li><li><p><code class="constant">B_SUBPIXEL_PRECISE</code></p></li></ul><p>
The flags are first set when the <code class="classname">BView</code> is constructed; they're explained
in the description of the <code class="classname">BView</code> constructor. The mask can be 0.
</p><p>
To set just one of the flags, combine it with the current setting:
</p><pre class="programlisting example cpp"><code class="varname">myView</code>-&gt;<code class="methodname">SetFlags</code>(<code class="methodname">Flags</code>() | <code class="constant">B_FRAME_EVENTS</code>);</pre><p>
See also:
The <code class="classname">BView</code> <a class="link" href="BView.html#BView_Constructor" title="BView()">constructor</a>,
<a class="link" href="BView.html#BView_SetResizingMode" title="SetResizingMode(), ResizingMode()"><code class="methodname">SetResizingMode()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetOrigin"></a><a id="BView_Origin"></a>
SetOrigin(), Origin()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetOrigin</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">pt</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetOrigin</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">x</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">y</span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">Origin</span>() <span class="modifier">const</span>;</code><p>
Sets and retrieves the local origin of the <code class="classname">BView</code>'s coordinate system.
</p><p>
The actual origin used by the Application Server is the sum of the local
origin (as set by this method) and the origins stored on the state stack
(properly scaled).
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetResizingMode"></a><a id="BView_ResizingMode"></a>
SetResizingMode(), ResizingMode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetResizingMode</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">mode</span></span>);</code><code class="methodsynopsis cpp"><span class="type">uint32 </span><span class="methodname">ResizingMode</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the <code class="classname">BView</code>'s automatic
resizing mode. The resizing mode is first set when the
<code class="classname">BView</code> is constructed. The various possible modes are
explained where the <a class="link" href="BView.html#BView_Constructor" title="BView()">constructor</a> is
described.
</p><p>
See also:
<a class="link" href="BView.html#BView_SetFlags" title="SetFlags() , Flags()"><code class="methodname">SetFlags()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetViewCursor"></a>SetViewCursor()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetViewCursor</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BCursor.html" title="BCursor"><code class="classname">BCursor</code></a>* </span><span class="parameter">cursor</span></span>,<br />                   <span class="methodparam"><span class="type">bool </span><span class="parameter">sync</span><span class="initializer"> = <span class="constant">true</span></span></span>) <span class="modifier">const</span>;</code><p>
Sets the specified <code class="parameter">cursor</code> as the view's cursor; while the mouse is inside
the view, this cursor will be displayed (unless of course the cursor is
hidden or obscured).
</p><p>
If <code class="parameter">sync</code> is <code class="constant">true</code>, the
Application Server will be synchronized by this call, forcing the change to
take place immediately. If <code class="parameter">sync</code> is
<code class="constant">false</code>, the change will take place when the Application
Server naturally gets to the change in its queue of pending requests.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Window"></a>Window()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>* </span><span class="methodname">Window</span>() <span class="modifier">const</span>;</code><p>
Returns the <a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>
to which the <code class="classname">BView</code> belongs, or <code class="constant">NULL</code>
if the <code class="classname">BView</code>
isn't attached to a window. This function returns the same object that
<a class="link" href="BHandler.html#BHandler_Looper" title="Looper()"><code class="methodname">Looper()</code></a>
(inherited from the <a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>
class) does—except that
<code class="methodname">Window()</code> returns it more specifically as a pointer to a
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a> and
<a class="link" href="BHandler.html#BHandler_Looper" title="Looper()"><code class="methodname">Looper()</code></a>
returns it more generally as a pointer to a
<a class="link" href="BLooper.html" title="BLooper"><code class="classname">BLooper</code></a>.
</p><p>
See also:
<a class="link" href="BHandler.html#BHandler_Looper" title="Looper()"><code class="methodname">BHandler::Looper()</code></a> in the Application Kit,
<a class="link" href="BView.html#BView_AddChild" title="AddChild(), RemoveChild()"><code class="methodname">AddChild()</code></a>,
<a class="link" href="BWindow.html#BWindow_AddChild" title="AddChild(), RemoveChild(), ChildAt(), CountChildren()"><code class="methodname">BWindow::AddChild()</code></a>,
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">AttachedToWindow()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ViewHierarchy"></a>View Hierarchy Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_AddChild"></a><a id="BView_RemoveChild"></a>
AddChild(), RemoveChild()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">AddChild</span>(<span class="methodparam"><span class="type">BView* </span><span class="parameter">aView</span></span>,<br />              <span class="methodparam"><span class="type">BView* </span><span class="parameter">sibling</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">RemoveChild</span>(<span class="methodparam"><span class="type">BView* </span><span class="parameter">aView</span></span>);</code><p>
<code class="methodname">AddChild()</code> makes <code class="parameter">aView</code> a
child of the <code class="classname">BView</code>, provided that <code class="parameter">aView</code> doesn't
already have a parent. The new child is added to the
<code class="classname">BView</code>'s list of children immediately before the
named <code class="parameter">sibling</code> <code class="classname">BView</code>. If the
<code class="parameter">sibling</code> is <code class="constant">NULL</code> (as it is by
default), <code class="parameter">aView</code> isn't added in front of any other
view—in other words, it's added to the end of the list. If the
<code class="classname">BView</code> is attached to a window,
<code class="parameter">aView</code> and all its descendants become attached to the
same window. Each of them is notified of this change through
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">AttachedToWindow()</code></a> and
<a class="link" href="BView.html#BView_AllAttached"><code class="methodname">AllAttached()</code></a>
function calls.
</p><p>
<code class="methodname">AddChild()</code> fails if <code class="parameter">aView</code>
already belongs to a view hierarchy. A view can
live with only one parent at a time. It also fails if sibling is not
already a child of the <code class="classname">BView</code>.
</p><p>
<code class="methodname">RemoveChild()</code> severs the link between the
<code class="classname">BView</code> and <code class="parameter">aView</code>, so that <code class="parameter">aView</code>
is no longer a child of the <code class="classname">BView</code>;
<code class="parameter">aView</code> retains all its own children and
descendants, but they become an isolated fragment of a view hierarchy,
unattached to a window. Each removed view is notified of this change
through
<a class="link" href="BView.html#BView_DetachedFromWindow" title="DetachedFromWindow(), AllDetached()"><code class="methodname">DetachedFromWindow()</code></a> and
<a class="link" href="BView.html#BView_AllDetached"><code class="methodname">AllDetached()</code></a>
function calls.
</p><p>
A <code class="classname">BView</code> must be removed from a window before it can be destroyed.
</p><p>
If it succeeds in removing <code class="parameter">aView</code>, <code class="methodname">RemoveChild()</code>
returns <code class="constant">true</code>. If it
fails, it returns <code class="constant">false</code>. It will fail if <code class="parameter">aView</code>
is not, in fact, a current child of the <code class="classname">BView</code>.
</p><p>
When a <code class="classname">BView</code> object becomes attached to a
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>, two other connections
are automatically established for it:
</p><ul class="itemizedlist"><li><p>
The view is added to the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>'s flat list of
<a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a> objects,
making it an eligible target for messages the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a> dispatches.
</p></li><li><p>
The <code class="classname">BView</code>'s parent view becomes its next handler. Messages that the
<code class="classname">BView</code> doesn't recognize will be passed to its parent.
</p></li></ul><p>
Removing a <code class="classname">BView</code> from a window's view hierarchy also removes it from the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>'s flat list of
<a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>
objects; the <code class="classname">BView</code> will no longer be
eligible to handle messages dispatched by the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_AddChild" title="AddChild(), RemoveChild(), ChildAt(), CountChildren()"><code class="methodname">BWindow::AddChild()</code></a>,
<a class="link" href="BLooper.html#BLooper_AddHandler" title="AddHandler(), RemoveHandler(), HandlerAt(), CountHandlers(), IndexOf()"><code class="methodname">BLooper::AddHandler()</code></a>,
<a class="link" href="BHandler.html#BHandler_SetNextHandler" title="SetNextHandler(), NextHandler()"><code class="methodname">BHandler::SetNextHandler()</code></a>,
<a class="link" href="BView.html#BView_RemoveSelf" title="RemoveSelf()"><code class="methodname">RemoveSelf()</code></a>,
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">AttachedToWindow()</code></a>,
<a class="link" href="BView.html#BView_DetachedFromWindow" title="DetachedFromWindow(), AllDetached()"><code class="methodname">DetachedFromWindow()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_FindView"></a>FindView()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">BView* </span><span class="methodname">FindView</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">name</span></span>) <span class="modifier">const</span>;</code><p>
Returns the <code class="classname">BView</code> identified by <code class="parameter">name</code>,
or <code class="constant">NULL</code> if the view can't be found.
Names are assigned by the <code class="classname">BView</code> constructor and can be modified by the
<a class="link" href="BHandler.html#BHandler_SetName" title="SetName(), Name()"><code class="methodname">SetName()</code></a> function inherited from
<a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>.
</p><p>
<code class="methodname">FindView()</code> begins the search by checking
whether the <code class="classname">BView</code>'s name matches
<code class="parameter">name</code>. If not, it continues to search down the view hierarchy, among the
<code class="classname">BView</code>'s children and more distant descendants. To search the entire view
hierarchy, use the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>
<a class="link" href="BWindow.html#BWindow_FindView" title="FindView()">version</a> of this function.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Parent"></a><a id="BView_NextSibling"></a>
<a id="BView_PreviousSibling"></a>
<a id="BView_ChildAt"></a>
<a id="BView_CountChildren"></a>
Parent(), NextSibling(), PreviousSibling(), ChildAt(), CountChildren()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">BView* </span><span class="methodname">Parent</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">BView* </span><span class="methodname">NextSibling</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">BView* </span><span class="methodname">PreviousSibling</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">BView* </span><span class="methodname">ChildAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountChildren</span>() <span class="modifier">const</span>;</code><p>
These functions provide various ways of navigating the view hierarchy.
<code class="methodname">Parent()</code> returns the <code class="classname">BView</code>'s
parent view, unless the parent is the top
view of the window, in which case it returns <code class="constant">NULL</code>.
It also returns <code class="constant">NULL</code>
if the <code class="classname">BView</code> doesn't belong to a view hierarchy and has no parent.
</p><p>
All the children of the same parent are arranged in a linked list.
<code class="methodname">NextSibling()</code> returns the next sibling of
the <code class="classname">BView</code> in the list, or <code class="constant">NULL</code>
if the <code class="classname">BView</code> is the last child of its parent.
<code class="methodname">PreviousSibling()</code> returns
the previous sibling of the <code class="classname">BView</code>, or <code class="constant">NULL</code>
if the <code class="classname">BView</code> is the first
child of its parent.
</p><p>
<code class="methodname">ChildAt()</code> returns the view at <code class="parameter">index</code>
in the list of the <code class="classname">BView</code>'s children,
or <code class="constant">NULL</code> if the <code class="classname">BView</code> has no such child.
Indices begin at 0 and there are
no gaps in the list. <code class="methodname">CountChildren()</code> returns the number of children the
<code class="classname">BView</code> has. If the <code class="classname">BView</code> has no
children, <code class="methodname">CountChildren()</code> returns <code class="constant">NULL</code>, as
will <code class="methodname">ChildAt()</code> for all indices, including 0.
</p><p>
To scan the list of a <code class="classname">BView</code>'s children, you can increment the <code class="parameter">index</code>
passed to <code class="methodname">ChildAt()</code> until it returns
<code class="constant">NULL</code>. However, it's more efficient
to ask for the first child and then use <code class="methodname">NextSibling()</code> to walk down the
sibling list. For example:
</p><pre class="programlisting example cpp"><span class="type">BView *</span><code class="varname">child</code>;
if ( <code class="varname">child</code> = <code class="varname">myView</code>-&gt;<code class="methodname">ChildAt</code>(0) ) {
   while ( <code class="varname">child</code> ) {
      . . .
      <code class="varname">child</code> = <code class="varname">child</code>-&gt;<code class="methodname">NextSibling</code>();
   }
}</pre></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_RemoveSelf"></a>RemoveSelf()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">RemoveSelf</span>();</code><p>
Removes the <code class="classname">BView</code> from its parent and returns
<code class="parameter">true</code>, or returns <code class="parameter">false</code> if
the <code class="classname">BView</code> doesn't have a parent or for some reason can't be removed from
the view hierarchy.
</p><p>
This function acts just like
<a class="link" href="BView.html#BView_RemoveChild"><code class="methodname">RemoveChild()</code></a>,
except that it removes the
<code class="classname">BView</code> itself rather than one of its children.
</p><p>
See also:
<a class="link" href="BView.html#BView_AddChild" title="AddChild(), RemoveChild()"><code class="methodname">AddChild()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Input"></a>Input Related Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_BeginRectTracking"></a><a id="BView_EndRectTracking"></a>
BeginRectTracking(), EndRectTracking()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">BeginRectTracking</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                       <span class="methodparam"><span class="type">uint32 </span><span class="parameter">how</span><span class="initializer"> = <span class="constant">B_TRACK_WHOLE_RECT</span></span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">EndRectTracking</span>();</code><p>
These functions instruct the Application Server to display a rectangular
outline that will track the movement of the cursor.
<code class="methodname">BeginRectTracking()</code>
puts the rectangle on-screen and initiates tracking;
<code class="methodname">EndRectTracking()</code>
terminates tracking and removes the rectangle. The initial rectangle,
<code class="parameter">rect</code>, is specified in the <code class="classname">BView</code>'s coordinate system.
</p><p>
This function supports two kinds of tracking, depending on the constant
passed as the <code class="parameter">how</code> argument:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_TRACK_WHOLE_RECT</code></span></p></td><td><p>The whole rectangle moves with the cursor. Its
position changes, but its size remains fixed.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_TRACK_RECT_CORNER</code></span></p></td><td><p>The left top corner of the rectangle remains fixed
within the view while its right and bottom edges move with the cursor.</p></td></tr></tbody></table><p>
Tracking is typically initiated from within a <code class="classname">BView</code>'s
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a>
function and is terminated in
<a class="link" href="BView.html#BView_MouseUp" title="MouseUp()"><code class="methodname">MouseUp()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DragMessage"></a>DragMessage()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DragMessage</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>* </span><span class="parameter">replyTarget</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DragMessage</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">bitmap</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>* </span><span class="parameter">replyTarget</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DragMessage</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>,<br />                 <span class="methodparam"><span class="type">drawing_mode </span><span class="parameter">dragMode</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">offset</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>* </span><span class="parameter">replyTarget</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>
</div><p>
Initiates a drag-and-drop session.
</p><p>
<code class="parameter">message</code>, is a
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>
object that bundles the information that will be
dragged and dropped on the destination view. The caller retains
responsibility for this object and can delete it after <code class="methodname">DragMessage()</code>
returns (the <code class="classname">BView</code> makes a copy of the message).
</p><p>
<code class="parameter">image</code>, is a bitmap that the user can drag. The bitmap is automatically
freed when the message is dropped.
</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>1 bit-per-pixel bitmaps aren't supported; you should avoid using them.</p></div></div></div><p>
<code class="parameter">point</code> locates the hotspot within image (in the bitmap's coordinate
system). This is the point that's aligned with the location passed to
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a>
or returned by
<a class="link" href="BView.html#BView_GetMouse" title="GetMouse()"><code class="methodname">GetMouse()</code></a>.
</p><p>
<code class="parameter">rect</code> defines the dimensions of an outline rectangle that you can instead
of a bitmap. The rectangle is stated in the <code class="classname">BView</code>'s coordinate system.
</p><p>
<code class="parameter">replyTarget</code>, names the object that you want to handle a message that
might be sent in reply to the dragged message. If
<code class="parameter">replyTarget</code> is <code class="constant">NULL</code>, as
it is by default, any reply that's received will be directed to the <code class="classname">BView</code>
object that initiated the drag-and-drop session.
</p><p>
<code class="parameter">dragMode</code> defines the <span class="type">drawing_mode</span>
which will be used to draw image as the
image is dragged around. This is provided primarily so that transparent
or partially transparent images can be dragged around (using the
<code class="constant">B_OP_ALPHA</code> drawing mode).
</p><p>
This function works only for <code class="classname">BView</code>
objects that are attached to a window.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_GetMouse"></a>GetMouse()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetMouse</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a>* </span><span class="parameter">cursor</span></span>,<br />              <span class="methodparam"><span class="type">uint32* </span><span class="parameter">buttons</span></span>,<br />              <span class="methodparam"><span class="type">bool </span><span class="parameter">checkQueue</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><p>
Provides the location of the cursor and the state of the mouse buttons.
The position of the cursor is recorded in the variable referred to by
<code class="parameter">cursor</code>; it's provided in the
<code class="classname">BView</code>'s own coordinates. A bit is set in the
variable referred to by <code class="parameter">buttons</code> for each mouse button that's down. This
mask may be 0 (if no buttons are down) or it may contain one or more of
the following constants:
</p><ul class="itemizedlist"><li><p><code class="constant">B_PRIMARY_MOUSE_BUTTON</code></p></li><li><p><code class="constant">B_SECONDARY_MOUSE_BUTTON</code></p></li><li><p><code class="constant">B_TERTIARY_MOUSE_BUTTON</code></p></li></ul><p>
The cursor doesn't have to be located within the view for this function
to work; it can be anywhere on-screen. However, the <code class="classname">BView</code> must be
attached to a window.
</p><p>
If the <code class="parameter">checkQueue</code> flag is set to <code class="constant">false</code>,
<code class="methodname">GetMouse()</code> provides information
about the current state of the mouse buttons and the current location of
the cursor.
</p><p>
If <code class="parameter">checkQueue</code> is <code class="constant">true</code>, as it
is by default, this function first looks in
the message queue for any pending reports of mouse-moved or mouse-up
events. If it finds any, it takes the one that has been in the queue the
longest (the oldest message), removes it from the queue, and reports the
cursor location and button states that were recorded in the message. Each
<code class="methodname">GetMouse()</code> call removes another message from the queue. If the queue
doesn't hold any <code class="constant">B_MOUSE_MOVED</code> or <code class="constant">B_MOUSE_UP</code>
messages, <code class="methodname">GetMouse()</code> reports
the current state of the mouse and cursor, just as if <code class="parameter">checkQueue</code> were
<code class="constant">false</code>.
</p><p>
If <code class="parameter">checkQueue</code> is <code class="constant">true</code>,
and the view's parent window has pending update
events, <code class="methodname">GetMouse()</code> causes those update events to be processed.
</p><p>
You shouldn't use this function to track the mouse; implement the
<a class="link" href="BView.html#BView_MouseMoved" title="MouseMoved()"><code class="methodname">MouseMoved()</code></a> function instead.
</p><p>
See also:
<a class="link" href="TheInputServer_Functions.html#modifiers" title="modifiers()"><code class="function">modifiers()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_MakeFocus"></a>MakeFocus()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MakeFocus</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">focused</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><p>
Makes the <code class="classname">BView</code> the current focus view for its
window (if the <code class="parameter">focused</code>
flag is <code class="constant">true</code>), or causes it to give up that status
(if <code class="parameter">focused</code> is <code class="constant">false</code>).
The focus view is the view that displays the current selection and is
expected to handle reports of key-down events when the window is the
active window. There can be no more than one focus view per window at a
time.
</p><p>
When called to make a <code class="classname">BView</code> the focus view, this function invokes
<code class="methodname">MakeFocus()</code> for the previous focus view,
passing it an argument of <code class="constant">false</code>.
It's thus called twice—once for the new and once for the old focus
view.
</p><p>
Calling <code class="methodname">MakeFocus()</code> is the only way to make a view the focus view; the
focus doesn't automatically change on mouse-down events. <code class="classname">BView</code>s that can
display the current selection (including an insertion point) or that can
accept pasted data should call <code class="methodname">MakeFocus()</code>in their
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a> functions.
</p><p>
A derived class can override <code class="methodname">MakeFocus()</code> to add code that takes note of
the change in status. For example, a <code class="classname">BView</code> that displays selectable data
may want to highlight the current selection when it becomes the focus
view, and remove the highlighting when it's no longer the focus view. A
<code class="classname">BView</code> that participates in the keyboard navigation system should visually
indicate that it can be operated from the keyboard when it becomes the
focus view, and remove that indication when the user navigates to another
view and it's notified that it's no longer the focus view.
</p><p>
If the <code class="classname">BView</code> isn't attached to a window, this function has no effect.
</p><p>
See also:
<a class="link" href="BWindow.html#BWindow_CurrentFocus" title="CurrentFocus()"><code class="methodname">BWindow::CurrentFocus()</code></a>,
<a class="link" href="BView.html#BView_IsFocus" title="IsFocus()"><code class="methodname">IsFocus()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ScrollBar"></a>ScrollBar()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BScrollBar.html" title="BScrollBar"><code class="classname">BScrollBar</code></a>* </span><span class="methodname">ScrollBar</span>(<span class="methodparam"><span class="type">orientation </span><span class="parameter">posture</span></span>) <span class="modifier">const</span>;</code><p>
Returns a <a class="link" href="BScrollBar.html" title="BScrollBar"><code class="classname">BScrollBar</code></a>
object that scrolls the <code class="classname">BView</code> (that has the <code class="classname">BView</code> as
its target). The requested scroll bar has the <code class="parameter">posture</code>
orientation—<code class="constant">B_VERTICAL</code> or <code class="constant">B_HORIZONTAL</code>.
If the <code class="classname">BView</code> isn't the
target of a scroll bar with the specified orientation, this function
returns <code class="constant">NULL</code>.
</p><p>
See also:
<a class="link" href="BScrollBar.html#BScrollBar_SetTarget" title="SetTarget(), Target()"><code class="methodname">BScrollBar::SetTarget()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ScrollBy"></a><a id="BView_ScrollTo"></a>
ScrollBy(), ScrollTo()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ScrollBy</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">horizontal</span></span>,<br />              <span class="methodparam"><span class="type">float </span><span class="parameter">vertical</span></span>);</code><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">ScrollTo</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>

<code class="methodsynopsis cpp"><span class="modifier">inline </span><span class="void">void </span><span class="methodname">ScrollTo</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">x</span></span>,<br />                     <span class="methodparam"><span class="type">float </span><span class="parameter">y</span></span>);</code>
</div><p>
These functions scroll the contents of the view, provided that the <code class="classname">BView</code>
is attached to a window.
</p><p>
<code class="methodname">ScrollBy()</code> adds <code class="parameter">horizontal</code>
to the left and right components of the
<code class="classname">BView</code>'s bounds rectangle, and <code class="parameter">vertical</code>
to the top and bottom components.
This serves to shift the display <code class="parameter">horizontal</code> coordinate units to the left
and <code class="parameter">vertical</code> units upward. If <code class="parameter">horizontal</code>
and <code class="parameter">vertical</code> are negative, the
display shifts in the opposite direction.
</p><p>
<code class="methodname">ScrollTo()</code> shifts the contents of the view as much as necessary to put
<code class="parameter">point</code>—or
(<code class="parameter">x</code>, <code class="parameter">y</code>)—at the upper left corner of its bounds
rectangle. The point is specified in the <code class="classname">BView</code>'s coordinate system.
</p><p>
Anything in the view that was visible before scrolling and also visible
afterwards is automatically redisplayed at its new location. The
remainder of the view is invalidated, so the <code class="classname">BView</code>'s
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> function will
be called to fill in those parts of the display that were previously
invisible. The update rectangle passed to
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> will be the smallest
possible rectangle that encloses just these new areas. If the view is
scrolled in only one direction, the update rectangle will be exactly the
area that needs to be drawn.
</p><p>
If the <code class="classname">BView</code> is the target of scroll bars,
<code class="methodname">ScrollBy()</code> and <code class="methodname">ScrollTo()</code>
notify the <a class="link" href="BScrollBar.html" title="BScrollBar"><code class="methodname">BScrollBar</code></a>
objects of the change in the display so they can
update themselves to match. If the contents were scrolled horizontally,
they call the horizontal
<a class="link" href="BScrollBar.html" title="BScrollBar"><code class="methodname">BScrollBar</code></a>'s
<a class="link" href="BScrollBar.html#BScrollBar_SetValue" title="SetValue(), Value()"><code class="methodname">SetValue()</code></a> function and pass it the
new value of the left side of the bounds rectangle. If they were scrolled
vertically, they call
<a class="link" href="BScrollBar.html#BScrollBar_SetValue" title="SetValue(), Value()"><code class="methodname">SetValue()</code></a>
for the vertical
<a class="link" href="BScrollBar.html" title="BScrollBar"><code class="methodname">BScrollBar</code></a>
and pass it the new value of the top of the bounds rectangle.
</p><p>
The <span class="code">inline</span> version of <code class="methodname">ScrollTo()</code>
works by creating a <a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> object and
passing it to the version that's declared <span class="code">virtual</span>. Therefore, if you want
to override either function, you should override the <span class="code">virtual</span> version.
(However, due to the peculiarities of C++, overriding any version of an
overloaded function hides all versions of the function. For continued
access to the nonvirtual version without explicitly specifying the
"BView::" prefix, simply copy the <span class="code">inline</span> code from
<code class="filename">interface/View.h</code> into
the derived class.)
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetEventMask"></a><a id="BView_SetMouseEventMask"></a>
<a id="BView_EventMask"></a>
SetEventMask(), SetMouseEventMask() , EventMask()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetEventMask</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">events</span></span>,<br />                      <span class="methodparam"><span class="type">uint32 </span><span class="parameter">options</span><span class="initializer"> = 0</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetMouseEventMask</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">events</span></span>,<br />                           <span class="methodparam"><span class="type">uint32 </span><span class="parameter">options</span><span class="initializer"> = 0</span></span>);</code><code class="methodsynopsis cpp"><span class="type">uint32 </span><span class="methodname">EventMask</span>();</code><p>
<code class="methodname">SetEventMask()</code> lets you extend the scope of the mouse and keyboard events
that the view can receive. If <code class="parameter">events</code> includes
<code class="constant">B_POINTER_EVENTS</code>, the view
will receive mouse events (aka pointer events) even when the mouse isn't
over the view; if it includes <code class="constant">B_KEYBOARD_EVENTS</code>, the view will receive
keyboard events even if the view isn't in focus. (We'll look at the
options argument below).
</p><p>
<code class="methodname">SetMouseEventMask()</code> does the same thing as
<code class="methodname">SetEventMask()</code>, except (1) it
can only be called from within an implementation of
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a>, and (2)
the new <code class="parameter">events</code> value—which is added to the current event
mask—is only in effect until (and including) the following mouse up
event. When the mouse is released, the view's previous event mask (as set
through <code class="methodname">SetEventMask()</code>) is re-established.
</p><p>
The <code class="parameter">option</code> arguments lets you request other event-handling modifications
(note that <code class="methodname">SetEventMask()</code> only accepts the first of these options;
<code class="methodname">SetMouseEventMask()</code> accepts all three):
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_NO_POINTER_HISTORY</code>.</span></p></td><td><p>This tells the App Server to only send the most
recent pointer moved (i.e. mouse moved) event to your view (all "old"
events are thrown away). You use this option if your
<a class="link" href="BView.html#BView_MouseMoved" title="MouseMoved()"><code class="methodname">MouseMoved()</code></a>
implementation is too heavy to keep up with the mouse moved messages
that are pouring in. Of course, your view may lose some mouse movement
granularity, but that's the price you pay to stay in synch with the
user.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_SUSPEND_VIEW_FOCUS</code></span></p></td><td><p>(<code class="methodname">SetMouseEventMask()</code> only). Events that are
normally sent to the focus view are suppressed. In practice, this means
that while the mouse is held down, the keyboard is turned off. Note
that the view that's processing the
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a>
messages doesn't have to be the focus view to suppress focused messages.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_LOCK_WINDOW_FOCUS</code></span></p></td><td><p>(<code class="methodname">SetMouseEventMask()</code> only). Prevents the view's
window from losing focused status while the mouse is down, even if the
mouse leaves the window's bounds.</p></td></tr></tbody></table><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>To ask for an option without changing the event mask (or mouse event
mask), pass 0 as the events argument.</p></div></div></div><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>Both <code class="methodname">SetEventMask()</code> and
<code class="methodname">SetMouseEventMask()</code> require that the view be
attached to a window; they have no effect if the view isn't already
attached.</p></div></div></div><p>
<code class="methodname">EventMask()</code> returns the view's event mask as set through
<code class="methodname">SetEventMask()</code>.
It doesn't consider the mask set in <code class="methodname">SetMouseEventMask()</code>.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Graphics"></a>Graphics State Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_MovePenBy"></a><a id="BView_PenLocation"></a>
<a id="BView_MovePenTo"></a>
MovePenBy(), MovePenTo(), PenLocation()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MovePenBy</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">horizontal</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">vertical</span></span>);</code><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MovePenTo</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MovePenTo</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">x</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">y</span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">PenLocation</span>() <span class="modifier">const</span>;</code><p>
These functions move the pen (without drawing a line) and report the
current pen location.
</p><p>
<code class="methodname">MovePenBy()</code> moves the pen <code class="parameter">horizontal</code>
coordinate units to the right and <code class="parameter">vertical</code> units downward.
If <code class="parameter">horizontal</code> or <code class="parameter">vertical</code> are negative, the pen
moves in the opposite direction. <code class="methodname">MovePenTo()</code> moves the pen to
<code class="parameter">point</code>—or to (<code class="parameter">x</code>, <code class="parameter">y</code>)—in
the <code class="classname">BView</code>'s coordinate system.
</p><p>
Some drawing functions also move the pen—to the end of whatever
they draw. In particular, this is true of
<a class="link" href="BView.html#BView_StrokeLine" title="StrokeLine()"><code class="methodname">StrokeLine()</code></a>,
<a class="link" href="BView.html#BView_DrawString" title="DrawString()"><code class="methodname">DrawString()</code></a>, and
<a class="link" href="BView.html#BView_DrawChar" title="DrawChar()"><code class="methodname">DrawChar()</code></a>.
Functions that stroke a closed shape (such as
<a class="link" href="BView.html#BView_StrokeEllipse" title="StrokeEllipse(), FillEllipse(), StrokeArc(), FillArc()"><code class="methodname">StrokeEllipse()</code></a>)
don't move the pen.
</p><p>
The pen location is a parameter of the <code class="classname">BView</code>'s graphics environment,
which is maintained by both the Application Server and the <code class="classname">BView</code>. If the
<code class="classname">BView</code> doesn't belong to a window,
<code class="methodname">MovePenTo()</code> and <code class="methodname">MovePenBy()</code> cache the
location, so that later, when the <code class="classname">BView</code> becomes attached to a window, it
can be handed to the server to become the operable pen location for the
<code class="classname">BView</code>. If the <code class="classname">BView</code> belongs
to a window, these functions alter both the
server parameter and the client-side cache.
</p><p>
<code class="methodname">PenLocation()</code> returns the point where the pen is currently positioned in
the <code class="classname">BView</code>'s coordinate system. Because of the cache, this shouldn't
entail contacting the server. The default pen position is (0.0, 0.0).
</p><p>
See also:
<a class="link" href="BView.html#BView_SetPenSize" title="SetPenSize(), PenSize()"><code class="methodname">SetPenSize()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_PushState"></a><a id="BView_PopState"></a>
PushState(), PopState()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">PushState</span>();</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">PopState</span>();</code><p>
Saves and restores the state from the state stack. A state consists of
the following: local and global origins, local and global scales, drawing
mode, line cap and join modes, miter limit, pen size and location,
foreground and background color, stipple pattern, local and global
clipping regions, and the font context. When a state is saved to the
stack, a new state context is created, with a local scale of zero, a
local origin at (0,0), and no clipping region.
</p><div class="admonition warning"><div class="title">Warning</div><div class="graphic"><img class="icon" alt="Warning" width="32" src="./images/admonitions/Stop_32.png" /><div class="text"><p>If the <code class="classname">BView</code> isn't attached to a window, these functions will crash the
application.</p></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetLineMode"></a><a id="BView_LineMiterLimit"></a>
<a id="BView_LineCapMode"></a>
<a id="BView_LineJoinMode"></a>
SetLineMode(), LineJoinMode(), LineCapMode(), LineMiterLimit()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetLineMode</span>(<span class="methodparam"><span class="type">cap_mode </span><span class="parameter">lineCap</span></span>,<br />                 <span class="methodparam"><span class="type">join_mode </span><span class="parameter">lineJoin</span></span>,<br />                 <span class="methodparam"><span class="type">float </span><span class="parameter">miterLimit</span><span class="initializer"> = <span class="constant">B_DEFAULT_MITER_LIMIT</span></span></span>);</code><code class="methodsynopsis cpp"><span class="type">cap_mode </span><span class="methodname">LineCapMode</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">join_mode </span><span class="methodname">LineJoinMode</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">LineMiterLimit</span>() <span class="modifier">const</span>;</code><p>
These methods implement support for PostScript-style line cap and join
modes. The cap mode determines the shape of the endpoints of stroked
paths, while the join mode determines the shape of the corners of the
paths (i.e. where two lines meet).
</p><p>
The following values of <span class="type">cap_mode</span> are defined:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_ROUND_CAP</code></span></p></td><td><p>A semicircle is drawn around the endpoint. Its diameter is
equal to the width of the line.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BUTT_CAP</code></span></p></td><td><p>The line is squared off and does not extend beyond the endpoint.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_SQUARE_CAP</code></span></p></td><td><p>The line is squared off, extending past the endpoint for a
distance equal to half the width of the line.</p></td></tr></tbody></table><p>
Additionally, the following values of <span class="type">join_mode</span> are defined:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_ROUND_JOIN</code></span></p></td><td><p>Acts identically to <code class="constant">B_ROUND_CAP</code>, except applied
to joins.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MITER_JOIN</code></span></p></td><td><p>The lines are extended until they touch. If they meet at an
angle greater than <span class="code">2*arcsin(1/miterLimit)</span>, a bevel join is used instead.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BEVEL_JOIN</code></span></p></td><td><p>Butt end caps are used at the common endpoint and the empty
area between the caps is filled with a triangle.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BUTT_JOIN</code></span></p></td><td><p>Acts identically to <code class="constant">B_BUTT_CAP</code>, except
applied to joins.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_SQUARE_JOIN</code></span></p></td><td><p>Acts identically to <code class="constant">B_SQUARE_CAP</code>, except
applied to joins.</p></td></tr></tbody></table><p>
<code class="methodname">SetLineMode()</code> sets the line and join modes and the miter limit while
<code class="methodname">LineCapMode()</code>, <code class="methodname">LineJoinMode()</code>,
and <code class="methodname">LineMiterLimit()</code> return them. The line
mode affects all of the <code class="methodname">Stroke…()</code> methods except for
<a class="link" href="BView.html#BView_StrokeArc"><code class="methodname">Arc</code></a>,
<a class="link" href="BView.html#BView_StrokeEllipse" title="StrokeEllipse(), FillEllipse(), StrokeArc(), FillArc()"><code class="methodname">Ellipse</code></a>, and
<a class="link" href="BView.html#BView_StrokeRoundRect" title="StrokeRoundRect(), FillRoundRect()"><code class="methodname">RoundRect</code></a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetScale"></a>SetScale()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetScale</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">ratio</span></span>);</code><p>
Scales the coordinate system the view uses for drawing. The default scale
is 1.0; smaller ratio values reduce the size of the drawing coordinate
system; larger numbers magnify the system. For example, a ratio of 0.5
makes a subsequent drawing twice as small and moves the drawing closer to
the origin, and 2.0 makes it twice as big and moves it away, as shown
below.
</p><div class="mediaobject"><img src="./images/TheInterfaceKit/setscale.png" alt="File Panel Views" /></div><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>The scaling ratio only affects subsequent drawing operations! Changing
the scale doesn't affect the graphics already displayed in the view, the
view's frame rectangle and clipping region, the placement and size of
subviews, translation of mouse coordinates to and from view space, and so
forth.</p></div></div></div><p>
Multiple <code class="methodname">SetScale()</code> calls don't compound within the same graphics state,
but they do compound across pushed states:
</p><pre class="programlisting example cpp"><code class="varname">aview</code>-&gt;<code class="methodname">SetScale</code>(0.5);
<code class="varname">aview</code>-&gt;<code class="methodname">SetScale</code>(0.5);
<span class="comment">/* aview's scaling is 0.5. */</span>

<code class="varname">bview</code>-&gt;<code class="methodname">SetScale</code>(0.5);
<code class="varname">bview</code>-&gt;<code class="methodname">PushState</code>();
<code class="varname">bview</code>-&gt;<code class="methodname">SetScale</code>(0.5);
<span class="comment">/* view's scaling is 0.25. */</span></pre><div class="admonition warning"><div class="title">Warning</div><div class="graphic"><img class="icon" alt="Warning" width="32" src="./images/admonitions/Stop_32.png" /><div class="text"><p>The <code class="classname">BView</code> must be attached to a window
before you call this function.</p></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetPenSize"></a><a id="BView_PenSize"></a>
SetPenSize(), PenSize()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetPenSize</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">size</span></span>);</code><code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">PenSize</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetPenSize()</code> sets the size of the <code class="classname">BView</code>'s pen—the graphics
parameter that determines the thickness of stroked lines—and
<code class="methodname">PenSize()</code> returns the current pen size. The pen size is stated in
coordinate units, but is translated to a device-specific number of pixels
for each output device.
</p><p>
The pen tip can be thought of as a brush that's centered on the line path
and held perpendicular to it. If the brush is broader than one pixel, it
paints roughly the same number of pixels on both sides of the path.
</p><p>
The default pen size is 1.0 coordinate unit. It can be set to any
nonnegative value, including 0.0. If set to 0.0, the size is translated
to one pixel for all devices. This guarantees that it will always draw
the thinnest possible line no matter what the resolution of the device.
</p><p>
Thus, lines drawn with pen sizes of 1.0 and 0.0 will look alike on the
screen (one pixel thick), but the line drawn with a pen size of 1.0 will
be 1/72 of an inch thick when printed, however many printer pixels that
takes, while the line drawn with a 0.0 pen size will be just one pixel
thick.
</p><p>
The pen size is a parameter of the <code class="classname">BView</code>'s graphics
environment maintained by the Application Server and cached by the
<code class="classname">BView</code>. If the <code class="classname">BView</code> isn't
attached to a window, <code class="methodname">SetPenSize()</code> records the
size so that later, when the <code class="classname">BView</code> is added to a
window and becomes known to the server, the cached value can automatically
be established as the operable pen size for the
<code class="classname">BView</code>. If the <code class="classname">BView</code> belongs
to a window, this function changes both the server and the cache.
</p><p>
See also:
"<a class="link" href="TheInterfaceKit_Drawing.html#TheInterfaceKit_Drawing_Pen" title="The Pen">The Pen</a>"
in the chapter overview,
<a class="link" href="BView.html#BView_StrokeArc"><code class="methodname">StrokeArc()</code></a>,
<a class="link" href="BView.html#BView_MovePenBy" title="MovePenBy(), MovePenTo(), PenLocation()"><code class="methodname">MovePenBy()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetHighColor"></a><a id="BView_HighColor"></a>
<a id="BView_SetLowColor"></a>
<a id="BView_LowColor"></a>
SetHighColor(), HighColor() , SetLowColor() , LowColor()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetHighColor</span>(<span class="methodparam"><span class="type">rgb_color </span><span class="parameter">color</span></span>);</code>

<code class="methodsynopsis cpp"><span class="modifier">inline </span><span class="void">void </span><span class="methodname">SetHighColor</span>(<span class="methodparam"><span class="type">uchar </span><span class="parameter">red</span></span>,<br />                         <span class="methodparam"><span class="type">uchar </span><span class="parameter">green</span></span>,<br />                         <span class="methodparam"><span class="type">uchar </span><span class="parameter">blue</span></span>,<br />                         <span class="methodparam"><span class="type">uchar </span><span class="parameter">alpha</span><span class="initializer"> = 255</span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="type">rgb_color </span><span class="methodname">HighColor</span>() <span class="modifier">const</span>;</code><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetLowColor</span>(<span class="methodparam"><span class="type">rgb_color </span><span class="parameter">color</span></span>);</code>

<code class="methodsynopsis cpp"><span class="modifier">inline </span><span class="void">void </span><span class="methodname">SetLowColor</span>(<span class="methodparam"><span class="type">uchar </span><span class="parameter">red</span></span>,<br />                        <span class="methodparam"><span class="type">uchar </span><span class="parameter">green</span></span>,<br />                        <span class="methodparam"><span class="type">uchar </span><span class="parameter">blue</span></span>,<br />                        <span class="methodparam"><span class="type">uchar </span><span class="parameter">alpha</span><span class="initializer"> = 255</span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="type">rgb_color </span><span class="methodname">LowColor</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the current high and low colors of the
<code class="classname">BView</code>. These colors combine to form a pattern that's passed as an
argument to the <code class="methodname">Stroke…()</code> and <code class="methodname">Fill…()</code> drawing functions. The
<code class="constant">B_SOLID_HIGH</code> pattern is the high color alone, and <code class="constant">B_SOLID_LOW</code> is the low
color alone.
</p><p>
The default high color is black—red, green, and blue values all
equal to 0. The default low color is white—red, green, and blue
values all equal to 255.
</p><p>
The <span class="code">inline</span> versions of <code class="methodname">SetHighColor()</code>
and <code class="methodname">SetLowColor()</code> take separate
arguments for the red, blue, and green color components; they work by
creating an <span class="type">rgb_color</span> data structure and passing it to the corresponding
function that's declared <span class="code">virtual</span>. Therefore, if you want to override
either function, you should override the virtual version. (However, due
to the peculiarities of C++, overriding any version of an overloaded
function hides all versions of the function. For continued access to the
nonvirtual version without explicitly specifying the "BView::" prefix,
simply copy the inline code from <code class="filename">interface/View.h</code> into the derived class.)
</p><p>
The high and low colors are parameters of the <code class="classname">BView</code>'s graphics
environment, which is kept in the <code class="classname">BView</code>'s shadow counterpart in the
Application Server and cached in the <code class="classname">BView</code>.
If the <code class="classname">BView</code> isn't attached
to a window, <code class="methodname">SetHighColor()</code> and
<code class="methodname">SetLowColor()</code> cache the color value so
that later, when the <code class="classname">BView</code> is placed in a window and becomes known to the
server, the cached value can automatically be registered as the current
high or low color for the view. If the <code class="classname">BView</code> belongs to a window, these
functions alter both the client-side and the server-side values.
</p><p>
<code class="methodname">HighColor()</code> and <code class="methodname">LowColor()</code>
return the <code class="classname">BView</code>'s current high and low
colors. Because of the cache, this shouldn't entail contacting the
Application Server.
</p><p>
See also:
"<a class="xref" href="TheInterfaceKit_Drawing.html#TheInterfaceKit_Drawing_Patterns" title="Patterns">Patterns</a>"
"in the <a class="link" href="TheInterfaceKit_Drawing.html" title="Drawing">Drawing</a>" section of this chapter,
<a class="link" href="BView.html#BView_SetViewColor" title="SetViewColor(), ViewColor()"><code class="methodname">SetViewColor()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetViewColor"></a><a id="BView_ViewColor"></a>
SetViewColor(), ViewColor()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetViewColor</span>(<span class="methodparam"><span class="type">rgb_color </span><span class="parameter">color</span></span>);</code>

<code class="methodsynopsis cpp"><span class="modifier">inline </span><span class="void">void </span><span class="methodname">SetViewColor</span>(<span class="methodparam"><span class="type">uchar </span><span class="parameter">red</span></span>,<br />                         <span class="methodparam"><span class="type">uchar </span><span class="parameter">green</span></span>,<br />                         <span class="methodparam"><span class="type">uchar </span><span class="parameter">blue</span></span>,<br />                         <span class="methodparam"><span class="type">uchar </span><span class="parameter">alpha</span><span class="initializer"> = 255</span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="type">rgb_color </span><span class="methodname">ViewColor</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the view's background color. This is the
color that's displayed when a view is erased during an update, or when
the view is resized to expose new areas. The default view color is white
(255,255,255). If you don't want the view to be erased in an update, set
the view color to <code class="constant">B_TRANSPARENT_COLOR</code>. (Despite the name this doesn't
actually make the view transparent.)
</p><p>
The <span class="code">inline</span> version of <code class="methodname">SetViewColor()</code>
calls the <span class="code">virtual</span> version. Thus,
overriding the <span class="code">virtual</span> version affects both versions. However, due to the
peculiarities of C++, overriding any version of an overloaded function
hides all versions of the function. To fix this, simply copy the <span class="code">inline</span>
code from <code class="filename">View.h</code> into your subclass.
</p><p>
<code class="methodname">ViewColor()</code> returns the current background color.
</p><p>
See also:
"<a class="link" href="TheInterfaceKit_Drawing.html#TheInterfaceKit_Drawing_View_Color" title="The View Color">The View Color</a>" in the
"<a class="link" href="TheInterfaceKit_Drawing.html" title="Drawing">Drawing</a>" section of this chapter,
<a class="link" href="BView.html#BView_SetHighColor" title="SetHighColor(), HighColor() , SetLowColor() , LowColor()"><code class="methodname">SetHighColor()</code></a>,
<a class="link" href="BView.html#BView_SetViewBitmap" title="SetViewBitmap(), ClearViewBitmap()"><code class="methodname">SetViewBitmap()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetBlendingMode"></a><a id="BView_GetBlendingMode"></a>
SetBlendingMode(), GetBlendingMode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetBlendingMode</span>(<span class="methodparam"><span class="type">source_alpha </span><span class="parameter">alphaSrcMode</span></span>,<br />                             <span class="methodparam"><span class="type">alpha_function </span><span class="parameter">alphaFncMode</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">GetBlendingMode</span>(<span class="methodparam"><span class="type">source_alpha* </span><span class="parameter">alphaSrcMode</span></span>,<br />                             <span class="methodparam"><span class="type">alpha_function* </span><span class="parameter">alphaFncMode</span></span>);</code><p>
These two functions set and retrieve the graphics state variables which
control the details of alpha transparency drawing. These variables will
have an effect on drawing in the view only if the drawing mode has been
set to <code class="constant">B_OP_ALPHA</code> by
<a class="link" href="BView.html#BView_SetDrawingMode" title="SetDrawingMode(), DrawingMode()"><code class="methodname">SetDrawingMode()</code></a>.
</p><p>
<code class="parameter">alphaSrcMode</code> is one of the following two constants, with associated
meanings:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_CONSTANT_ALPHA</code></span></p></td><td><p>Use the alpha channel of the current high color as
the transparency value for whatever is being drawn.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_PIXEL_ALPHA</code></span></p></td><td><p>When drawing a bitmap, use the alpha value associated
with each pixel as the transparency value for that pixel. This can be
used to obtain some interesting variable transparency effects.</p></td></tr></tbody></table><p>
<code class="parameter">alphaFncMode</code> is one of the following two constants, with associated
meanings:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_ALPHA_OVERLAY</code></span></p></td><td><p>The "normal" mode, used when drawing a transparent
image or shape over an opaque background.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ALPHA_COMPOSITE</code></span></p></td><td><p>Used when blending two or more transparent images
together offscreen, to produce a new transparent image that will later
be drawn onscreen using the <code class="constant">B_ALPHA_OVERLAY</code> setting.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetDrawingMode"></a><a id="BView_DrawingMode"></a>
SetDrawingMode(), DrawingMode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetDrawingMode</span>(<span class="methodparam"><span class="type">drawing_mode </span><span class="parameter">mode</span></span>);</code><code class="methodsynopsis cpp"><span class="type">drawing_mode </span><span class="methodname">DrawingMode</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the <code class="classname">BView</code>'s drawing mode, which can be any
of the following eleven constants:
</p><ul class="itemizedlist"><li><p><code class="constant">B_OP_COPY</code></p></li><li><p><code class="constant">B_OP_OVER</code></p></li><li><p><code class="constant">B_OP_ERASE</code></p></li><li><p><code class="constant">B_OP_INVERT</code></p></li><li><p><code class="constant">B_OP_SELECT</code></p></li><li><p><code class="constant">B_OP_ALPHA</code></p></li><li><p><code class="constant">B_OP_MIN</code></p></li><li><p><code class="constant">B_OP_MAX</code></p></li><li><p><code class="constant">B_OP_ADD</code></p></li><li><p><code class="constant">B_OP_SUBTRACT</code></p></li><li><p><code class="constant">B_OP_BLEND</code></p></li></ul><p>
The drawing mode is an element of the <code class="classname">BView</code>'s graphics environment, which
both the Application Server and the <code class="classname">BView</code>
keep track of. If the <code class="classname">BView</code>
isn't attached to a window, <code class="methodname">SetDrawingMode()</code> caches the mode. When the
<code class="classname">BView</code> is placed in a window and becomes known to the server, the cached
value is automatically set as the current drawing mode. If the <code class="classname">BView</code>
belongs to a window, <code class="methodname">SetDrawingMode()</code> makes the change in both the server
and the cache.
</p><p>
<code class="methodname">DrawingMode()</code> returns the current mode. Because of the cache, this
generally doesn't entail a trip to the server.
</p><p>
The default drawing mode is <code class="constant">B_OP_COPY</code>. It and the other modes are
explained under
"<a class="link" href="TheInterfaceKit_Drawing.html#TheInterfaceKit_Drawing_Drawing_Modes" title="Drawing Modes">Drawing Modes</a>" in the
"<a class="link" href="TheInterfaceKit_Drawing.html" title="Drawing">Drawing</a>"
section of this chapter.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ForceFontAliasing"></a>ForceFontAliasing()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ForceFontAliasing</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">enable</span></span>);</code><p>
<code class="methodname">ForceFontAliasing()</code> is used in conjunction with printing. When called
with a value of <code class="constant">true</code>, if causes subsequent printing to be done without
antialiasing printed characters. This is normally what is desired with
high-resolution printers, to guarantee that the edges of printed
characters appear sharp. Calling <code class="methodname">ForceFontAliasing()</code> with an argument of
<code class="constant">false</code> turns antialiasing back on, which may be desirable with
lower-resolution printers.
</p><p>
Note that <code class="methodname">ForceFontAliasing()</code> does not affect characters or strings drawn
to the screen.
</p><p>
See also:
The <a class="link" href="BPrintJob.html" title="BPrintJob"><code class="classname">BPrintJob</code></a> class.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_GetFontHeight"></a>GetFontHeight()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetFontHeight</span>(<span class="methodparam"><span class="type">font_height* </span><span class="parameter">fontHeight</span></span>) <span class="modifier">const</span>;</code><p>
Gets the height of the <code class="classname">BView</code>'s font. This function provides the same
information as <a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>'s
<a class="link" href="BFont.html#BFont_GetHeight" title="GetHeight(), font_height"><code class="methodname">GetHeight()</code></a>. The following code
</p><pre class="programlisting example cpp"><span class="type">font_height</span> <code class="varname">height</code>;
<code class="varname">myView</code>-&gt;<code class="methodname">GetFontHeight</code>(&amp;<code class="varname">height</code>);</pre><p>
is equivalent to:
</p><pre class="programlisting example cpp"><span class="type">font_height</span> <code class="varname">height</code>;
<code class="classname">BFont</code> <code class="varname">font</code>;
<code class="varname">myView</code>-&gt;<code class="methodname">GetFont</code>(&amp;<code class="varname">font</code>);
<code class="varname">font</code>.<code class="methodname">GetHeight</code>(&amp;<code class="varname">height</code>);</pre><p>
See the <a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>
class for more information.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetFont"></a><a id="BView_GetFont"></a>
SetFont(), GetFont()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetFont</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>* </span><span class="parameter">font</span></span>,<br />             <span class="methodparam"><span class="type">uint32 </span><span class="parameter">properties</span><span class="initializer"> = <span class="constant">B_FONT_ALL</span></span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetFont</span>(<span class="methodparam"><span class="type"><a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>* </span><span class="parameter">font</span></span>);</code><p>
<code class="methodname">SetFont()</code> sets the <code class="classname">BView</code>'s
current font so that it matches the specified
properties of the <code class="parameter">font</code>
<a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a> object.
The <code class="parameter">properties</code> mask is formed by
combining the following constants:
</p><ul class="itemizedlist"><li><p><code class="constant">B_FONT_FAMILY_AND_STYLE</code></p></li><li><p><code class="constant">B_FONT_SPACING</code></p></li><li><p><code class="constant">B_FONT_SIZE</code></p></li><li><p><code class="constant">B_FONT_ENCODING</code></p></li><li><p><code class="constant">B_FONT_SHEAR</code></p></li><li><p><code class="constant">B_FONT_FACE</code></p></li><li><p><code class="constant">B_FONT_ROTATION</code></p></li><li><p><code class="constant">B_FONT_FLAGS</code></p></li></ul><p>
Each constant corresponds to a settable property of the
<a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a> object. The
default mask, <code class="constant">B_FONT_ALL</code>, is a shorthand for all the properties
(including any that might be added in future releases). If the mask is 0,
<code class="methodname">SetFont()</code> won't set the <code class="classname">BView</code>'s font.
</p><p>
<code class="methodname">GetFont()</code> copies the <code class="classname">BView</code>'s
current font to the <a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a> object passed as
an argument. Modifying this copy doesn't modify the <code class="classname">BView</code>'s font; it
takes an explicit <code class="methodname">SetFont()</code> call to affect the <code class="classname">BView</code>.
</p><p>
For example, this code changes the size of a <code class="classname">BView</code>'s font and turns
antialiasing off:
</p><pre class="programlisting example cpp"><code class="classname">BFont</code> <code class="varname">font</code>;
<code class="varname">myView</code>-&gt;<code class="methodname">GetFont</code>(&amp;<code class="varname">font</code>);
<code class="varname">font</code>.<code class="methodname">SetSize</code>(67.0);
<code class="varname">font</code>.<code class="methodname">SetFlags</code>(<code class="constant">B_DISABLE_ANTIALIASING</code>);
<code class="varname">myView</code>-&gt;<code class="methodname">SetFont</code>(&amp;<code class="varname">font</code>, <code class="constant">B_FONT_SIZE</code> | <code class="constant">B_FONT_FLAGS</code>);</pre><p>
Since the <a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>
object that this example code alters is a copy of the
<code class="classname">BView</code>'s current font, it's not strictly necessary to name the properties
that are different when calling <code class="methodname">SetFont()</code>. However, it's more efficient
and better practice to do so.
</p><p>
The font is part of the <code class="classname">BView</code>'s graphic environment. Like other elements
in the environment, it can be set whether or not the <code class="classname">BView</code> is attached to
the window. Graphics parameters are kept by the Application Server and
also cached by the <code class="classname">BView</code> object.
</p><p>
See also:
<a class="link" href="TheInterfaceKit_Functions.html#get_font_family" title="get_font_family(), count_font_families(), get_font_style(), count_font_styles()"><code class="function">get_font_family()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetFontSize"></a>SetFontSize()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetFontSize</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">points</span></span>);</code><p>
Sets the size of the <code class="classname">BView</code>'s font to <code class="parameter">points</code>.
This function is a shorthand
for a <code class="methodname">SetFont()</code> call that just alters the font size. For example, this
line of code
</p><pre class="programlisting example cpp"><code class="varname">myView</code>-&gt;<code class="methodname">SetFontSize</code>(12.5);</pre><p>
does the same thing as:
</p><pre class="programlisting example cpp"><code class="classname">BFont</code> <code class="varname">font</code>;
<code class="varname">font</code>.<code class="methodname">SetSize</code>(12.5);
<code class="varname">myView</code>-&gt;<code class="methodname">SetFont</code>(&amp;<code class="varname">font</code>, <code class="constant">B_FONT_SIZE</code>);</pre><p>
See also: the <a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a> class
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StringWidth"></a><a id="BView_GetStringWidths"></a>
StringWidth(), GetStringWidths()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">StringWidth</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">StringWidth</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>,<br />                  <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>) <span class="modifier">const</span>;</code>
</div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetStringWidths</span>(<span class="methodparam"><span class="type">char* </span><span class="parameter">stringArray[]</span></span>,<br />                     <span class="methodparam"><span class="type">int32 </span><span class="parameter">lengthArray[]</span></span>,<br />                     <span class="methodparam"><span class="type">int32 </span><span class="parameter">numStrings</span></span>,<br />                     <span class="methodparam"><span class="type">float </span><span class="parameter">widthArray[]</span></span>) <span class="modifier">const</span>;</code><p>
These functions measure how much room is required to draw a string, or a
group of strings, in the <code class="classname">BView</code>'s current font. They're equivalent to the
identically named set of functions defined in the
<a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a> class, except
that they assume the <code class="classname">BView</code>'s font. For example, this line of code
</p><pre class="programlisting example cpp"><span class="type">float</span> <code class="varname">width</code>;
<code class="varname">width</code> = <code class="varname">myView</code>-&gt;<code class="methodname">StringWidth</code>("Be"<code class="constant">B_UTF8_REGISTERED</code>);</pre><p>
produces the same result as:
</p><pre class="programlisting example cpp"><span class="type">float</span> <code class="varname">width</code>;
<code class="classname">BFont</code> font;
<code class="varname">myView</code>-&gt;<code class="methodname">GetFont</code>(&amp;<code class="varname">font</code>);
<code class="varname">width</code> = <code class="varname">font</code>.<code class="methodname">StringWidth</code>("Be"<code class="constant">B_UTF8_REGISTERED</code>);</pre><p>
See also:
<a class="link" href="BFont.html#BFont_StringWidth" title="StringWidth(), GetStringWidths()"><code class="methodname">BFont::StringWidth()</code></a>,
<a class="link" href="BFont.html#BFont_GetEscapements" title="GetEscapements(), escapement_delta, GetEdges(), edge_info"><code class="methodname">BFont::GetEscapements()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_TruncateString"></a>TruncateString()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">TruncateString</span>(<span class="methodparam"><span class="type"><a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>* </span><span class="parameter">inOutString</span></span>,<br />                    <span class="methodparam"><span class="type">uint32 </span><span class="parameter">mode</span></span>,<br />                    <span class="methodparam"><span class="type">float </span><span class="parameter">width</span></span>) <span class="modifier">const</span>;</code><p>
Truncates the <a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>
<code class="parameter">inOutString</code> to be no wider than <code class="parameter">width</code> pixels. The
<code class="parameter">mode</code> flags control how the string is truncated.
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_TRUNCATE_BEGINNING</code></span></p></td><td><p>Cut from the beginning of the string until it fits
within the specified width.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_TRUNCATE_MIDDLE</code></span></p></td><td><p>Cut from the middle of the string.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_TRUNCATE_END</code></span></p></td><td><p>Cut from the end of the string.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_TRUNCATE_SMART</code></span></p></td><td><p>Cut anywhere, but do so intelligently, so that all the
strings remain different after being cut. For example, if a set of
similar path names are passed in the <code class="parameter">inputStringArray</code>, this mode would
attempt to cut from the identical parts of the path names and preserve
the parts that are different. This mode also pays attention to word
boundaries, separators, punctuation, and the like. However, it's not
implemented for the current release.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ClipToPicture"></a><a id="BView_ClipToInversePicture"></a>
ClipToPicture(), ClipToInversePicture()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ClipToPicture</span>(<span class="methodparam"><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>,<br />                   <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">where</span><span class="initializer"> = <span class="constant">B_ORIGIN</span></span></span>,<br />                   <span class="methodparam"><span class="type">bool </span><span class="parameter">sync</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ClipInverseToPicture</span>(<span class="methodparam"><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>,<br />                          <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">where</span><span class="initializer"> = <span class="constant">B_ORIGIN</span></span></span>,<br />                          <span class="methodparam"><span class="type">bool </span><span class="parameter">sync</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><p>
Modifies the view's clipping region by intersecting the current clipping
region with the pixels drawn by <code class="parameter">picture</code> (in the case of
<code class="methodname">ClipToPicture()</code>) or
with everything outside the pixels drawn by <code class="parameter">picture</code> (in the case of
<code class="methodname">ClipToInversePicture()</code>), to produce the new clipping region.
</p><p>
Note that <a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>
instances are, by their nature, resolution
independent; when the <code class="methodname">ClipToPicture()</code>
or <code class="methodname">ClipToInversePicture()</code> command is
invoked, <code class="parameter">picture</code> is effectively drawn at the same resolution as the
invoking view, and the bitmap produced by that action is used to modify
the clipping region. You may think of <code class="parameter">picture</code> as executing its drawing
instructions on a surface that starts out as completely transparent; at
the end of the process, each pixel on the drawing surface will either be
either completely transparent, or will be at least somewhat opaque. The
pixels which are at least somewhat opaque are those which were "drawn" by
<code class="parameter">picture</code>.
</p><p>
If <code class="parameter">sync</code> is <code class="constant">false</code>, the
functions will execute asynchronously; normally
they execute synchronously (i.e. wait for the drawing actions to be
completed by the Application Server.)
</p><p>
See also:
<a class="link" href="BView.html#BView_BeginPicture" title="BeginPicture() , AppendToPicture() , EndPicture()"><code class="methodname">BeginPicture()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ConstrainClippingRegion"></a>ConstrainClippingRegion()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">ConstrainClippingRegion</span>(<span class="methodparam"><span class="type"><a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a>* </span><span class="parameter">region</span></span>);</code><p>
Restricts the drawing that the <code class="classname">BView</code> can do to <code class="parameter">region</code>.
</p><p>
The Application Server keeps track of a clipping region for each <code class="classname">BView</code>
that's attached to a window. It clips all drawing the <code class="classname">BView</code> does to that
region; the <code class="classname">BView</code> can't draw outside of it.
</p><p>
By default, the clipping region contains only the visible area of the
view and, during an update, only the area that actually needs to be
drawn. By passing a <code class="parameter">region</code> to this function, an application can further
restrict the clipping region. When calculating the clipping region, the
server intersects it with the region provided. The <code class="classname">BView</code> can draw only in
areas common to the region passed and the clipping region as the server
would otherwise calculate it. The <code class="parameter">region</code> passed can't expand the clipping
region beyond what it otherwise would be.
</p><p>
The clipping region is additionally affected by any items on the state
stack. If any saved states contain clipping regions, then the actual
clipping region used by the Application Server is the intersection of the
local clipping region (as set by this method) and the regions stored on
the state stack.
</p><p>
If called during an update, <code class="methodname">ConstrainClippingRegion()</code> restricts the
clipping region only for the duration of the update.
</p><p>
Calls to <code class="methodname">ConstrainClippingRegion()</code> are not additive; each region that's
passed replaces the one that was passed in the previous call. Passing a
<code class="constant">NULL</code> pointer removes the previous region without replacing it. The
function works only for <code class="classname">BView</code>s that are attached to a window.
</p><p>
See also:
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_GetClippingRegion"></a>GetClippingRegion()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetClippingRegion</span>(<span class="methodparam"><span class="type"><a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a>* </span><span class="parameter">region</span></span>) <span class="modifier">const</span>;</code><p>
Modifies the <a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a>
object passed as an argument so that it describes
the current local clipping region of the <code class="classname">BView</code>, the region where the
<code class="classname">BView</code> is allowed to draw. It's most efficient to allocate temporary
<a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a>s on the stack:
</p><pre class="programlisting example cpp"><code class="classname">BRegion</code> <code class="varname">clipper</code>;
<code class="methodname">GetClippingRegion</code>(&amp;<code class="varname">clipper</code>);
. . .</pre><p>
Ordinarily, the clipping region is the same as the visible region of the
view, the part of the view currently visible on-screen. The visible
region is equal to the view's bounds rectangle minus:
</p><ul class="itemizedlist"><li><p>
The frame rectangles of its children,
</p></li><li><p>
Any areas that are clipped because the view doesn't lie wholly within
the frame rectangles of all its ancestors in the view hierarchy, and
</p></li><li><p>
Any areas that are obscured by other windows or that lie in a part of
the window that's off-screen.
</p></li></ul><p>
The clipping region can be smaller than the visible region if the program
restricted it by calling
<a class="link" href="BView.html#BView_ConstrainClippingRegion" title="ConstrainClippingRegion()"><code class="methodname">ConstrainClippingRegion()</code></a>.
It will exclude any
area that doesn't intersect with the region passed to
<a class="link" href="BView.html#BView_ConstrainClippingRegion" title="ConstrainClippingRegion()"><code class="methodname">ConstrainClippingRegion()</code></a>.
</p><p>
The clipping region is additionally modified by any items on the state
stack. If any saved states contain clipping regions, then the actual
clipping region used by the Application Server is the intersection of the
local clipping region (as set by
<a class="link" href="BView.html#BView_ConstrainClippingRegion" title="ConstrainClippingRegion()"><code class="methodname">ConstrainClippingRegion()</code></a>)
and the regions stored on the state stack.
</p><p>
While the <code class="classname">BView</code> is being updated, the clipping region contains just those
parts of the view that need to be redrawn. This may be smaller than the
visible region, or the region restricted by
<a class="link" href="BView.html#BView_ConstrainClippingRegion" title="ConstrainClippingRegion()"><code class="methodname">ConstrainClippingRegion()</code></a>,
if:
</p><ul class="itemizedlist"><li><p>
The update occurs during scrolling. The clipping region will exclude
any of the view's visible contents that the Application Server is able
to shift to their new location and redraw automatically.
</p></li><li><p>
The view rectangle has grown (because, for example, the user resized
the window larger) and the update is needed only to draw the new parts
of the view.
</p></li><li><p>
The update was caused by
<a class="link" href="BView.html#BView_Invalidate" title="Invalidate()"><code class="methodname">Invalidate()</code></a>
and the rectangle passed to
<a class="link" href="BView.html#BView_Invalidate" title="Invalidate()"><code class="methodname">Invalidate()</code></a>
didn't cover all of the visible region.
</p></li><li><p>
The update was necessary because
<a class="link" href="BView.html#BView_CopyBits" title="CopyBits()"><code class="methodname">CopyBits()</code></a>
couldn't fill all of a destination rectangle.
</p></li></ul><p>
If, while updating is ongoing, you call the view's parent's
<code class="methodname">GetClippingRegion()</code> function, the resulting region indicates only the
area of that view that requries updating, and so forth. In other words,
this change in behavior (from returning the true clipping region to
returning the update region) is recursive up the view hierarchy.
</p><p>
This function works only if the <code class="classname">BView</code> is attached to a window. Unattached
<code class="classname">BView</code>s can't draw and therefore have no clipping region.
</p><p>
See also:
<a class="link" href="BView.html#BView_ConstrainClippingRegion" title="ConstrainClippingRegion()"><code class="methodname">ConstrainClippingRegion()</code></a>,
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>,
<a class="link" href="BView.html#BView_Invalidate" title="Invalidate()"><code class="methodname">Invalidate()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Drawing"></a>Drawing Related Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DrawBitmap"></a><a id="BView_DrawBitmapAsync"></a>
DrawBitmap(), DrawBitmapAsync()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmap</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmap</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>,<br />                <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmap</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>,<br />                <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">destination</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmap</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>,<br />                <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">source</span></span>,<br />                <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">destination</span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmapAsync</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmapAsync</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>,<br />                     <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmapAsync</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>,<br />                     <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">destination</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawBitmapAsync</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">image</span></span>,<br />                     <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">source</span></span>,<br />                     <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">destination</span></span>);</code>
</div><p>These functions place a bitmap <code class="parameter">image</code> in the
view at the current pen position, at the <code class="parameter">point</code>
specified, or within the designated <code class="parameter">destination</code>
rectangle. The <code class="parameter">point</code> and the
<code class="parameter">destination</code> rectangle are stated in the
<code class="classname">BView</code>'s coordinate system.</p><p>If a <code class="parameter">source</code> rectangle is given, only that part
of the bitmap image is drawn. Otherwise, the entire bitmap is placed in the
view. The <code class="parameter">source</code> rectangle is stated in the internal
coordinates of the
<a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>
object.</p><p>If the source image is bigger than the
<code class="parameter">destination</code> rectangle, it's scaled to fit.</p><p>The two functions differ in only one respect:
<code class="methodname">DrawBitmap()</code> waits for the Application Server to
finish rendering the image before it returns.
<code class="methodname">DrawBitmapAsync()</code> doesn't wait; it passes the
image to the server and returns immediately. The latter function can be
more efficient in some cases—for example, you might use an
asynchronous function to draw several bitmaps and then call
<a class="link" href="BView.html#BView_Sync"><code class="methodname">Sync()</code></a>
to wait for them all to finish rather than wait for each one individually:</p><pre class="programlisting example cpp"><code class="methodname">DrawBitmapAsync</code>(<code class="varname">bitmapOne</code>, <code class="varname">firstPoint</code>);
<code class="methodname">DrawBitmapAsync</code>(<code class="varname">bitmapTwo</code>, <code class="varname">secondPoint</code>);
<code class="methodname">DrawBitmapAsync</code>(<code class="varname">bitmapThree</code>, <code class="varname">thirdPoint</code>);
<code class="methodname">Sync</code>();</pre><p>Or, if you can cram some useful work between the time you send the
bitmap to the Application Server and the time you need to be sure that it
has appeared on-screen, <code class="methodname">DrawBitmapAsync()</code> will
free your thread to do that work immediately:</p><pre class="programlisting example cpp"><code class="methodname">DrawBitmapAsync</code>(<code class="varname">someBitmap</code>, <code class="varname">somePoint</code>);
<span class="comment">/* do something else */</span>
<code class="methodname">Sync</code>();</pre><p>See also:
The "<a class="xref" href="TheInterfaceKit_Drawing.html" title="Drawing">Drawing</a>"
in the chapter overview, the
<a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>
class</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DrawChar"></a>DrawChar()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawChar</span>(<span class="methodparam"><span class="type">char </span><span class="parameter">c</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawChar</span>(<span class="methodparam"><span class="type">char </span><span class="parameter">c</span></span>,<br />              <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>
</div><p>Draws the character <code class="parameter">c</code> at the current pen
position—or at the <code class="parameter">point</code> specified—and
moves the pen to a position immediately to the right of the character. This
function is equivalent to passing a string of one character to
<a class="link" href="BView.html#BView_DrawString" title="DrawString()"><code class="methodname">DrawString()</code></a>.
The point is specified in the <code class="classname">BView</code>'s coordinate
system.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DrawString"></a>DrawString()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawString</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>,<br />                <span class="methodparam"><span class="type">escapement_delta* </span><span class="parameter">delta</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawString</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>,<br />                <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />                <span class="methodparam"><span class="type">escapement_delta* </span><span class="parameter">delta</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawString</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>,<br />                <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>,<br />                <span class="methodparam"><span class="type">escapement_delta* </span><span class="parameter">delta</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawString</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>,<br />                <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />                <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>,<br />                <span class="methodparam"><span class="type">escapement_delta* </span><span class="parameter">delta</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>
</div><p>Draws the characters encoded in <code class="parameter">length</code> bytes
of <code class="parameter">string</code>—or, if the number of bytes isn't
specified, all the characters in the string, up to the null terminator
('\0'). Characters are drawn in the <code class="classname">BView</code>'s current
font. The font's direction determines whether the string is drawn
left-to-right or right-to-left. Its rotation determines the angle of the
baseline (horizontal for an unrotated font). The spacing mode of the font
determines how characters are positioned within the string and the string
width.</p><p>This function places the characters on a baseline that begins one
pixel above the current pen position—or one pixel above the specified
point in the <code class="classname">BView</code>'s coordinate system. It draws the
characters to the right (assuming an unrotated font) and moves the pen to
the baseline immediately past the characters drawn. For a left-to-right
font, the pen will be in position to draw the next character, as shown
below:</p><div class="mediaobject"><img src="./images/TheInterfaceKit/font_left_to_right.png" alt="Left To Right Font" /></div><p>The characters are drawn in the opposite direction for a right-to-left
font, but the pen still moves left-to-right:</p><div class="mediaobject"><img src="./images/TheInterfaceKit/font_right_to_left.png" alt="Right To Left Font" /></div><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>The BeOS draws text one pixel above the logical baseline to maintain
compatibility with an earlier version of one of our most commonly-used
font rasterizers. This affects both fonts and
<a class="link" href="BShape.html" title="BShape"><code class="classname">BShape</code></a>s
representing glyphs (see
<a class="link" href="BFont.html#BFont_GetGlyphShapes" title="GetGlyphShapes()"><code class="methodname">BFont::GetGlyphShapes()</code></a>.
To draw text at the right place, add one to
the Y coordinate when calling
<a class="link" href="BView.html#BView_MovePenTo"><code class="methodname">MovePenTo()</code></a>
or specifying a <a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> at which
to begin drawing.</p></div></div></div><p>For a font that's read from left-to-right, a series of simple
<code class="methodname">DrawString()</code> calls (with no point specified) will
produce a continuous string. For example, these two lines of code,</p><pre class="programlisting example cpp"><code class="methodname">DrawString</code>("tog");
<code class="methodname">DrawString</code>("ether");</pre><p>will produce the same result as this one,</p><pre class="programlisting example cpp"><code class="methodname">DrawString</code>("together");</pre><p>except if the spacing mode is <code class="constant">B_STRING_SPACING</code>.
Under <code class="constant">B_STRING_SPACING</code>, character placements are
adjusted keeping the string width constant. The adjustments are
contextually dependent on the string and may therefore differ depending on
whether there are two strings ("tog" and "ether") or
just one ("together").</p><p>If a <code class="parameter">delta</code> argument is provided,
<code class="methodname">DrawString()</code> adds the additional amounts
specified in the <span class="type">escapement_delta</span> structure to the width of each
character. This structure has two fields:</p><table class="variablelist fields"><col align="left" valign="top" width="1*" /><col align="left" valign="top" width="5*" /><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><span class="type">float</span> <code class="varname">nonspace</code></span></p></td><td><p>
The amount to add to the width of characters that have visible glyphs
(that put ink on the printed page).
</p></td></tr><tr><td><p><span class="term"><span class="type">float</span> <code class="varname">space</code></span></p></td><td><p>
The amount to add to the width of characters that have escapements,
but don't have visible glyphs (characters that affect the position of
surrounding characters but don't put ink on the page).
</p></td></tr></tbody></table><p>
When drawing to the screen, <code class="methodname">DrawString()</code> uses antialiasing—unless
the <code class="classname">BView</code>'s font disables it or the font size is large enough (over
1,000.0 points) so that its benefits aren't required. Antialiasing
produces colors at the margins of character outlines that are
intermediate between the color of the text (the <code class="classname">BView</code>'s high color) and
the color of the background against which the text is drawn. When drawing
in <code class="constant">B_OP_COPY</code> mode, antialiasing requires the
<code class="classname">BView</code>'s low color to match the background color.
</p><p>
It's much faster to draw a string in <code class="constant">B_OP_COPY</code> mode than in any other
mode. If you draw the same string repeatedly in the same location in
<code class="constant">B_OP_OVER</code> mode without erasing, antialiasing will produce different, and
worse, results each time as the intermediate color it previously produced
is treated as the new background each time. Antialiasing doesn't produce
pleasing results in <code class="constant">B_OP_SELECT</code> mode.
</p><p>
This is a graphical drawing function, so any character that doesn't have
an escapement or a visible representation (including white space) is
replaced by an undefined character that can be drawn (currently an empty
box). This includes all control characters (those with values less than
<code class="constant">B_SPACE</code>, 0x20).
</p><p>
<code class="methodname">DrawString()</code> doesn't erase before drawing.
</p><p>
See also:
<a class="link" href="BView.html#BView_MovePenBy" title="MovePenBy(), MovePenTo(), PenLocation()"><code class="methodname">MovePenBy()</code></a>,
<a class="link" href="BView.html#BView_SetFont" title="SetFont(), GetFont()"><code class="methodname">SetFont()</code></a>,
the <a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a> class
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_FillRegion"></a>FillRegion()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillRegion</span>(<span class="methodparam"><span class="type"><a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a>* </span><span class="parameter">region</span></span>,<br />                <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>) <span class="modifier">const</span>;</code><p>
Fills the region with the pattern specified by <code class="parameter">aPattern</code>—or, if no
pattern is specified, with the current high color. Filling a region is
equivalent to filling all the rectangles that define the region.
</p><p>
See also:
The <a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a> class
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StrokeBezier"></a><a id="BView_FillBezier"></a>
StrokeBezier(), FillBezier()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeBezier</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a>* </span><span class="parameter">controlPoints</span></span>,<br />                  <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillBezier</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a>* </span><span class="parameter">controlPoints</span></span>,<br />                <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>) <span class="modifier">const</span>;</code><p>
These functions draw a third degree Bezier curve. <code class="methodname">StrokeBezier()</code> strokes
a line along the path of the curve; the width of the line is determined
by the current pen size. <code class="methodname">FillBezier()</code> fills in the region defined by the
path of the curve and the line joining the two endpoints.
</p><p>
<code class="parameter">controlPoints</code> points to an array of the four points for the curve. Both
functions draw using the pattern specified by <code class="parameter">aPattern</code>—or, if no
pattern is specified, in the current high color. Neither function alters
the current pen position.
</p><p>
See also:
<a class="link" href="BView.html#BView_StrokeEllipse" title="StrokeEllipse(), FillEllipse(), StrokeArc(), FillArc()"><code class="methodname">StrokeEllipse()</code></a>,
<a class="link" href="BView.html#BView_SetPenSize" title="SetPenSize(), PenSize()"><code class="methodname">SetPenSize()</code></a>,
<a class="link" href="BView.html#BView_StrokeRoundRect" title="StrokeRoundRect(), FillRoundRect()"><code class="methodname">StrokeRoundRect()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StrokeEllipse"></a><a id="BView_FillArc"></a>
<a id="BView_StrokeArc"></a>
<a id="BView_FillEllipse"></a>
StrokeEllipse(), FillEllipse(), StrokeArc(), FillArc()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeEllipse</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                   <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeEllipse</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">center</span></span>,<br />                   <span class="methodparam"><span class="type">float </span><span class="parameter">xRadius</span></span>,<br />                   <span class="methodparam"><span class="type">float </span><span class="parameter">yRadius</span></span>,<br />                   <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillEllipse</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                 <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillEllipse</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">center</span></span>,<br />                 <span class="methodparam"><span class="type">float </span><span class="parameter">xRadius</span></span>,<br />                 <span class="methodparam"><span class="type">float </span><span class="parameter">yRadius</span></span>,<br />                 <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeArc</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">angle</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">span</span></span>,<br />               <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeArc</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">center</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">xRadius</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">yRadius</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">angle</span></span>,<br />               <span class="methodparam"><span class="type">float </span><span class="parameter">span</span></span>,<br />               <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillArc</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />             <span class="methodparam"><span class="type">float </span><span class="parameter">angle</span></span>,<br />             <span class="methodparam"><span class="type">float </span><span class="parameter">span</span></span>,<br />             <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillArc</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">center</span></span>,<br />             <span class="methodparam"><span class="type">float </span><span class="parameter">xRadius</span></span>,<br />             <span class="methodparam"><span class="type">float </span><span class="parameter">yRadius</span></span>,<br />             <span class="methodparam"><span class="type">float </span><span class="parameter">angle</span></span>,<br />             <span class="methodparam"><span class="type">float </span><span class="parameter">span</span></span>,<br />             <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><p>
These functions draw all or part of the ellipse that's inscribed in <code class="parameter">rect</code>
or that has its center at <code class="parameter">center</code> and has horizontal and vertical radii
<code class="parameter">xRadius</code> and <code class="parameter">yRadius</code>. The ellipse is always aligned with the x and y axes.
A more flexible curve-drawing mechanism is given by
<a class="link" href="BView.html#BView_StrokeBezier" title="StrokeBezier(), FillBezier()"><code class="methodname">StrokeBezier()</code></a> and
<a class="link" href="BView.html#BView_FillBezier"><code class="methodname">FillBezier()</code></a>.
</p><p>
<code class="methodname">StrokeEllipse()</code> strokes a line around the entire perimeter of the ellipse
and <code class="methodname">FillEllipse()</code> fills the area the ellipse encloses.
</p><p>
<code class="methodname">StrokeArc()</code> and <code class="methodname">FillArc()</code>
stroke and fill a section of the ellipse,
starting at <code class="parameter">angle</code> (where 0 ° points right along the x-axis) and
proceeding (counterclockwise) span degrees. In the illustration below,
the red arc is the result of <code class="methodname">StrokeArc()</code> with an angle of 10° and span
of 235°; the blue area is the same arc filled through <code class="methodname">FillArc()</code>. The
center of the ellipse (the yellow dot) is drawn for reference.
</p><div class="mediaobject"><img src="./images/TheInterfaceKit/draw_arc.png" alt="Drawing An Arc" /></div><div class="admonition warning"><div class="title">Warning</div><div class="graphic"><img class="icon" alt="Warning" width="32" src="./images/admonitions/Stop_32.png" /><div class="text"><p>Currently, angle and span measurements in fractions of a degree are not
supported.</p></div></div></div><p>
For the stroking functions, the width of the stroked line is determined
by the current pen size. All functions draw using <code class="parameter">aPattern</code> or, if no
pattern is specified, the current high color. The functions neither
depend on nor alter the current pen position.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StrokeLine"></a>StrokeLine()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeArc</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">start</span></span>,<br />               <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">end</span></span>,<br />               <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeArc</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">end</span></span>,<br />               <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><p>
Draws a straight line between the <code class="parameter">start</code> and <code class="parameter">end</code> points—or, if no
starting point is given, between the current pen position and end
point—and leaves the pen at the end point.
</p><p>
This function draws the line using the current pen size and the specified
pattern. If no pattern is specified, the line is drawn in the current
high color. The points are specified in the <code class="classname">BView</code>'s coordinate system.
</p><p>
See also:
<a class="link" href="BView.html#BView_SetPenSize" title="SetPenSize(), PenSize()"><code class="methodname">SetPenSize()</code></a>
<a class="link" href="BView.html#BView_BeginLineArray" title="BeginLineArray(), AddLine(), EndLineArray()"><code class="methodname">BeginLineArray()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_FillPolygon"></a><a id="BView_StrokePolygon"></a>
StrokePolygon(), FillPolygon()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokePolygon</span>(<span class="methodparam"><span class="type"><a class="link" href="BPolygon.html" title="BPolygon"><code class="classname">BPolygon</code></a> </span><span class="parameter">polygon</span></span>,<br />                   <span class="methodparam"><span class="type">bool </span><span class="parameter">isClosed</span><span class="initializer"> = <span class="constant">true</span></span></span>,<br />                   <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokePolygon</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">pointList</span></span>,<br />                   <span class="methodparam"><span class="type">int32 </span><span class="parameter">numPoints</span></span>,<br />                   <span class="methodparam"><span class="type">bool </span><span class="parameter">isClosed</span><span class="initializer"> = <span class="constant">true</span></span></span>,<br />                   <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokePolygon</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">pointList</span></span>,<br />                   <span class="methodparam"><span class="type">int32 </span><span class="parameter">numPoints</span></span>,<br />                   <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                   <span class="methodparam"><span class="type">bool </span><span class="parameter">isClosed</span><span class="initializer"> = <span class="constant">true</span></span></span>,<br />                   <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillPolygon</span>(<span class="methodparam"><span class="type"><a class="link" href="BPolygon.html" title="BPolygon"><code class="classname">BPolygon</code></a> </span><span class="parameter">polygon</span></span>,<br />                 <span class="methodparam"><span class="type">bool </span><span class="parameter">isClosed</span><span class="initializer"> = <span class="constant">true</span></span></span>,<br />                 <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillPolygon</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">pointList</span></span>,<br />                 <span class="methodparam"><span class="type">int32 </span><span class="parameter">numPoints</span></span>,<br />                 <span class="methodparam"><span class="type">bool </span><span class="parameter">isClosed</span><span class="initializer"> = <span class="constant">true</span></span></span>,<br />                 <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillPolygon</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint*</code></a> </span><span class="parameter">pointList</span></span>,<br />                 <span class="methodparam"><span class="type">int32 </span><span class="parameter">numPoints</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                 <span class="methodparam"><span class="type">bool </span><span class="parameter">isClosed</span><span class="initializer"> = <span class="constant">true</span></span></span>,<br />                 <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><p>
These functions draw a polygon with an arbitrary number of sides.
<code class="methodname">StrokePolygon()</code> strokes a line around the edge of the polygon using the
current pen size. If a <code class="parameter">pointList</code> is specified rather than a
<a class="link" href="BPolygon.html" title="BPolygon"><code class="classname">BPolygon</code></a>
object, this function strokes a line from point to point, connecting the
first and last points if they aren't identical. However, if the <code class="parameter">isClosed</code>
flag is <code class="constant">false</code>, <code class="methodname">StrokePolygon()</code> won't stroke the line connecting the first
and last points that define the
<a class="link" href="BPolygon.html" title="BPolygon"><code class="classname">BPolygon</code></a>
(or the first and last points in
the <code class="parameter">pointList</code>). This leaves the polygon open—making it not appear
to be a polygon at all, but rather a series of straight lines connected
at their end points. If <code class="parameter">isClosed</code> is <code class="constant">true</code>, as it is by default, the
polygon will appear to be a polygon, a closed figure.
</p><p>
<code class="methodname">FillPolygon()</code> is a simpler function; it fills in the entire area enclosed
by the polygon.
</p><p>
Both functions must calculate the frame rectangle of a polygon
constructed from a point list—that is, the smallest rectangle that
contains all the points in the polygon. If you know what this rectangle
is, you can make the function somewhat more efficient by passing it as
the <code class="parameter">rect</code> parameter.
</p><p>
Both functions draw using the specified pattern—or, if no pattern
is specified, in the current high color. Neither function alters the
current pen position.
</p><p>
See also:
<a class="link" href="BView.html#BView_SetPenSize" title="SetPenSize(), PenSize()"><code class="methodname">SetPenSize()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StrokeRect"></a><a id="BView_FillRect"></a>
StrokeRect(), FillRect()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeRect</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillRect</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />              <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code><p>
These functions draw a rectangle. <code class="methodname">StrokeRect()</code> strokes a line around the
edge of the rectangle; the width of the line is determined by the current
pen size. <code class="methodname">FillRect()</code> fills in the entire rectangle.
</p><p>
Both functions draw using the pattern specified by <code class="parameter">aPattern</code>—or, if
no pattern is specified, in the current high color. Neither function
alters the current pen position.
</p><p>
See also:
<a class="link" href="BView.html#BView_SetPenSize" title="SetPenSize(), PenSize()"><code class="methodname">SetPenSize()</code></a>,
<a class="link" href="BView.html#BView_StrokeRoundRect" title="StrokeRoundRect(), FillRoundRect()"><code class="methodname">StrokeRoundRect()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StrokeRoundRect"></a><a id="BView_FillRoundRect"></a>
StrokeRoundRect(), FillRoundRect()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeRoundRect</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                     <span class="methodparam"><span class="type">float </span><span class="parameter">xRadius</span></span>,<br />                     <span class="methodparam"><span class="type">float </span><span class="parameter">yRadius</span></span>,<br />                     <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillRoundRect</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                   <span class="methodparam"><span class="type">float </span><span class="parameter">xRadius</span></span>,<br />                   <span class="methodparam"><span class="type">float </span><span class="parameter">yRadius</span></span>,<br />                   <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code><p>
These functions draw a rectangle with rounded corners. The corner arc is
one-quarter of an ellipse, where the ellipse would have a horizontal
radius equal to <code class="parameter">xRadius</code> and a vertical radius equal to <code class="parameter">yRadius</code>.
</p><p>
Except for the rounded corners of the rectangle, these functions work
exactly like
<a class="link" href="BView.html#BView_StrokeRect" title="StrokeRect(), FillRect()"><code class="methodname">StrokeRect()</code></a> and
<a class="link" href="BView.html#BView_FillRect"><code class="methodname">FillRect()</code></a>.
</p><p>
Both functions draw using the pattern specified by <code class="parameter">aPattern</code>—or, if
no pattern is specified, in the current high color. Neither function
alters the current pen position.
</p><p>
See also:
<a class="link" href="BView.html#BView_StrokeEllipse" title="StrokeEllipse(), FillEllipse(), StrokeArc(), FillArc()"><code class="methodname">StrokeEllipse()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StrokeShape"></a><a id="BView_FillShape"></a>
StrokeShape(), FillShape()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeShape</span>(<span class="methodparam"><span class="type"><a class="link" href="BShape.html" title="BShape"><code class="classname">BShape</code></a>* </span><span class="parameter">shape</span></span>,<br />                 <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillShape</span>(<span class="methodparam"><span class="type"><a class="link" href="BShape.html" title="BShape"><code class="classname">BShape</code></a>* </span><span class="parameter">shape</span></span>,<br />               <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code><p>
These functions draw a shape. <code class="methodname">StrokeShape()</code> strokes a line around the
edge of the shape; the width of the line is determined by the current pen
size. <code class="methodname">FillShape()</code> fills in the entire shape.
</p><p>
Both functions draw using the pattern specified by <code class="parameter">aPattern</code>—or, if
no pattern is specified, in the current high color. Neither function
alters the current pen position.
</p><p>
See also:
<a class="link" href="BView.html#BView_SetPenSize" title="SetPenSize(), PenSize()"><code class="methodname">SetPenSize()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StrokeTriangle"></a><a id="BView_FillTriangle"></a>
StrokeTriangle(), FillTriangle()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeTriangle</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">firstPoint</span></span>,<br />                    <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">secondPoint</span></span>,<br />                    <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">thirdPoint</span></span>,<br />                    <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">StrokeTriangle</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">firstPoint</span></span>,<br />                    <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">secondPoint</span></span>,<br />                    <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">thirdPoint</span></span>,<br />                    <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                    <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillTriangle</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">firstPoint</span></span>,<br />                  <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">secondPoint</span></span>,<br />                  <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">thirdPoint</span></span>,<br />                  <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">FillTriangle</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">firstPoint</span></span>,<br />                  <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">secondPoint</span></span>,<br />                  <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">thirdPoint</span></span>,<br />                  <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>,<br />                  <span class="methodparam"><span class="type">pattern </span><span class="parameter">aPattern</span><span class="initializer"> = <span class="constant">B_SOLID_HIGH</span></span></span>);</code>
</div><p>
These functions draw a triangle, a three-sided polygon.
<code class="methodname">StrokeTriangle()</code> strokes a line the width of the
current pen size from the first point to the second, from the second point
to the third, then back to the first point.
<code class="methodname">FillTriangle()</code> fills in the area that the three
points enclose.
</p><p>
Each function must calculate the smallest rectangle that contains the
triangle. If you know what this rectangle is, you can make the function
marginally more efficient by passing it as the <code class="parameter">rect</code> parameter.
</p><p>
Both functions do their drawing using the pattern specified by
<code class="parameter">aPattern</code>—or, if no pattern is specified, in the current high color.
Neither function alters the current pen position.
</p><p>
See also:
<a class="link" href="BView.html#BView_SetPenSize" title="SetPenSize(), PenSize()"><code class="methodname">SetPenSize()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_BeginLineArray"></a><a id="BView_AddLine"></a>
<a id="BView_EndLineArray"></a>
BeginLineArray(), AddLine(), EndLineArray()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">BeginLineArray</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">count</span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">AddLine</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">start</span></span>,<br />             <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">end</span></span>,<br />             <span class="methodparam"><span class="type">rgb_color </span><span class="parameter">color</span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">EndLineArray</span>();</code><p>
These functions provide a more efficient way of drawing a large number of
lines than repeated calls to
<a class="link" href="BView.html#BView_StrokeLine" title="StrokeLine()"><code class="methodname">StrokeLine()</code></a>.
<code class="methodname">BeginLineArray()</code>
signals the beginning of a series of up to count
<code class="methodname">AddLine()</code> calls;
<code class="methodname">EndLineArray()</code>
signals the end of the series. Each
<code class="methodname">AddLine()</code>
call defines a line from
the start point to the end point, associates it with a particular <code class="parameter">color</code>,
and adds it to the array. The lines can each be a different color; they
don't have to be contiguous. When
<code class="methodname">EndLineArray()</code>
is called, all the lines
are drawn—using the then current pen size—in the order that
they were added to the array.
</p><p>
These functions don't change any graphics parameters. For example, they
don't move the pen or change the current high and low colors. Parameter
values that are in effect when
<code class="methodname">EndLineArray()</code>
is called are the ones used
to draw the lines. The high and low colors are ignored in favor of the
<code class="parameter">color</code> specified for each line.
</p><p>
The <code class="parameter">count</code> passed to
<code class="methodname">BeginLineArray()</code>
is an upper limit on the number of
lines that can be drawn. Keeping the count close to accurate and within
reasonable bounds helps the efficiency of the line-array mechanism. It's
a good idea to keep it less than 256; above that number, memory
requirements begin to impinge on performance.
</p><p>
See also:
<a class="link" href="BView.html#BView_StrokeLine" title="StrokeLine()"><code class="methodname">StrokeLine()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_BeginPicture"></a><a id="BView_AppendToPicture"></a>
<a id="BView_EndPicture"></a>
BeginPicture() , AppendToPicture() , EndPicture()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">BeginPicture</span>(<span class="methodparam"><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">AppendToPicture</span>(<span class="methodparam"><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>);</code><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="methodname">EndPicture</span>();</code><p>
<code class="methodname">BeginPicture()</code> starts a new "picture recording" session: Subsequent
drawing instructions invoked upon the view are recorded in the
<a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>
argument. <code class="methodname">AppendToPicture()</code> does the same, but doesn't clear the argument
first—it tacks additional instructions on to the end of the
<a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>.
<code class="methodname">EndPicture()</code> ends the recording session; it returns the object
that was passed to <code class="methodname">BeginPicture()</code> or <code class="methodname">AppendToPicture()</code>.
</p><p>
While it's recording a picture, the <code class="classname">BView</code>
doesn't display anything to the screen. To render the drawing, you use the
<a class="link" href="BView.html#BView_DrawPicture" title="DrawPicture(), DrawPictureAsync()"><code class="methodname">DrawPicture()</code></a>
function.
</p><p>
The picture captures only primitive graphics operations such as
<a class="link" href="BView.html#BView_DrawString" title="DrawString()"><code class="methodname">DrawString()</code></a>,
<a class="link" href="BView.html#BView_FillArc"><code class="methodname">FillArc()</code></a>,
and <a class="link" href="BView.html#BView_SetFont" title="SetFont(), GetFont()"><code class="methodname">SetFont()</code></a>.
Furthermore, only instructions
performed by this view are recorded; the drawing done by the view's
children is not recorded.
</p><p>
A <a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>
can be recorded only if the <code class="classname">BView</code> is attached to a window. The
window can be off-screen and the view itself can be hidden or reside
outside the current clipping region.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_CopyBits"></a>CopyBits()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">CopyBits</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">source</span></span>,<br />              <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">destination</span></span>);</code><p>
Copies the image displayed in the <code class="parameter">source</code>
rectangle to the <code class="parameter">destination</code>
rectangle, where both rectangles lie within the view and are stated in
the <code class="classname">BView</code>'s coordinate system.
</p><p>
If the two rectangles aren't the same size, the source image is scaled to
fit.
</p><p>
If not all of the <code class="parameter">destination</code> rectangle lies
within the <code class="classname">BView</code>'s visible
region, the <code class="parameter">source</code> image is clipped rather than scaled.
</p><p>
If not all of the <code class="parameter">source</code> rectangle lies within
the <code class="classname">BView</code>'s visible
region, only the visible portion is copied. It's mapped to the
corresponding portion of the destination rectangle. The <code class="classname">BView</code> is then
invalidated so its
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>
function will be called to update the part of
the destination rectangle that can't be filled with the source image.
</p><p>
The <code class="classname">BView</code> must be attached to a window.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DrawPicture"></a><a id="BView_DrawPictureAsync"></a>
DrawPicture(), DrawPictureAsync()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawPicture</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawPicture</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawPicture</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">filename</span></span>,<br />                 <span class="methodparam"><span class="type">off_t </span><span class="parameter">offset</span></span>,<br />                 <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawPictureAsync</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawPictureAsync</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>* </span><span class="parameter">picture</span></span>,<br />                      <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DrawPictureAsync</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">filename</span></span>,<br />                      <span class="methodparam"><span class="type">off_t </span><span class="parameter">offset</span></span>,<br />                      <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code>
</div><p>
Draws the previously recorded picture at the current pen
position—or at the specified point in the <code class="classname">BView</code>'s coordinate
system. The point or pen position is taken as the coordinate origin for
all the drawing instructions recorded in the
<a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>. The last form of
the method plays a picture from an arbitrary offset of a file.
</p><p>
The two functions differ in only one respect: <code class="methodname">DrawPicture()</code> waits for the
Application Server to finish rendering the image before it returns.
<code class="methodname">DrawPictureAsync()</code>
doesn't wait; it passes the image to the server and
returns immediately. The latter function can be more efficient in some
cases—for example, you might use an asynchronous function to draw
several bitmaps and then call
<a class="link" href="BView.html#BView_Sync"><code class="methodname">Sync()</code></a>
to wait for them all to finish rather than wait for each one individually:
</p><p>
Nothing that's done in the
<a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a>
can affect anything in the <code class="classname">BView</code>'s
graphics state—for example, the
<a class="link" href="BPicture.html" title="BPicture"><code class="classname">BPicture</code></a> can't reset the current
high color or the pen position. Conversely, nothing in the <code class="classname">BView</code>'s
current graphics state affects the drawing instructions captured in the
picture. The graphics parameters that were in effect when the picture was
recorded determine what the picture looks like.
</p><p>
See also:
<a class="link" href="BView.html#BView_BeginPicture" title="BeginPicture() , AppendToPicture() , EndPicture()"><code class="methodname">BeginPicture()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Flush"></a><a id="BView_Sync"></a>
Flush(), Sync()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Flush</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Sync</span>() <span class="modifier">const</span>;</code><p>
These functions flush the window's connection to the Application Server.
If the <code class="classname">BView</code> isn't attached to a window,
<code class="methodname">Flush()</code> does nothing.
</p><div class="admonition warning"><div class="title">Warning</div><div class="graphic"><img class="icon" alt="Warning" width="32" src="./images/admonitions/Stop_32.png" /><div class="text"><p>If the <code class="classname">BView</code> isn't attached to a window, <code class="methodname">Sync()</code> will crash the
application.</p></div></div></div><p>
For reasons of efficiency, the window's connection to the Application
Server is buffered. Drawing instructions destined for the server are
placed in the buffer and dispatched as a group when the buffer becomes
full. Flushing empties the buffer, sending whatever it contains to the
server, even if it's not yet full.
</p><p>
The buffer is automatically flushed on every update. However, if you do
any drawing outside the update mechanism—in response to interface
messages, for example—you need to explicitly flush the connection
so that drawing instructions won't languish in the buffer while waiting
for it to fill up or for the next update. You should also flush it if you
call any drawing functions from outside the window's thread.
</p><p>
<code class="methodname">Flush()</code> simply flushes the buffer and returns. It does the same work as
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>'s
<a class="link" href="BWindow.html#BWindow_Flush" title="Flush(), Sync()">function</a> of the same name.
</p><p>
<code class="methodname">Sync()</code> flushes the connection, then waits until the server has executed
the last instruction that was in the buffer before returning. This
alternative to <code class="methodname">Flush()</code> prevents the application from getting ahead of the
server (ahead of what the user sees on-screen) and keeps both processes
synchronized.
</p><p>
It's a good idea, for example, to call <code class="methodname">Sync()</code>,
rather than <code class="methodname">Flush()</code>, after
employing <code class="classname">BView</code>s to produce a bitmap image (a
<a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a> object).
<code class="methodname">Sync()</code> is
the only way you can be sure the image has been completely rendered
before you attempt to draw with it.
</p><p>
(Note that all <code class="classname">BView</code>s attached to a window share the same connection to
the Application Server. Calling <code class="methodname">Flush()</code>
or <code class="methodname">Sync()</code> for any one of them
flushes the buffer for all of them.)
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Invalidate"></a>Invalidate()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Invalidate</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Invalidate</span>();</code>
</div><p>
Invalidates the <code class="parameter">rect</code> portion of the view, causing update
messages—and consequently
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> notifications—to be
generated for the <code class="classname">BView</code> and all descendants that lie wholly or partially
within the rectangle. The rectangle is stated in the <code class="classname">BView</code>'s coordinate
system.
</p><p>
If no rectangle is specified, the <code class="classname">BView</code>'s entire bounds rectangle is
invalidated.
</p><p>
Since only <code class="classname">BView</code>s that are attached to a window can draw, only attached
<code class="classname">BView</code>s can be invalidated.
</p><p>
See also:
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>,
<a class="link" href="BView.html#BView_GetClippingRegion" title="GetClippingRegion()"><code class="methodname">GetClippingRegion()</code></a>,
<a class="link" href="BWindow.html#BWindow_UpdateIfNeeded" title="UpdateIfNeeded()"><code class="methodname">BWindow::UpdateIfNeeded()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_InvertRect"></a>InvertRect()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">InvertRect</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>);</code><p>
Inverts all the colors displayed within the <code class="parameter">rect</code> rectangle. A subsequent
<code class="methodname">InvertRect()</code> call on the same rectangle restores the original colors.
This operation can be used to "highlight" a selection made as the user
drags the mouse.
</p><p>
The rectangle is stated in the <code class="classname">BView</code>'s coordinate system.
</p><p>
See also:
<a class="link" href="BScreen.html#BScreen_ColorMap" title="ColorMap(), IndexForColor(), ColorForIndex()"><code class="methodname">BScreen::ColorMap()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetViewBitmap"></a><a id="BView_ClearViewBitmap"></a>
SetViewBitmap(), ClearViewBitmap()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetViewBitmap</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">bitmap</span></span>,<br />                   <span class="methodparam"><span class="type">uint32 </span><span class="parameter">follow</span><span class="initializer"> = <span class="constant">B_FOLLOW_TOP</span> | <span class="constant">B_FOLLOW_LEFT</span></span></span>,<br />                   <span class="methodparam"><span class="type">uint32 </span><span class="parameter">options</span><span class="initializer"> = <span class="constant">B_TILE_BITMAP</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetViewBitmap</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">bitmap</span></span>,<br />                   <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">source</span></span>,<br />                   <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">destination</span></span>,<br />                   <span class="methodparam"><span class="type">uint32 </span><span class="parameter">follow</span><span class="initializer"> = <span class="constant">B_FOLLOW_TOP</span> | <span class="constant">B_FOLLOW_LEFT</span></span></span>,<br />                   <span class="methodparam"><span class="type">uint32 </span><span class="parameter">options</span><span class="initializer"> = <span class="constant">B_TILE_BITMAP</span></span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ClearViewBitmap</span>();</code><p>
<code class="methodname">SetViewBitmap()</code> sets the background bitmap for the view. The view bitmap
is a background image for the view; all drawing in the view occurs over
this bitmap. The background color is used to fill in the visible regions
not covered by the background bitmap.
</p><p>
The background bitmap is passed in <code class="parameter">bitmap</code>.
The caller can delete <code class="parameter">bitmap</code>
after the function returns.
</p><p>
If a <code class="parameter">source</code> rectangle is given, only that part of the bitmap is used.
Otherwise, the entire bitmap is used as the background bitmap. The
<code class="parameter">destination</code> rectangle, if given, specifies the placement of the bitmap in
the view. It need not be the same size as the source rectangle; scaling
is performed automatically by the application server. If no destination
is given, the image will be placed, unscaled, at the upper left corner of
the view.
</p><p>
<code class="parameter">follow</code> determines the behavior of destination as the view is resized; see
the <code class="classname">BView</code> <a class="link" href="BView.html#BView_Constructor" title="BView()">constructor</a>
for specifics. <code class="parameter">options</code> specifies additional view
options. Currently, only one option, <code class="constant">B_TILE_BITMAP</code>, is defined. If set,
the view bitmap is tiled across the view.
</p><p>
<code class="methodname">ClearViewBitmap()</code> clears the background bitmap for the view.
</p><p>
See also:
"<a class="xref" href="TheInterfaceKit_Drawing.html#TheInterfaceKit_Drawing_BackgroundBitmap" title="The Background Bitmap">The Background Bitmap</a>"
in the "<a class="xref" href="TheInterfaceKit_Drawing.html" title="Drawing">Drawing</a>"
section of this chapter,
<a class="link" href="BView.html#BView_SetViewColor" title="SetViewColor(), ViewColor()"><code class="methodname">SetViewColor()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_SetViewOverlay"></a><a id="BView_ClearViewOverlay"></a>
SetViewOverlay(), ClearViewOverlay()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetViewOverlay</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">bitmap</span></span>,<br />                    <span class="methodparam"><span class="type">rgb_color* </span><span class="parameter">colorKey</span></span>,<br />                    <span class="methodparam"><span class="type">uint32 </span><span class="parameter">follow</span><span class="initializer"> = <span class="constant">B_FOLLOW_TOP</span> | <span class="constant">B_FOLLOW_LEFT</span></span></span>,<br />                    <span class="methodparam"><span class="type">uint32 </span><span class="parameter">options</span><span class="initializer"> = 0</span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetViewOverlay</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">bitmap</span></span>,<br />                    <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">source</span></span>,<br />                    <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">destination</span></span>,<br />                    <span class="methodparam"><span class="type">rgb_color* </span><span class="parameter">colorKey</span></span>,<br />                    <span class="methodparam"><span class="type">uint32 </span><span class="parameter">follow</span><span class="initializer"> = <span class="constant">B_FOLLOW_TOP</span> | <span class="constant">B_FOLLOW_LEFT</span></span></span>,<br />                    <span class="methodparam"><span class="type">uint32 </span><span class="parameter">options</span><span class="initializer"> = 0</span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ClearViewOverlay</span>();</code><p>
<code class="methodname">SetViewOverlay()</code> sets the overlay bitmap for the view. The overlay bitmap
is superimposed on top of the view's contents. The <code class="parameter">colorKey</code> is used to
determine which color in the overlay should be treated as transparent,
allowing the view's contents to be visible.
</p><p>
The overlay bitmap is passed in <code class="parameter">bitmap</code>. The
caller can delete <code class="parameter">bitmap</code>
after the function returns.
</p><p>
If a <code class="parameter">source</code> rectangle is given, only that part of the bitmap is used.
Otherwise, the entire bitmap is used as the overlay bitmap. The
<code class="parameter">destination</code> rectangle, if given, specifies the placement of the overlay
bitmap in the view. It need not be the same size as the <code class="parameter">source</code> rectangle;
scaling is performed automatically by the application server. If no
<code class="parameter">destination</code> is given, the image will be placed, unscaled, at the upper
left corner of the view.
</p><p>
<code class="parameter">follow</code> determines the behavior of destination as the view is resized; see
the <code class="classname">BView</code> <a class="link" href="BView.html#BView_Constructor" title="BView()">constructor</a>
for specifics. <code class="parameter">options</code> specifies additional view
options. The same options allowed by
<a class="link" href="BView.html#BView_SetViewBitmap" title="SetViewBitmap(), ClearViewBitmap()"><code class="methodname">SetViewBitmap()</code></a> are allowed here.
</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>You can't use both a background bitmap and an overlay in the same view.</p></div></div></div><p>
<code class="methodname">ClearViewOverlay()</code> clears the overlay bitmap for the view.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_StaticFunctions"></a>Static Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Instantiate"></a>Instantiate()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">static </span><span class="type"><a class="link" href="BArchivable.html" title="BArchivable"><code class="classname">BArchivable</code></a>* </span><span class="methodname">Instantiate</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code><p>
Returns a new <code class="classname">BView</code> object, allocated by new and created with the version
of the constructor that takes a
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> archive. However, if the message
doesn't contain archived data for a <code class="classname">BView</code>,
<code class="methodname">Instantiate()</code> returns <code class="constant">NULL</code>.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Instantiate" title="Instantiate()"><code class="methodname">BArchivable::Instantiate()</code></a>,
<a class="link" href="TheSupportKit_Functions.html#instantiate_object" title="instantiate_object()"><code class="function">instantiate_object()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Scripting"></a>Scripting Support</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Scripting_ViewSuite"></a>Suite: "suite/vnd.Be-view"</h4></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Scripting_ViewFrame"></a>Frame</h5></div></div></div><p>The Frame property represents the frame rectangle of
the view. The frame is passed as a
<a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a>
(<code class="constant">B_RECT_TYPE</code>).</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns the view's frame rectangle.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Sets the view's frame rectangle.</td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Scripting_ViewHidden"></a>Hidden</h5></div></div></div><p>The "Hidden" property determines the visibility of the
view. The messages are equivalent to manipulating the view with the
<a class="link" href="BView.html#BView_IsHidden" title="IsHidden()"><code class="methodname">IsHidden()</code></a>,
<a class="link" href="BView.html#BView_Hide" title="Hide(), Show()"><code class="methodname">Hide()</code></a>, and
<a class="link" href="BView.html#BView_Show"><code class="methodname">Show()</code></a>.
Note that this differs slightly from
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>'s
<a class="link" href="BWindow.html#BWindow_Scripting_Hidden" title="Hidden">Hidden</a>
property, where multiple hides or shows are not nested.</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns <code class="constant">true</code> if the view is
hidden; <code class="constant">false</code> otherwise.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Hides or shows the view.</td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Scripting_ViewView"></a>View</h5></div></div></div><p>The "View" property represents the child views of the
current view. For all messages except <code class="constant">B_COUNT_PROPERTIES</code>, the current
specifier is popped off the specifier stack before the scripting message is
passed to the target view. Views can be specified either by index (as found
by <a class="link" href="BView.html#BView_ChildAt"><code class="methodname">ChildAt()</code></a>),
or name (as found by
<a class="link" href="BView.html#BView_FindView" title="FindView()"><code class="methodname">FindView()</code></a>).</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_COUNT_PROPERTIES</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns the number of of child views.</td></tr><tr><td>any</td><td><code class="constant">B_INDEX_SPECIFIER</code>,
<code class="constant">B_REVERSE_INDEX_SPECIFIER</code>,
<code class="constant">B_NAME_SPECIFIER</code></td><td>Directs the scripting message to the specified view.</td></tr></tbody></table></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Scripting_ContainerViewSuite"></a>Suite: "suite/vnd.Be-container-view"</h4></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Scripting_ContainerViewShelf"></a>Shelf</h5></div></div></div><p>The "Shelf" property pops the current specifier off the
specifier stack and then passes the scripting message to the shelf. If no
shelf is present, an error is returned.</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td>any</td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Directs the scripting message to the shelf.</td></tr></tbody></table></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_ArchivedFields"></a>Archived Fields</h3></div></div></div><p>
The <a class="link" href="BView.html#BView_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
function adds the following fields to its
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> argument:
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Field</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td><code class="varname">_frame</code></td><td><code class="constant">B_RECT_TYPE</code></td><td>The view's frame rectangle.</td></tr><tr><td><code class="varname">_resize_mode</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>Resizing mode.</td></tr><tr><td><code class="varname">_flags</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>View flags.</td></tr><tr><td><code class="varname">_fname</code> (array)</td><td><code class="constant">B_STRING_TYPE</code></td><td>Font family and style.</td></tr><tr><td><code class="varname">_fflt</code> (array)</td><td><code class="constant">B_FLOAT_TYPE</code></td><td>Font size, shear, and rotation (-1 if default).</td></tr><tr><td><code class="varname">_color</code> (array)</td><td><code class="constant">B_INT32_TYPE</code></td><td>High, low, and view colors.</td></tr><tr><td><code class="varname">_evmask</code> (array)</td><td><code class="constant">B_INT32_TYPE</code></td><td>Event mask and options.</td></tr><tr><td><code class="varname">_dbuf</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>Double buffering flag.</td></tr><tr><td><code class="varname">_origin</code></td><td><code class="constant">B_POINT_TYPE</code></td><td>Origin.</td></tr><tr><td><code class="varname">_psize</code></td><td><code class="constant">B_FLOAT_TYPE</code></td><td>Pen size.</td></tr><tr><td><code class="varname">_ploc</code></td><td><code class="constant">B_POINT_TYPE</code></td><td>Pen location.</td></tr><tr><td><code class="varname">_lmcapjoin</code> (array)</td><td><code class="constant">B_INT16_TYPE</code></td><td>Line cap mode and join mode.</td></tr><tr><td><code class="varname">_lmmiter</code></td><td><code class="constant">B_FLOAT_TYPE</code></td><td>Line mode miter value.</td></tr><tr><td><code class="varname">_blend</code> (array)</td><td><code class="constant">B_INT16_TYPE</code></td><td>Blending alpha and mode.</td></tr><tr><td><code class="varname">_dmod</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>Drawing mode.</td></tr><tr><td><code class="varname">_views</code></td><td><code class="constant">B_MESSAGE_TYPE</code></td><td>Archived child views (deep copy only).</td></tr></tbody></table></div><p>
Some of these fields may not be present if the setting they represent
isn't used, or is the default value. For example, if the font's family
and style were not changed, the <code class="varname">_fname</code> field won't be found in the
archive.
</p></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BTextView.html">BTextView</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BWindow.html">BWindow</a> </div><div id="footerB"><div id="footerBL"><a href="BTextView.html" title="BTextView"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BWindow.html" title="BWindow"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
