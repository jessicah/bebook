<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Interface Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheInterfaceKit.html" title="The Interface Kit" /><link rel="prev" href="BMenuField.html" title="BMenuField" /><link rel="next" href="BOutlineListView.html" title="BOutlineListView" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BMenuField.html" title="BMenuField"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BOutlineListView.html" title="BOutlineListView"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Interface Kit</div></div><div id="headerB">Prev: <a href="BMenuField.html">BMenuField</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BOutlineListView.html">BOutlineListView</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem"></a>BMenuItem</h2></div></div></div><a id="id1002580" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td><a class="link" href="BInvoker.html" title="BInvoker"><code class="classname">BInvoker</code></a></td></tr><tr><td>Mix-in Classes:</td><td><a class="link" href="BArchivable.html" title="BArchivable"><code class="classname">BArchivable</code></a></td></tr><tr><td>Declared In:</td><td><code class="filename">interface/MenuItem.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BMenuItem_Overview.html" title="BMenuItem">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BMenuItem.html#BMenuItem_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BMenuItem.html#BMenuItem_HookFunctions">Hook Functions</a></span></li><li><span class="section"><a href="BMenuItem.html#BMenuItem_MemberFunctions">Member Functions</a></span></li><li><span class="section"><a href="BMenuItem.html#BMenuItem_StaticFunctions">Static Functions</a></span></li><li><span class="section"><a href="BMenuItem.html#BMenuItem_ArchivedFields">Archived Fields</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Constructor"></a>BMenuItem</h4></div></div></div><div class="synopsisgroup">
<code class="constructorsynopsis cpp"><span class="methodname">BMenuItem</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">label</span></span>,<br />          <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>,<br />          <span class="methodparam"><span class="type">char </span><span class="parameter">shortcut</span><span class="initializer"> = 0</span></span>,<br />          <span class="methodparam"><span class="type">uint32 </span><span class="parameter">modifiers</span><span class="initializer"> = 0</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMenuItem</span>(<span class="methodparam"><span class="type"><a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a>* </span><span class="parameter">submenu</span></span>,<br />          <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMenuItem</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code>
</div><p>
Creates a new <code class="classname">BMenuItem</code> and sets its
<code class="parameter">label</code>, its invocation <code class="parameter">message</code>, both
of which can be <code class="constant">NULL</code>. When the user invokes the menu item,
<code class="parameter">message</code> is copied and the following fields
</p><p>
Whenever the user invokes the item, the model message is copied and the
copy is posted and marked for delivery to the target handler. Three
pieces of information are added to the copy before it's posted:
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Field</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td><code class="varname">when</code></td><td><code class="constant">B_INT64_TYPE</code></td><td>The time the item was invoked, as measured by the
number of microseconds since 12:00:00 AM January 1, 1970.</td></tr><tr><td><code class="varname">source</code></td><td><code class="constant">B_POINTER_TYPE</code></td><td>A pointer to the <code class="classname">BMenuItem</code> object.</td></tr><tr><td><code class="varname">index</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>The index of the item, its ordinal position in the
menu. Indices begin at 0.</td></tr></tbody></table></div><p>
By default, the target of the message is the window that the contains the
menu that the item is part of. Use
<a class="link" href="BInvoker.html#BInvoker_SetTarget" title="SetTarget(), Target(), IsTargetLocal(), Messenger()"><code class="methodname">SetTarget()</code></a>
to set a different target.
</p><p>
The constructor can also set a keyboard <code class="parameter">shortcut</code> for the item. The
character that's passed as the <code class="parameter">shortcut</code> parameter will be displayed to
the right of the item's label. Upper case characters are mapped to lower
case characters; if you want the user to have to type an upper case
character, you must include <code class="constant">B_SHIFT_KEY</code> in the modifers mask.
</p><p>
The <code class="parameter">modifiers</code> mask determines which modifier keys the user must hold down
for the shortcut to work. The mask can be formed by combining any of the
modifiers constants, especially these:
</p><ul class="itemizedlist"><li><p><code class="constant">B_SHIFT_KEY</code></p></li><li><p><code class="constant">B_CONTROL_KEY</code></p></li><li><p><code class="constant">B_OPTION_KEY</code></p></li></ul><p>
<code class="constant">B_COMMAND_KEY</code> is required for all keyboard shortcuts; it doesn't have to
be explicitly included in the mask.
</p><p>
If the <code class="classname">BMenuItem</code> is constructed to control a
<code class="parameter">submenu</code>, it can't take a
shortcut and it typically doesn't post messages—its role is to
bring up the submenu. However, it can be assigned a model <code class="parameter">message</code> if the
application must take some collateral action when the submenu is opened.
The item's initial label will be taken from the name of the submenu. It
can be changed after construction by calling
<a class="link" href="BMenuItem.html#BMenuItem_SetLabel" title="SetLabel(), Label()"><code class="methodname">SetLabel()</code></a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Destructor"></a>~BMenuItem()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BMenuItem</span>();</code><p>
Frees the item's label and its model
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> object. If the item
controls a submenu, that menu and all its items are also freed. Deleting
a <code class="classname">BMenuItem</code> destroys the entire menu hierarchy under that item.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_HookFunctions"></a>Hook Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Draw"></a><a id="BMenuItem_DrawContent"></a>
Draw(), DrawContent()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Draw</span>();</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">DrawContent</span>();</code><p>
These functions draw the menu item and highlight it if it's currently
selected. They're called by the <code class="methodname">Draw()</code> function of the
<a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a> where the
item is located whenever the menu is required to display itself; they
don't need to be called from within application code.
</p><p>
However, they can both be overridden by derived classes that display
something other than a textual label. The <code class="methodname">Draw()</code> function is called
first. It draws the background for the entire item, then calls
<code class="methodname">DrawContent()</code> to draw the label within the item's content area. After
<code class="methodname">DrawContent()</code> returns, it draws the check mark (if the item is currently
marked) and the keyboard shortcut (if any). It finishes by calling
<a class="link" href="BMenuItem.html#BMenuItem_Highlight" title="Highlight()"><code class="methodname">Highlight()</code></a>
if the item is currently selected.
</p><p>
Both functions draw by calling functions of the
<a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a> in which the item
is located. For example:
</p><pre class="programlisting example cpp"><span class="type">void</span> <code class="classname">MyItem</code>::<code class="methodname">DrawContent</code>()
{
   . . .
   <code class="methodname">Menu</code>()-&gt;<code class="methodname">DrawBitmap</code>(<code class="varname">image</code>);
   . . .
}</pre><p>
A derived class can override either <code class="methodname">Draw()</code>, if it needs to draw the
entire item, or <code class="methodname">DrawContent()</code>, if it needs to draw only within the
content area. A <code class="methodname">Draw()</code> function can find the frame rectangle it should
draw within by calling the <code class="classname">BMenuItem</code>'s
<a class="link" href="BMenuItem.html#BMenuItem_Frame" title="Frame()"><code class="methodname">Frame()</code></a>
function; a <code class="methodname">DrawContent()</code>
function can calculate the content area from the point returned by
<a class="link" href="BMenuItem.html#BMenuItem_ContentLocation" title="ContentLocation()"><code class="methodname">ContentLocation()</code></a>
and the dimensions provided by
<a class="link" href="BMenuItem.html#BMenuItem_GetContentSize" title="GetContentSize()"><code class="methodname">GetContentSize()</code></a>.
</p><p>
When <code class="methodname">DrawContent()</code> is called, the pen is positioned to draw the item's
label and the high color is appropriately set. The high color may be a
shade of gray, if the item is disabled, or black if it's enabled. If some
other distinction is used to distinguish disabled from enabled items,
<code class="methodname">DrawContent()</code> should check the item's current state by calling
<a class="link" href="BMenuItem.html#BMenuItem_IsEnabled"><code class="methodname">IsEnabled()</code></a>.
</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>If a derived class implements its own
<code class="methodname">DrawContent()</code> function, but still wants to draw a
textual string, it should do so by assigning the string as the
<code class="classname">BMenuItem</code>'s label and calling the inherited version
of <code class="methodname">DrawContent()</code>, not by calling
<code class="methodname">DrawString()</code>. This preserves the
<code class="classname">BMenuItem</code>'s ability to display a trigger character
in the string.</p></div></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Archive"></a>Archive()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Archive</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>,<br />                         <span class="methodparam"><span class="type">bool </span><span class="parameter">deep</span><span class="initializer"> = <span class="constant">true</span></span></span>) <span class="modifier">const</span>;</code><p>
Archives the <code class="classname">BMenuItem</code> by
recording its current settings in the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>
<code class="parameter">archive</code>.</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Archive" title="Archive()"><code class="methodname">BArchivable::Archive()</code></a>,
<a class="link" href="BMenuItem.html#BMenuItem_Instantiate" title="Instantiate()"><code class="methodname">Instantiate()</code></a> static function
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_ContentLocation"></a>ContentLocation()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">ContentLocation</span>() <span class="modifier">const</span>;</code><p>
Returns the left top corner of the content area of the item, in the
coordinate system of the <a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a>
to which it belongs. The content area of
an item is the area where it displays its label (or whatever graphic
substitutes for the label). It doesn't include the part of the item where
a check mark or a keyboard shortcut could be displayed, nor the border
and background around the content area.
</p><p>
You would need to call this function only if you're implementing a
<a class="link" href="BMenuItem.html#BMenuItem_DrawContent"><code class="methodname">DrawContent()</code></a>
function to draw the contents of the menu item. The content
rectangle can be calculated from the point returned by this function and
the size specified by
<a class="link" href="BMenuItem.html#BMenuItem_GetContentSize" title="GetContentSize()"><code class="methodname">GetContentSize()</code></a>.
</p><p>
If the item isn't part of a menu, the return value is indeterminate.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Frame"></a>Frame()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">Frame</span>() <span class="modifier">const</span>;</code><p>
Returns the rectangle that frames the entire menu item, in the coordinate
system of the <a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a>
to which the item belongs. If the item hasn't been
added to a menu, the return value is indeterminate.
</p><p>
See also:
<a class="link" href="BMenu.html#BMenu_AddItem" title="AddItem()"><code class="methodname">BMenu::AddItem()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_GetContentSize"></a>GetContentSize()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">GetContentSize</span>(<span class="methodparam"><span class="type">float* </span><span class="parameter">width</span></span>,<br />                            <span class="methodparam"><span class="type">float* </span><span class="parameter">height</span></span>);</code><p>
Writes the size of the item's content area into the variables referred to
by <code class="parameter">width</code> and <code class="parameter">height</code>. The
content area of an item is the area where its
label (or whatever substitutes for the label) is drawn.
</p><p>
A <a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a> calls
<code class="methodname">GetContentSize()</code> for each of its items as it arranges them
in a column or a row; the function is not called for items in a matrix.
The information it provides helps determine where each item is located
and the overall size of the menu.
</p><p>
<code class="methodname">GetContentSize()</code> must report a size that's large enough to display the
content of the item (and separate one item from another). By default, it
reports an area just large enough to display the item's label. This area
is calculated from the label and the <a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a>'s current font.
</p><p>
If you design a class derived from <code class="classname">BMenuItem</code> and implement your own
<a class="link" href="BMenuItem.html#BMenuItem_Draw" title="Draw(), DrawContent()"><code class="methodname">Draw()</code></a> or
<a class="link" href="BMenuItem.html#BMenuItem_DrawContent"><code class="methodname">DrawContent()</code></a>
function, you should also implement a
<code class="methodname">GetContentSize()</code> function to report how much room will be needed to draw
the item's contents.
</p><p>
See also:
<a class="link" href="BMenuItem.html#BMenuItem_DrawContent"><code class="methodname">DrawContent()</code></a>,
<a class="link" href="BMenuItem.html#BMenuItem_ContentLocation" title="ContentLocation()"><code class="methodname">ContentLocation()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Highlight"></a>Highlight()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Highlight</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span></span>);</code><p>
Highlights the menu item when <code class="parameter">flag</code> is <code class="constant">true</code>,
and removes the highlighting
when <code class="parameter">flag</code> is <code class="constant">false</code>. Highlighting
simply inverts all the colors in the
item's frame rectangle (except for the check mark).
</p><p>
This function is called by the
<a class="link" href="BMenuItem.html#BMenuItem_Draw" title="Draw(), DrawContent()"><code class="methodname">Draw()</code></a> function whenever the item is
selected and needs to be drawn in its highlighted state. There's no
reason to call it yourself, unless you define your own version of
<a class="link" href="BMenuItem.html#BMenuItem_Draw" title="Draw(), DrawContent()"><code class="methodname">Draw()</code></a>.
However, it can be reimplemented in a derived class, if items belonging
to that class need to be highlighted in some way other than simple
inversion.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Invoke"></a>Invoke()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Invoke</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><p>
Augments the <a class="link" href="BInvoker.html" title="BInvoker"><code class="classname">BInvoker</code></a>
version of <a class="link" href="BInvoker.html#BInvoker_Invoke" title="Invoke(), InvokeNotify()"><code class="methodname">Invoke()</code></a>
to ensure that only enabled
menu items that are attached to a menu hierarchy can be invoked. This
function appropriately marks items when the user invokes them. Before
sending a message, it adds <code class="varname">when</code>,
<code class="varname">source</code>, and <code class="varname">index</code>
field to it, as
explained under the <code class="classname">BMenuItem</code>
<a class="link" href="BMenuItem.html#BMenuItem_Constructor" title="BMenuItem">constructor</a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_IsSelected"></a>IsSelected()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsSelected</span>() <span class="modifier">const</span>;</code><p>
Returns <code class="constant">true</code> if the menu item is currently selected,
and <code class="constant">false</code> if not.
Selected items are highlighted.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Menu"></a>Menu()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a>* </span><span class="methodname">Menu</span>() <span class="modifier">const</span>;</code><p>
Returns the menu where the item is located, or <code class="constant">NULL</code> if the item hasn't
yet been added to a menu.
</p><p>
See also:
<a class="link" href="BMenu.html#BMenu_AddItem" title="AddItem()"><code class="methodname">BMenu::AddItem()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_SetEnabled"></a><a id="BMenuItem_IsEnabled"></a>
SetEnabled(), IsEnabled()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetEnabled</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">enabled</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsEnabled</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetEnabled()</code> enables the <code class="classname">BMenuItem</code>
if the <code class="parameter">enabled</code> flag is <code class="constant">true</code>, disables
it if <code class="parameter">enabled</code> is <code class="constant">false</code>, and
updates the item if it's visible on-screen.
If the item controls a submenu, this function calls the submenu's
<code class="methodname">SetEnabled()</code> virtual function, passing it the same flag. This ensures
that the submenu is enabled or disabled as well.
</p><p>
<code class="methodname">IsEnabled()</code> returns <code class="constant">true</code> if the
<code class="classname">BMenuItem</code> is enabled, its menu is
enabled, and all menus above it in the hierarchy are enabled. It returns
<code class="constant">false</code> if the item is disabled or any objects above it in the menu
hierarchy are disabled.
</p><p>
Items and menus are enabled by default.
</p><p>
When using these functions, keep in mind that:
</p><ul class="itemizedlist"><li><p>
Disabling a <code class="classname">BMenuItem</code> that controls a submenu serves to disable the
entire menu hierarchy under the item.
</p></li><li><p>
Passing an argument of <code class="constant">true</code> to
<code class="methodname">SetEnabled()</code> is not sufficient to
enable the item if it's located in a disabled branch of the menu
hierarchy. It can only undo a previous <code class="methodname">SetEnabled()</code> call (with an
argument of <code class="constant">false</code>) on the same item.
</p></li></ul><p>
See also:
<a class="link" href="BMenu.html#BMenu_SetEnabled" title="SetEnabled(), IsEnabled()"><code class="methodname">BMenu::SetEnabled()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_SetLabel"></a><a id="BMenuItem_Label"></a>
SetLabel(), Label()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetLabel</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">const </span><span class="type">char* </span><span class="methodname">Label</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetLabel()</code> frees the item's current label
and copies <code class="parameter">string</code> to replace
it. If the menu is visible on-screen, it will be redisplayed with the
item's new label. If necessary, the menu will become wider (or narrower)
so that it fits the new label.
</p><p>
The Interface Kit calls this virtual function to:
</p><ul class="itemizedlist"><li><p>
Set the initial label of an item that controls a submenu to the name
of the submenu, and
</p></li><li><p>
Subsequently set the item's label to match the marked item in the
submenu, if the submenu was set up to have this feature.
</p></li></ul><p>
<code class="methodname">Label()</code> returns a pointer to the current label.
</p><p>
See also:
<a class="link" href="BMenu.html#BMenu_SetLabelFromMarked" title="SetLabelFromMarked() , IsLabelFromMarked()"><code class="methodname">BMenu::SetLabelFromMarked()</code></a>,
the <code class="classname">BMenuItem</code> <a class="link" href="BMenuItem.html#BMenuItem_Constructor" title="BMenuItem">constructor</a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_SetMarked"></a><a id="BMenuItem_IsMarked"></a>
SetMarked(), IsMarked()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetMarked</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsMarked</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetMarked()</code> adds a check mark to the left of
the item label if <code class="parameter">flag</code> is
<code class="constant">true</code>, or removes an existing mark if
<code class="parameter">flag</code> is <code class="constant">false</code>. If the menu is
visible on-screen. it's redisplayed with or without the mark.
</p><p>
<code class="methodname">IsMarked()</code> returns whether the item is currently marked.
</p><p>
See also:
<a class="link" href="BMenu.html#BMenu_SetLabelFromMarked" title="SetLabelFromMarked() , IsLabelFromMarked()"><code class="methodname">BMenu::SetLabelFromMarked()</code></a>,
<a class="link" href="BMenu.html#BMenu_FindMarked" title="FindMarked()"><code class="methodname">BMenu::FindMarked()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_SetShortcut"></a><a id="BMenuItem_Shortcut"></a>
SetShortcut(), Shortcut()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetShortcut</span>(<span class="methodparam"><span class="type">char </span><span class="parameter">shortcut</span></span>,<br />                         <span class="methodparam"><span class="type">uint32 </span><span class="parameter">modifiers</span></span>);</code><code class="methodsynopsis cpp"><span class="type">char </span><span class="methodname">Shortcut</span>(<span class="methodparam"><span class="type">uint32* </span><span class="parameter">modifiers</span><span class="initializer"> = <span class="constant">NULL</span></span></span>) <span class="modifier">const</span>;</code><p>
<code class="methodname">SetShortcut()</code> sets the <code class="parameter">shortcut</code>
character that's displayed at the right
edge of the menu item and the set of <code class="parameter">modifiers</code> that are associated with
the character. These two arguments work just like the arguments passed to
the <code class="classname">BMenuItem</code> constructor. See
<a class="xref" href="BMenuItem_Overview.html#BMenuItem_Overview_ShortcutsAndTriggers" title="Shortcuts and Triggers">Shortcuts and Triggers</a> for a more complete
description.
</p><p>
<code class="methodname">Shortcut()</code> returns the character that's used as the keyboard shortcut for
invoking the item, and writes a mask of all the modifier keys the
shortcut requires to the variable referred to by <code class="parameter">modifiers</code>. Since the
<span class="keycap">Command</span> key is required to operate the keyboard shortcut for any menu
item, <code class="constant">B_COMMAND_KEY</code> will always be part of the <code class="parameter">modifiers</code> mask. The mask
can also be tested against the <code class="constant">B_CONTROL_KEY</code>, <code class="constant">B_OPTION_KEY</code>, and
<code class="constant">B_SHIFT_KEY</code> constants.
</p><p>
The shortcut is initially set by the
<code class="classname">BMenuItem</code> <a class="link" href="BMenuItem.html#BMenuItem_Constructor" title="BMenuItem">constructor</a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_SetTrigger"></a><a id="BMenuItem_Trigger"></a>
SetTrigger(), Trigger()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetTrigger</span>(<span class="methodparam"><span class="type">char </span><span class="parameter">trigger</span></span>);</code><code class="methodsynopsis cpp"><span class="type">char </span><span class="methodname">Trigger</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetTrigger()</code> sets the <code class="parameter">trigger</code>
character that the user can type to invoke
the item while the item's menu is open on-screen. If a
<code class="parameter">trigger</code> is not
set, the Interface Kit will select one for the item, so it's not
necessary to call <code class="methodname">SetTrigger()</code>.
</p><p>
The character passed to this function has to match a character displayed
in the item—either the keyboard shortcut or a character in the
label. The case of the character doesn't matter; lowercase arguments will
match uppercase characters in the item and uppercase arguments will match
lowercase characters. When the item can be invoked by its trigger, the
trigger character is underlined.
</p><p>
If more than one character in the item matches the character passed,
<code class="methodname">SetTrigger()</code> tries first to mark the keyboard shortcut. Failing that, it
tries to mark an uppercase letter at the beginning of a word. Failing
that, it marks the first instance of the character in the label.
</p><p>
If the <code class="parameter">trigger</code> doesn't match any characters in the item, the item won't
have a trigger, not even one selected by the system.
</p><p>
<code class="methodname">Trigger()</code> returns the character set by
<code class="methodname">SetTrigger()</code>, or <code class="constant">NULL</code> if
<code class="methodname">SetTrigger()</code> didn't succeed or if
<code class="methodname">SetTrigger()</code> was never called and the
trigger is selected automatically.
</p><p>
See also:
<a class="link" href="BMenu.html#BMenu_SetTriggersEnabled" title="SetTriggersEnabled(), AreTriggersEnabled()"><code class="methodname">BMenu::SetTriggersEnabled()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Submenu"></a>Submenu()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a>* </span><span class="methodname">Submenu</span>() <span class="modifier">const</span>;</code><p>
Returns the <a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a>
object that the item controls, or <code class="constant">NULL</code> if the item
doesn't control a submenu.
</p><p>
See also:
the <code class="classname">BMenuItem</code> <a class="link" href="BMenuItem.html#BMenuItem_Constructor" title="BMenuItem">constructor</a>,
the <a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a> class
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_TruncateLabel"></a>TruncateLabel()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">TruncateLabel</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">maxWidth</span></span>,<br />                           <span class="methodparam"><span class="type">char* </span><span class="parameter">newLabel</span></span>);</code><p>
Removes characters from the middle of the item label and replaces them
with an ellipsis. This is done so that the label will fit within <code class="parameter">maxWidth</code>
coordinate units. The shortened string is copied into the <code class="parameter">newLabel</code> buffer.
</p><p>
This function is called by the <code class="classname">BMenuItem</code> when it draws the item's label,
but only if it's necessary to fit a long item into a smaller space. It
can be reimplemented by derived classes to do a better job of shortening
the string based on the actual content of the label.
</p><p>
Your version of <code class="methodname">TruncateLabel()</code> should be careful to not cut the trigger
character from the string.
</p><p>
See also:
<a class="link" href="BFont.html#BFont_GetTruncatedStrings" title="GetTruncatedStrings(), TruncateString()"><code class="methodname">BFont::GetTruncatedStrings()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_StaticFunctions"></a>Static Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_Instantiate"></a>Instantiate()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">static </span><span class="type"><a class="link" href="BArchivable.html" title="BArchivable"><code class="classname">BArchivable</code></a>* </span><span class="methodname">Instantiate</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code><p>
Returns a new <code class="classname">BMenuItem</code> object, allocated by new and created with the
version of the constructor that takes a <a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>
archive. However, if the
archive message doesn't contain data for a <code class="classname">BMenuItem</code> object, this
function returns <code class="constant">NULL</code>.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Instantiate" title="Instantiate()"><code class="methodname">BArchivable::Instantiate()</code></a>,
<a class="link" href="TheSupportKit_Functions.html#instantiate_object" title="instantiate_object()"><code class="function">instantiate_object()</code></a>,
<a class="link" href="BMenuItem.html#BMenuItem_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuItem_ArchivedFields"></a>Archived Fields</h3></div></div></div><p>
The <a class="link" href="BArchivable.html#BArchivable_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
function adds the following fields to its
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> argument:
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Field</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td><code class="varname">_label</code></td><td><code class="constant">B_STRING_TYPE</code></td><td>Text label of the menu item.</td></tr><tr><td><code class="varname">_disable</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> if menu item is disabled.</td></tr><tr><td><code class="varname">_marked</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> if menu item is marked.</td></tr><tr><td><code class="varname">_user_trig</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>User-defined trigger character.</td></tr><tr><td><code class="varname">_shortcut</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>Shortcut character.</td></tr><tr><td><code class="varname">_mods</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>Shortcut modifiers.</td></tr><tr><td><code class="varname">_msg</code></td><td><code class="constant">B_MESSAGE_TYPE</code></td><td>Model message for the item.</td></tr><tr><td><code class="varname">_submenu</code></td><td><code class="constant">B_MESSAGE_TYPE</code></td><td>Submenu (only in deep copy).</td></tr></tbody></table></div><p>
Some of these fields may not be present if the setting they represent
isn't used, or is the default value. For example, if no shortcut key was
defined, the <code class="varname">_shortcut</code> and
<code class="varname">_mods</code> fields won't be found in the archive.
</p></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BMenuField.html">BMenuField</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BOutlineListView.html">BOutlineListView</a> </div><div id="footerB"><div id="footerBL"><a href="BMenuField.html" title="BMenuField"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BOutlineListView.html" title="BOutlineListView"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
