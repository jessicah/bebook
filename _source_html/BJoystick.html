<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Device Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheDeviceKit.html" title="The Device Kit" /><link rel="prev" href="TheDeviceKit.html" title="The Device Kit" /><link rel="next" href="BSerialPort.html" title="BSerialPort" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="TheDeviceKit.html" title="The Device Kit"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheDeviceKit.html" title="The Device Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BSerialPort.html" title="BSerialPort"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Device Kit</div></div><div id="headerB">Prev: <a href="TheDeviceKit.html">The Device Kit</a>  Up: <a href="TheDeviceKit.html">The Device Kit</a>  Next: <a href="BSerialPort.html">BSerialPort</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick"></a>BJoystick</h2></div></div></div><a id="id942191" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td>–</td></tr><tr><td>mix-in classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">device/Joystick.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libdevice.so</code></td></tr><tr><td>Allocation:</td><td>Constructor only</td></tr></tbody></table></td><td>
<a class="link overview" href="BJoystick_Overview.html" title="BJoystick">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BJoystick.html#BJoystick_DataMembers">Data Members</a></span></li><li><span class="section"><a href="BJoystick.html#BJoystick_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BJoystick.html#BJoystick_MemberFunctions">Member Functions</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_DataMembers"></a>Data Members</h3></div></div></div><table class="variablelist fields"><col align="left" valign="top" width="1*" /><col align="left" valign="top" width="5*" /><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><span class="type">bigtime_t</span> <code class="varname">timestamp</code></span></p></td><td><p>
The time of the most recent update, as measured in
microseconds from the beginning of 1970.
</p></td></tr><tr><td><p><span class="term"><span class="type">int16</span> <code class="varname">horizontal</code></span></p></td><td><p>
The horizontal position of the joystick at the time of
the last update. Values increase as the joystick moves from left to right.
</p></td></tr><tr><td><p><span class="term"><span class="type">int16</span> <code class="varname">vertical</code></span></p></td><td><p>
The vertical position of the joystick at the time of the
last update. Values decrease as the joystick moves forward and increase
as it's pulled back.
</p></td></tr><tr><td><p><span class="term"><span class="type">bool</span> <code class="varname">button1</code></span></p></td><td><p>
<code class="constant">false</code> if the first button was pressed at the time of the
last update, and <code class="constant">true</code> if not.
</p></td></tr><tr><td><p><span class="term"><span class="type">bool</span> <code class="varname">button2</code></span></p></td><td><p>
<code class="constant">false</code> if the second button was pressed at the time of the
last update, and <code class="constant">true</code> if not.
</p></td></tr></tbody></table><p>The <code class="varname">horizontal</code> and <code class="varname">vertical</code> data members record values read directly from
the ports, values that simply digitize the analog output of the
joysticks. This class makes no effort to translate the values to a
standard scale or range. Values can range from 0 through 4,095, but
joysticks typically don't use the full range and some don't register all
values within the range that is used. The scale is not
linear—identical increments in different parts of the range can
reflect differing amounts of horizontal and vertical movement. The exact
variance from linearity and the extent of the usable range are partly
characteristics of the individual joystick and partly functions of the
computer's hardware.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>Typically you won't use these data members if you're using enhanced
mode; they're provided primarily for backward compatibility.</p></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_Constructor"></a>BJoystick()</h4></div></div></div><code class="constructorsynopsis cpp"><span class="methodname">BJoystick</span>();</code><p>Initializes the <code class="classname">BJoystick</code> object so that all values are set to 0. Before
using the object, you must call <a class="link" href="BJoystick.html#BJoystick_Open" title="Open() , Close()"><code class="methodname">Open()</code></a>
to open a particular joystick
port. For the object to register any meaningful values, you must call
<a class="link" href="BJoystick.html#BJoystick_Update" title="Update()"><code class="methodname">Update()</code></a> to query the open port.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_Destructor"></a>~BJoystick()</h4></div></div></div><code class="destructorsynopsis"><span class="modifier">virtual </span><span class="methodname">~BJoystick</span>();</code><p>Closes the port, if it was not closed already.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_CountAxes"></a><a id="BJoystick_GetAxisValues"></a>
CountAxes() , GetAxisValues()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">Enhanced Mode Only</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountAxes</span>();</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetAxisValues</span>(<span class="methodparam"><span class="type">int16* </span><span class="parameter">outValues</span></span>,<br />                       <span class="methodparam"><span class="type">int32 </span><span class="parameter">forStick</span><span class="initializer"> = 0</span></span>);</code><p><code class="methodname">CountAxes()</code> returns the number of axes on the opened game port.</p><p><code class="methodname">GetAxisValues()</code> fills the array pointed to by <code class="parameter">outValues</code> with the values
of all the axes connected to the specified joystick. The <code class="parameter">forStick</code>
parameter lets you choose which joystick on the game port to read the
values from (the default is to read from the first stick on the port).</p><p>The returned values range from -32,768 to 32,767.</p><p>The array <code class="parameter">outValues</code> must be large enough to contain the values for all
the axes. You can ensure that this is the case by using the following
code:</p><pre class="programlisting example cpp"><span class="type">int16*</span> <code class="varname">axes</code>;

<code class="varname">axes</code> = (<span class="type">int16*</span>) <code class="function">malloc</code>(<code class="function">sizeof</code>(<span class="type">int16</span>) * <code class="varname">stick</code>-&gt;<code class="methodname">CountAxes</code>());
<code class="varname">stick</code>-&gt;<code class="methodname">GetAxisValues</code>(<code class="varname">axes</code>);</pre><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>The name was returned successfully.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>The joystick specified by
<code class="parameter">forStick</code> doesn't exist.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_CountButtons"></a><a id="BJoystick_GetButtonValues"></a>
CountButtons() , GetButtonValues()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">Enhanced Mode Only</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountButtons</span>();</code><code class="methodsynopsis cpp"><span class="type">uint32 </span><span class="methodname">ButtonValues</span>();</code><p><code class="methodname">CountButtons()</code> returns the number of buttons on the opened game port.</p><p><code class="methodname">ButtonValues()</code> returns a 32-bit number in which each bit represents the
state of one button. The <code class="parameter">forStick</code> parameter lets you choose which
joystick on the game port to read the values from (the default is to read
from the first stick on the port). You can deterimine if a particular
button is down by using the following code:</p><pre class="programlisting example cpp"><span class="type">uint32</span> <code class="varname">buttonValues</code> = <code class="varname">stick</code>-&gt;<code class="methodname">ButtonValues</code>();

if (<code class="varname">buttonValues</code> &amp; (1 &lt;&lt; <code class="varname">whichButton</code>)) {
   <span class="comment">/* button number whichButton is pressed */</span>
}</pre></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_CountDevices"></a><a id="BJoystick_GetDeviceName"></a>
CountDevices() , GetDeviceName()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountDevices</span>();</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetDeviceName</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>,<br />                       <span class="methodparam"><span class="type">char* </span><span class="parameter">outName</span></span>,<br />                       <span class="methodparam"><span class="type">size_t </span><span class="parameter">bufSize</span><span class="initializer"> = <span class="constant">B_OS_NAME_LENGTH</span></span></span>);</code><p><code class="methodname">CountDevices()</code> returns the number of game ports on the computer.</p><p><code class="methodname">GetDeviceName()</code> returns the name of the device specified by the given
<code class="parameter">index</code>. The buffer pointed to by <code class="parameter">outName</code> is filled with the device name;
<code class="parameter">bufSize</code> indicates the size of the buffer.</p><p>The names returned by <code class="methodname">GetDeviceName()</code> can be passed into the
<a class="link" href="BJoystick.html#BJoystick_Open" title="Open() , Close()"><code class="methodname">Open()</code></a>
function to open a device.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>The <code class="classname">BJoystick</code> doesn't need to have an open device before you use these
functions; in fact, your application will typically use these to provide
user interface allowing the user to choose the joystick device they'd
like to use.</p></div></div></div><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>The name was returned successfully.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_INDEX</code>.</span></p></td><td><p>The specified <code class="parameter">index</code> is invalid.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NAME_TOO_LONG</code>.</span></p></td><td><p>The device name is too long for the buffer.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_CountHats"></a><a id="BJoystick_GetHatValues"></a>
CountHats() , GetHatValues()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">Enhanced Mode Only</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountHats</span>();</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetHatValues</span>(<span class="methodparam"><span class="type">int8* </span><span class="parameter">outHats</span></span>,<br />                      <span class="methodparam"><span class="type">int32 </span><span class="parameter">forStick</span><span class="initializer"> = 0</span></span>);</code><p><code class="methodname">CountHats()</code> returns the number of hats on the opened game port.</p><p><code class="methodname">GetHatValues()</code> fills the array pointed to by <code class="parameter">outHats</code> with the values of
all the hats connected to the specified joystick. The <code class="parameter">forStick</code> parameter
lets you choose which joystick on the game port to read the values from
(the default is to read from the first stick on the port).</p><p>The return value means the following:</p><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td>Centered</td></tr><tr><td>1</td><td>Up</td></tr><tr><td>2</td><td>Up and right</td></tr><tr><td>3</td><td>Right</td></tr><tr><td>4</td><td>Down and right</td></tr><tr><td>5</td><td>Down</td></tr><tr><td>6</td><td>Down and left</td></tr><tr><td>7</td><td>Left</td></tr><tr><td>8</td><td>Up and left</td></tr></tbody></table></div><p>The array <code class="parameter">outHats</code> must be large enough to contain the values for all the
hats. You can ensure that this is the case by using the following code:</p><pre class="programlisting example cpp"><span class="type">int8*</span> <code class="varname">hats</code>;

<code class="varname">hats</code> = (<span class="type">int8*</span>) <code class="function">malloc</code>(<code class="function">sizeof</code>(<span class="type">int8</span>) * <code class="varname">stick</code>-&gt;<code class="methodname">CountAxes</code>());
<code class="varname">stick</code>-&gt;<code class="methodname">GetHatValues</code>(<code class="varname">hats</code>);</pre><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>The name was returned successfully.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>The joystick specified by
<code class="parameter">forStick</code> doesn't exist.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_CountSticks"></a>CountSticks()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">Enhanced Mode Only</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountSticks</span>();</code><p>Returns the number of joysticks connected to the opened game port.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_GetAxisNameAt"></a><a id="BJoystick_GetHatNameAt"></a>
<a id="BJoystick_GetButtonNameAt"></a>
GetAxisNameAt() , GetHatNameAt() , GetButtonNameAt()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">Enhanced Mode Only</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetAxisNameAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>,<br />                       <span class="methodparam"><span class="type"><a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>* </span><span class="parameter">outName</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetHatNameAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>,<br />                      <span class="methodparam"><span class="type"><a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>* </span><span class="parameter">outName</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetButtonNameAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>,<br />                         <span class="methodparam"><span class="type"><a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>* </span><span class="parameter">outName</span></span>);</code><p>Returns the name of the control specified by the given <code class="parameter">index</code>. The
<a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>
object pointed to by <code class="parameter">outName</code> is set to the control's name.</p><p><code class="methodname">GetAxisNameAt()</code> returns the specified axis' name, <code class="methodname">GetHatNameAt()</code> returns
the specified hat's name, and <code class="methodname">GetButtonNameAt()</code> returns the specified
button's name.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_BAD_INDEX</code>.</span></p></td><td><p>The name was returned successfully.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_INDEX</code>.</span></p></td><td><p>The specified <code class="parameter">index</code> is invalid.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_GetControllerModule"></a><a id="BJoystick_GetControllerName"></a>
GetControllerModule(), GetControllerName()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">Enhanced Mode Only</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetControllerModule</span>(<span class="methodparam"><span class="type"><a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>* </span><span class="parameter">outName</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetControllerName</span>(<span class="methodparam"><span class="type"><a class="link" href="BString.html" title="BString"><code class="classname">BString</code></a>* </span><span class="parameter">outName</span></span>);</code><p><code class="methodname">GetControllerModule()</code> returns the name of the joystick module that
represents the opened joystick device. If the device isn't in enhanced
mode, this always returns "Legacy".</p><p><code class="methodname">GetControllerName()</code> returns the name of the joystick that's been
configured for the opened device. This is the same string that appears in
the Joysticks preference application. The returned string is always
"2-axis" if the device isn't in enhanced mode.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>The name was returned successfully.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_INDEX</code>.</span></p></td><td><p>The specified <code class="parameter">index</code> is invalid.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_EnterEnhancedMode"></a>EnterEnhancedMode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">EnterEnhancedMode</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">entry_ref* </span><span class="parameter">ref</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><p>Switches the device into enhanced mode. If <code class="parameter">ref</code> isn't <code class="constant">NULL</code>, it's treated
as a reference to a joystick description file (such as those in
<code class="filename">/boot/beos/etc/joysticks</code>). If <code class="parameter">ref</code> is <code class="constant">NULL</code>, the currently-configured
joystick settings (as per the Joysticks preference application) are used.</p><p>If enhanced mode is entered successfully (or the device is already in
enhanced mode), <code class="constant">true</code> is returned. Otherwise,
<code class="methodname">EnterEnhancedMode()</code> returns
<code class="constant">false</code>.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_IsCalibrationEnabled"></a><a id="BJoystick_EnableCalibration"></a>
IsCalibrationEnabled() , EnableCalibration()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">Enhanced Mode Only</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsCalibrationEnabled</span>();</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">EnableCalibration</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">calibrates</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><p><code class="methodname">IsCalibrationEnabled()</code> returns <code class="constant">true</code> if axis values returned by the
joystick will be calibrated automatically into the range -32,768 to
32,767, or <code class="constant">false</code> if the raw values will be returned.</p><p><code class="methodname">EnableCalibration()</code> enables or disables automatic calibration for the
joystick's axes. Specify a value of <code class="constant">true</code> for calibrates to enable
calibration; otherwise, specify <code class="constant">false</code>.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>The Joysticks preference application lets the user calibrate the
joystick. Calibration is enabled by default.</p></div></div></div><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>The name was returned successfully.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_INIT</code>.</span></p></td><td><p>The device isn't in enhanced mode.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_Open"></a><a id="BJoystick_Close"></a>
Open() , Close()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">Open</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">devName</span></span>);</code>

<code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">Open</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">devName</span></span>,<br />              <span class="methodparam"><span class="type">bool </span><span class="parameter">enterEnhanced</span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Close</span>();</code><p>These functions open the joystick port specified by <code class="parameter">devName</code> and close it
again. The <code class="parameter">devName</code> should be the name of a game port device. The easiest
way to determine valid device names is by using the
<a class="link" href="BJoystick.html#BJoystick_CountDevices" title="CountDevices() , GetDeviceName()"><code class="methodname">CountDevices()</code></a> and
<a class="link" href="BJoystick.html#BJoystick_GetDeviceName"><code class="methodname">GetDeviceName()</code></a> functions.</p><p>If it's able to open the port, <code class="methodname">Open()</code> returns a positive integer. If
unable or if the <code class="parameter">devName</code> isn't valid, it returns <code class="constant">B_ERROR</code>. If the <code class="parameter">devName</code> port
is already open, <code class="methodname">Open()</code> tries to close it first, then open it again.</p><p>By default, <code class="methodname">Open()</code> opens the device in enhanced mode. If you want to use
the old, unenhanced mode, you can use the second form of <code class="methodname">Open()</code> to
specify whether or not you want to use enhanced mode; set <code class="parameter">enterEnhanced</code>
to <code class="constant">true</code> to use enhanced mode; specify <code class="constant">false</code> if you don't want enhanced
mode.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>Even in enhanced mode, the classic <code class="classname">BJoystick</code> data members are valid
(for compatibility with older applications). However, they only give you
access to the first two axes and buttons of the joystick.</p></div></div></div><p>To be able to obtain joystick data, a <code class="classname">BJoystick</code> object must have a port
open.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_SetMaxLatency"></a>SetMaxLatency()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetMaxLatency</span>(<span class="methodparam"><span class="type">bigtime_t </span><span class="parameter">maxLatency</span></span>);</code><p>Specifies the maximum latency to allow when accessing the joystick.
Returns <code class="constant">B_OK</code> if the change is applied successfully, otherwise returns an
error code.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BJoystick_Update"></a>Update()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">Update</span>();</code><p>Updates the data members of the object so that they reflect the current
state of the joystick. An application would typically call <code class="methodname">Update()</code>
periodically to poll the condition of the device, then read the values of
the data members, or—if in enhanced mode—call the various functions
for obtaining joystick state information.</p><p>This function returns <code class="constant">B_ERROR</code> if the
<code class="classname">BJoystick</code> object doesn't have a port
open, and <code class="constant">B_OK</code> if it does.</p></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="TheDeviceKit.html">The Device Kit</a>  Up: <a href="TheDeviceKit.html">The Device Kit</a>  Next: <a href="BSerialPort.html">BSerialPort</a> </div><div id="footerB"><div id="footerBL"><a href="TheDeviceKit.html" title="The Device Kit"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheDeviceKit.html" title="The Device Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BSerialPort.html" title="BSerialPort"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
