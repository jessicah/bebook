<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Storage Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheStorageKit.html" title="The Storage Kit" /><link rel="prev" href="BResources.html" title="BResources" /><link rel="next" href="BSymLink.html" title="BSymLink" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BResources.html" title="BResources"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheStorageKit.html" title="The Storage Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BSymLink.html" title="BSymLink"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Storage Kit</div></div><div id="headerB">Prev: <a href="BResources.html">BResources</a>  Up: <a href="TheStorageKit.html">The Storage Kit</a>  Next: <a href="BSymLink.html">BSymLink</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable"></a>BStatable</h2></div></div></div><a id="id1252350" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td>None</td></tr><tr><td>Mix-in Classes:</td><td>None</td></tr><tr><td>Declared In:</td><td><code class="filename">storage/Statable.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BStatable_Overview.html" title="BStatable">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BStatable.html#BStatable_Member_Functions">Member Functions</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable_Member_Functions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable_GetCreationTime"></a><a id="BStatable_SetCreationTime"></a>
<a id="BStatable_GetModificationTime"></a>
<a id="BStatable_SetModificationTime"></a>
<a id="BStatable_GetAccessTime"></a>
<a id="BStatable_SetAccessTime"></a>
GetCreationTime(), SetCreationTime(), GetModificationTime(),
SetModificationTime(), GetAccessTime(), SetAccessTime()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetCreationTime</span>(<span class="methodparam"><span class="type">time_t* </span><span class="parameter">ctime</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetCreationTime</span>(<span class="methodparam"><span class="type">time_t </span><span class="parameter">ctime</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetModificationTime</span>(<span class="methodparam"><span class="type">time_t* </span><span class="parameter">mtime</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetModificationTime</span>(<span class="methodparam"><span class="type">time_t </span><span class="parameter">mtime</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetAccessTime</span>(<span class="methodparam"><span class="type">time_t* </span><span class="parameter">atime</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetAccessTime</span>(<span class="methodparam"><span class="type">time_t </span><span class="parameter">atime</span></span>);</code><div class="admonition warning"><div class="title">Warning</div><div class="graphic"><img class="icon" alt="Warning" width="32" src="./images/admonitions/Stop_32.png" /><div class="text"><p>Access time is currently unused.</p></div></div></div><p>
These function let you get and set the time at which the item was
created, last modified, and last accessed (opened). The measure of time
is given as seconds since (the beginning of ) January 1, 1970.
</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>The time quanta that <code class="function">stat</code> uses is seconds; the rest of the BeOS
measures time in microseconds (<span class="type">bigtime_t</span>).</p></div></div></div><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_ALLOWED</code>.</span></p></td><td><p>You tried to set a time field for a file on a read-only volume.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MEMORY</code>.</span></p></td><td><p>Couldn't get the necessary resources to complete the
transaction.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p> The node doesn't exist (abstract entry).</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable_GetNodeRef"></a>GetNodeRef()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetNodeRef</span>(<span class="methodparam"><span class="type">node_ref* </span><span class="parameter">nref</span></span>) <span class="modifier">const</span>;</code><p>
Copies the item's <span class="type">node_ref</span> structure into the <code class="parameter">nref</code> argument, which must
be allocated.
</p><p>
Typically, you use an node's <span class="type">node_ref</span> as a key to the Node Monitor by
passing the <span class="type">node_ref</span> structure to the
<a class="link" href="The_Node_Monitor.html#watch_node" title="watch_node()"><code class="function">watch_node()</code></a> function. The Node
Monitor watches the node for specific changes; see
"<a class="xref" href="The_Node_Monitor.html" title="The Node Monitor">The Node Monitor</a>"
section of this chapter for details.
</p><p>
As a convenience, you can use a <span class="type">node_ref</span> structure to initialize a
<a class="link" href="BDirectory.html" title="BDirectory"><code class="classname">BDirectory</code></a> object (through the
constructor or <a class="link" href="BDirectory.html#BDirectory_SetTo" title="SetTo(), Unset()"><code class="methodname">BDirectory::SetTo()</code></a>
function).
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MEMORY</code>.</span></p></td><td><p> Couldn't get the necessary resources to complete the transaction.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>The node doesn't exist (abstract entry).</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable_GetOwner"></a><a id="BStatable_SetOwner"></a>
<a id="BStatable_GetGroup"></a>
<a id="BStatable_SetGroup"></a>
<a id="BStatable_GetPermissions"></a>
<a id="BStatable_SetPermissions"></a>
GetOwner(), SetOwner(), GetGroup(), SetGroup(), GetPermissions(),
SetPermissions()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetOwner</span>(<span class="methodparam"><span class="type">uid_t* </span><span class="parameter">owner</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetOwner</span>(<span class="methodparam"><span class="type">uid_t </span><span class="parameter">owner</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetGroup</span>(<span class="methodparam"><span class="type">gid_t* </span><span class="parameter">group</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetGroup</span>(<span class="methodparam"><span class="type">gid_t </span><span class="parameter">group</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetPermissions</span>(<span class="methodparam"><span class="type">mode_t* </span><span class="parameter">perms</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetPermissions</span>(<span class="methodparam"><span class="type">mode_t </span><span class="parameter">perms</span></span>);</code><p>
These functions set and get the owner, group, and read/write/execute
permissions for the node:
</p><ul class="itemizedlist"><li><p>
The <code class="parameter">owner</code> identifier encodes the identity of the user that "owns" the
file.
</p></li><li><p>
The <code class="parameter">group</code> identifier encodes the "group" that is permitted group
access to the file (as declared by the permissions).
</p></li><li><p>
The <code class="parameter">permissions</code> value records nine "permission facts": Whether the
file can be read, written, and executed by the node's owner, by users
in the node's group, and by everybody else (read/write/execute *
owner/group/others = 9 items).
</p></li></ul><p>
The <span class="type">uid_t</span>, <span class="type">gid_t</span>, and <span class="type">mode_t</span> types used here are standard POSIX types.
All three are 32-bit unsigned integers and are defined in
<code class="filename">posix/sys/types.h</code>.
</p><p>
The owner and group encodings must match values found in the system's
user and group files (which are as currently unimplemented).
</p><p>
The permissions value is a combination of the following bitfield
constants (defined in <code class="filename">posix/sys/stat.h</code>):
</p><ul class="itemizedlist"><li><p>
<code class="constant">S_IRUSR</code> owner's read bit.
</p></li><li><p>
<code class="constant">S_IWUSR</code> owner's write bit.
</p></li><li><p>
<code class="constant">S_IXUSR</code> owner's execute bit.
</p></li><li><p>
<code class="constant">S_IRGRP</code> group's read bit.
</p></li><li><p>
<code class="constant">S_IWGRP</code> group's write bit.
</p></li><li><p>
<code class="constant">S_IXGRP</code> group's execute bit.
</p></li><li><p>
<code class="constant">S_IROTH</code> others' read bit.
</p></li><li><p>
<code class="constant">S_IWOTH</code> others' write bit.
</p></li><li><p>
<code class="constant">S_IXOTH</code> others' execute bit.
</p></li></ul><p>
For example:
</p><pre class="programlisting example cpp"><span class="comment">/* Is a file readable by everybody? */</span>
<span class="type">mode_t</span> <code class="varname">perms</code>;
if (<code class="varname">node</code>.<code class="methodname">GetPermissions</code>(&amp;<code class="varname">perms</code>) &lt; <code class="constant">B_OK</code>)
   <span class="comment">/* handle the error... */</span>

if (<code class="varname">perms</code> &amp; <code class="constant">S_ISROTH</code>)
   <span class="comment">// Yes it is</span>
else
   <span class="comment">// No it isn't</span></pre><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_ALLOWED</code>.</span></p></td><td><p>You tried to set permissions on a read-only volume.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>The node doesn't exist (abstract entry).</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable_GetSize"></a>GetSize()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetSize</span>(<span class="methodparam"><span class="type">off_t* </span><span class="parameter">size</span></span>) <span class="modifier">const</span>;</code><p>
Gets the size of the node's data portion (in bytes). Only the "used"
portions of the node's file blocks are counted; the amount of storage the
node actually requires (i.e. the number of blocks the node consumes) may
be larger than the size given here.
</p><p>
The size measurement doesn't include the node's attributes.
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MEMORY</code>.</span></p></td><td><p>Couldn't get the necessary resources to complete the
transaction.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>The node doesn't exist (abstract entry).</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable_GetStat"></a>GetStat()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetStat</span>(<span class="methodparam"><span class="type">struct stat* </span><span class="parameter">st</span></span>) <span class="modifier">const</span>;</code><p>
<code class="methodname">GetStat()</code> returns the
<a class="link" href="TheStorageKit_DefinedTypes.html#stat" title="stat"><span class="type">stat</span></a> structure for the node. The structure is
copied into the <code class="parameter">st</code> argument, which must be allocated. The <code class="classname">BStatable</code> object does
not cache the <span class="type">stat</span> structure; every time you call <code class="methodname">GetStat()</code>, fresh stat
information is retrieved.
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MEMORY</code>.</span></p></td><td><p>Couldn't get the necessary resources to complete the
transaction.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>The node doesn't exist (abstract entry).</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BStatable_IsFile"></a><a id="BStatable_IsDirectory"></a>
<a id="BStatable_IsSymLink"></a>
IsFile(), IsDirectory(), IsSymLink()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsFile</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsDirectory</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsSymLink</span>() <span class="modifier">const</span>;</code><p>
These functions return true if the node is a plain file, a directory, or
a symbolic link, respectively.
</p></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BResources.html">BResources</a>  Up: <a href="TheStorageKit.html">The Storage Kit</a>  Next: <a href="BSymLink.html">BSymLink</a> </div><div id="footerB"><div id="footerBL"><a href="BResources.html" title="BResources"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheStorageKit.html" title="The Storage Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BSymLink.html" title="BSymLink"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
