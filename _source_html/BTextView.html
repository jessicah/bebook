<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Interface Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheInterfaceKit.html" title="The Interface Kit" /><link rel="prev" href="BTextControl.html" title="BTextControl" /><link rel="next" href="BView.html" title="BView" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BTextControl.html" title="BTextControl"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BView.html" title="BView"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Interface Kit</div></div><div id="headerB">Prev: <a href="BTextControl.html">BTextControl</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BView.html">BView</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView"></a>BTextView</h2></div></div></div><a id="id1046098" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td><a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> &gt;
<a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a></td></tr><tr><td>Mix-in Classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">interface/TextView.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BTextView_Overview.html" title="BTextView">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BTextView.html#BTextView_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BTextView.html#BTextView_HookFunctions">Hook Functions</a></span></li><li><span class="section"><a href="BTextView.html#BTextView_MemberFunctions">Member Functions</a></span></li><li><span class="section"><a href="BTextView.html#BTextView_StaticFunctions">Static Functions</a></span></li><li><span class="section"><a href="BTextView.html#BTextView_ScriptingSupport">Scripting Support</a></span></li><li><span class="section"><a href="BTextView.html#BTextView_ArchivedFields">Archived Fields</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Constructor"></a>BTextView()</h4></div></div></div><div class="synopsisgroup">
<code class="constructorsynopsis cpp"><span class="methodname">BTextView</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">frame</span></span>,<br />          <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">name</span></span>,<br />          <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">textRect</span></span>,<br />          <span class="methodparam"><span class="type">uint32 </span><span class="parameter">resizingMode</span></span>,<br />          <span class="methodparam"><span class="type">uint32 </span><span class="parameter">flags</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BTextView</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">frame</span></span>,<br />          <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">name</span></span>,<br />          <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">textRect</span></span>,<br />          <span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>* </span><span class="parameter">font</span></span>,<br />          <span class="methodparam"><span class="modifier">const </span><span class="type">rgb_color* </span><span class="parameter">color</span></span>,<br />          <span class="methodparam"><span class="type">uint32 </span><span class="parameter">resizingMode</span></span>,<br />          <span class="methodparam"><span class="type">uint32 </span><span class="parameter">flags</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BTextView</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code>
</div><p>
Initializes the <code class="classname">BTextView</code> to the
<code class="parameter">frame</code> rectangle, stated in its eventual
parent's coordinate system, assigns it an identifying <code class="parameter">name</code>, sets its
resizing behavior to <code class="parameter">resizingMode</code> and its drawing
behavior with <code class="parameter">flags</code>.
These four arguments—<code class="parameter">frame</code>, <code class="parameter">name</code>,
<code class="parameter">resizingMode</code>, and <code class="parameter">flags</code>—are
identical to those declared for the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> class and are passed to the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
<a class="link" href="BView.html#BView_Constructor" title="BView()">constructor</a>.
The <code class="parameter">frame</code>, <code class="parameter">name</code>, and <code class="parameter">resizingMode</code> arguments are passed
to the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> class
unchanged, but two flags are added to the flags
argument—<code class="constant">B_FRAME_EVENTS</code>, so that the
<code class="classname">BTextView</code> can reformat the
text when it's resized, and <code class="constant">B_PULSE_NEEDED</code>, so that the caret marking the
insertion point can "blink" in time with <code class="constant">B_PULSE</code> messages. Later,
<a class="link" href="BTextView.html#BTextView_AttachedToWindow" title="AttachedToWindow()"><code class="methodname">AttachedToWindow()</code></a>
will set the window's pulse rate to 500,000 microseconds.
</p><p>
The text rectangle, <code class="parameter">textRect</code>, is stated in the
<code class="classname">BTextView</code>'s coordinate
system. It determines where text in placed within the view's bounds
rectangle:
</p><ul class="itemizedlist"><li><p>
The first line of text is placed at the top of the text rectangle. As
additional lines of text are entered into the view, the text grows
downward and may actually extend beyond the bottom of the rectangle.
</p></li><li><p>
The left and right sides of the text rectangle determine where lines
of text are placed within the view. Lines can be aligned to either side
of the rectangle, or they can be centered between the two sides. See
the <a class="link" href="BTextView.html#BTextView_SetAlignment" title="SetAlignment(), Alignment()"><code class="methodname">SetAlignment()</code></a>
function.
</p></li><li><p>
When lines wrap on word boundaries, the width of the text rectangle
determines the maximum length of a line; each line of text can be as
long as the rectangle is wide. When word wrapping isn't turned on,
lines can extend beyond the boundaries of the text rectangle. See the
<a class="link" href="BTextView.html#BTextView_SetWordWrap" title="SetWordWrap(), DoesWordWrap()"><code class="methodname">SetWordWrap()</code></a>
function.
</p></li></ul><p>
The bottom of the text rectangle is ignored; it doesn't limit the amount
of text the view can contain. The text can be limited by the number of
characters, but not by the number of lines.
</p><p>
If a default font is provided, the <code class="classname">BTextView</code> will display its text in
that font, unless another font is later set. Similarly, if a default
color is specified, the text will be displayed in that color, unless the
color is subsequently changed. If the font is <code class="constant">NULL</code> or not specified, the
<code class="classname">BTextView</code> uses the system plain font, <code class="varname">be_plain_font</code>. If the color pointer
is <code class="constant">NULL</code> or not specified, the text is drawn in black.
</p><p>
The constructor establishes the following default properties for a new
<code class="classname">BTextView</code>:
</p><ul class="itemizedlist"><li><p>
The text is selectable and editable. (See
<a class="link" href="BTextView.html#BTextView_MakeSelectable" title="MakeSelectable() , IsSelectable()"><code class="methodname">MakeSelectable()</code></a> and
<a class="link" href="BTextView.html#BTextView_MakeEditable" title="MakeEditable(), IsEditable()"><code class="methodname">MakeEditable()</code></a>.)
</p></li><li><p>
Multiple character formats are not permitted. (See
<a class="link" href="BTextView.html#BTextView_SetStylable" title="SetStylable(), IsStylable()"><code class="methodname">SetStylable()</code></a>.)
</p></li><li><p>
The text is left-aligned. (See
<a class="link" href="BTextView.html#BTextView_SetAlignment" title="SetAlignment(), Alignment()"><code class="methodname">SetAlignment()</code></a>.)
</p></li><li><p>
The tab width is 28.0 coordinate units. (See
<a class="link" href="BTextView.html#BTextView_SetTabWidth" title="SetTabWidth(), TabWidth()"><code class="methodname">SetTabWidth()</code></a>.)
</p></li><li><p>
Word wrapping is turned on. (See
<a class="link" href="BTextView.html#BTextView_SetWordWrap" title="SetWordWrap(), DoesWordWrap()"><code class="methodname">SetWordWrap()</code></a>.)
</p></li><li><p>
Automatic indenting is turned off. (See
<a class="link" href="BTextView.html#BTextView_SetAutoindent" title="SetAutoindent(), DoesAutoindent()"><code class="methodname">SetAutoindent()</code></a>.)
</p></li><li><p>
The maximum amount of data is permitted. (See
<a class="link" href="BTextView.html#BTextView_SetMaxBytes" title="SetMaxBytes(), MaxBytes()"><code class="methodname">SetMaxBytes()</code></a>.)
</p></li><li><p>
The view doesn't grow to accommodate more characters. (See
<a class="link" href="BTextView.html#BTextView_MakeResizable" title="MakeResizable(), IsResizable()"><code class="methodname">MakeResizable()</code></a>.)
</p></li><li><p>
All characters the user may type are acceptable. (See
<a class="link" href="BTextView.html#BTextView_DisallowChar" title="DisallowChar(), AllowChar()"><code class="methodname">DisallowChar()</code></a>.)
</p></li></ul><p>
See also:
<a class="link" href="BTextView.html#BTextView_AttachedToWindow" title="AttachedToWindow()"><code class="methodname">AttachedToWindow()</code></a>,
<a class="link" href="BTextView.html#BTextView_SetFontAndColor" title="SetFontAndColor(), GetFontAndColor()"><code class="methodname">SetFontAndColor()</code></a>,
the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> <a class="link" href="BView.html#BView_Constructor" title="BView()">constructor</a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Destructor"></a>~BTextView</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BTextView()</span>();</code><p>
Frees the memory the <code class="classname">BTextView</code> allocated to hold the text and to store
information about it.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_HookFunctions"></a>Hook Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_AttachedToWindow"></a>AttachedToWindow()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">AttachedToWindow</span>();</code><p>
Completes the initialization of the <code class="classname">BTextView</code> object after it becomes
attached to a window. This function sets up the object so that it can
correctly format text and display it. Among other things, it sets the
drawing mode to <code class="constant">B_OP_COPY</code>. If the <code class="classname">BTextView</code>
is targeted by scroll bars,
it adjusts them so that they're accurately set up for scrolling the text.
</p><p>
Because the <code class="classname">BTextView</code> uses pulses to animate (or "blink") the caret, the
vertical line that marks the current insertion point, this function also
enables pulsing in the window and fixes the pulse rate at 2 per second.
</p><p>
<code class="methodname">AttachedToWindow()</code> is called for you when the
<code class="classname">BTextView</code> becomes part a
window's view hierarchy; you shouldn't call it yourself, though you can
override it. A function that's implemented by a derived class should
begin by incorporating the <code class="classname">BTextView</code> version:
</p><pre class="programlisting example cpp"><span class="type">void</span> <code class="classname">MyText</code>::<code class="methodname">AttachedToWindow</code>()
{
   <code class="classname">BTextView</code>::<code class="methodname">AttachedToWindow</code>()
   . . .
}</pre><p>
If it doesn't, the <code class="classname">BTextView</code> won't be able to properly display the text.
</p><p>
See also:
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">BView::AttachedToWindow()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_DetachedFromWindow"></a>DetachedFromWindow()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">DetachedFromWindow</span>();</code><p>
Resets the cursor to the standard hand image (<code class="constant">B_HAND_CURSOR</code>) if it's
above the <code class="classname">BTextView</code> when the
<code class="classname">BTextView</code> is removed from the window.
</p><p>
See also:
<a class="link" href="BView.html#BView_DetachedFromWindow" title="DetachedFromWindow(), AllDetached()"><code class="methodname">BView::DetachedFromWindow()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Draw"></a>Draw()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Draw</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">updateRect</span></span>);</code><p>
Draws the <code class="classname">BTextView</code>.
</p><p>
See also:
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">BView::Draw()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_FrameResized"></a>FrameResized()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">FrameResized</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">width</span></span>,<br />                          <span class="methodparam"><span class="type">float </span><span class="parameter">height</span></span>);</code><p>
Overrides the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
<a class="link" href="BView.html#BView_FrameResized" title="FrameResized()">version</a>
of this function to reset the ranges of the
<code class="classname">BTextView</code>'s scroll bars and to update the sizes of their proportional
knobs whenever the size of the <code class="classname">BTextView</code> changes.
</p><p>
See also: <a class="link" href="BView.html#BView_FrameResized" title="FrameResized()"><code class="methodname">BView::FrameResized()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_KeyDown"></a>KeyDown()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">KeyDown</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">bytes</span></span>,<br />                     <span class="methodparam"><span class="type">int32 </span><span class="parameter">numBytes</span></span>);</code><p>
Enters text at the current selection in response to the user's typing.
This function is called from the window's message loop for every report
of a key-down event—typically once for every character the user
types. However, it does nothing unless the <code class="classname">BTextView</code> is the focus view
and the text it contains is editable.
</p><p>
If the character encoded in the bytes string is an editing instruction,
<code class="methodname">KeyDown()</code> takes the appropriate action:
</p><ul class="itemizedlist"><li><p>
If the character is from one of the arrow keys (<code class="constant">B_UP_ARROW</code>,
<code class="constant">B_LEFT_ARROW</code>, <code class="constant">B_DOWN_ARROW</code>, or
<code class="constant">B_RIGHT_ARROW</code>), it extends the selection
or moves the insertion point in the appropriate direction, depending on
the modifiers
</p></li><li><p>
If the character is <code class="constant">B_BACKSPACE</code> or <code class="constant">B_DELETE</code>, it deletes the current
selection—or the character preceding or following the current
insertion point.
</p></li><li><p>
If the character comes from one of the paging keys (<code class="constant">B_HOME</code>, <code class="constant">B_END</code>,
<code class="constant">B_PAGE_UP</code>, or <code class="constant">B_PAGE_DOWN</code>), it scrolls the display.
</p></li></ul><p>
Otherwise, it checks whether the character was registered as unacceptable
(by
<a class="link" href="BTextView.html#BTextView_DisallowChar" title="DisallowChar(), AllowChar()"><code class="methodname">DisallowChar()</code></a>).
If not disallowed, it calls the
<a class="link" href="BTextView.html#BTextView_InsertText" title="InsertText(), DeleteText()"><code class="methodname">InsertText()</code></a>
hook function to enter the character into the text and display it. Derived
classes can preview about-to-be-inserted characters by overriding
<a class="link" href="BTextView.html#BTextView_InsertText" title="InsertText(), DeleteText()"><code class="methodname">InsertText()</code></a>.
</p><p>
See also:
<a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">BView::KeyDown()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MessageReceived"></a>MessageReceived()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MessageReceived</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>);</code><p>
Augments the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> version of
<a class="link" href="BView.html#BView_MessageReceived" title="MessageReceived()"><code class="methodname">MessageReceived()</code></a> to handle scripting
requests, dropped data, and four editing messages—<code class="constant">B_CUT</code>, <code class="constant">B_COPY</code>,
<code class="constant">B_PASTE</code>, and <code class="constant">B_SELECT_ALL</code>.
</p><p>
If the message was dragged and dropped on the <code class="classname">BTextView</code> and it contains
<code class="constant">B_MIME_TYPE</code> data under the name "text/plain", this function inserts the
new text at the point where it was dropped—but only if
<a class="link" href="BTextView.html#BTextView_AcceptsDrop" title="AcceptsDrop(), AcceptsPaste()"><code class="methodname">AcceptsDrop()</code></a>
returns <code class="constant">true</code> for the message.
</p><p>
This function handles <code class="constant">B_CUT</code>, <code class="constant">B_COPY</code>,
<code class="constant">B_PASTE</code>, and <code class="constant">B_SELECT_ALL</code> messages
by calling the
<a class="link" href="BTextView.html#BTextView_Cut" title="Cut(), Copy(), Paste(), Clear()"><code class="methodname">Cut()</code></a>,
<a class="link" href="BTextView.html#BTextView_Copy"><code class="methodname">Copy()</code></a>,
<a class="link" href="BTextView.html#BTextView_Paste"><code class="methodname">Paste()</code></a>, and
<a class="link" href="BTextView.html#BTextView_SelectAll" title="SelectAll()"><code class="methodname">SelectAll()</code></a>
functions. A
<code class="classname">BTextView</code> will get these messages, even if the application doesn't send
them, when it's the focus view and the user uses the
<span class="keycap">Command</span>+<span class="keycap">x</span>,
<span class="keycap">Command</span>+<span class="keycap">c</span>,
<span class="keycap">Command</span>+<span class="keycap">v</span>,
and <span class="keycap">Command</span>+<span class="keycap">a</span>
shortcuts. See
"<a class="xref" href="BTextView_Overview.html#BTextView_Overview_ShortcutsAndMenuItems" title="Shortcuts and Menu Items">Shortcuts and Menu Items</a>"
in the class overview for information on how to set up compatible
<span class="guimenuitem">Cut</span>, <span class="guimenuitem">Copy</span>,
<span class="guimenuitem">Paste</span>, and <span class="guimenuitem">Select All</span>
menu items.
</p><p>
To inherit this functionality, <code class="methodname">MessageReceived()</code> functions implemented by
derived classes should be sure to call the <code class="classname">BTextView</code> version.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_AcceptsPaste"><code class="methodname">AcceptsPaste()</code></a>,
<a class="link" href="BTextView.html#BTextView_InsertText" title="InsertText(), DeleteText()"><code class="methodname">InsertText()</code></a>,
<a class="link" href="BView.html#BView_MessageReceived" title="MessageReceived()"><code class="methodname">BView::MessageReceived()</code></a>,
<a class="link" href="BInvoker.html#BInvoker_SetMessage" title="SetMessage(), Message(), Command()"><code class="methodname">BInvoker::SetMessage()</code></a>,
<a class="link" href="BInvoker.html#BInvoker_SetTarget" title="SetTarget(), Target(), IsTargetLocal(), Messenger()"><code class="methodname">BInvoker::SetTarget()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MouseDown"></a>MouseDown()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MouseDown</span>(<span class="methodparam"><span class="type">BPoint </span><span class="parameter">point</span></span>);</code><p>
Selects text, drags text, and positions the insertion point in response
to the user's mouse actions. If the <code class="classname">BTextView</code> isn't already the focus
view for its window, this function calls
<a class="link" href="BTextView.html#BTextView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a> to make it the focus
view.
</p><p>
<code class="methodname">MouseDown()</code> is called for each mouse-down event that occurs inside the
<code class="classname">BTextView</code>'s frame rectangle.
</p><p>
See also:
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">BView::MouseDown()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MouseMoved"></a>MouseMoved()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MouseMoved</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>,<br />                        <span class="methodparam"><span class="type">uint32 </span><span class="parameter">transit</span></span>,<br />                        <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>);</code><p>
Responds to <code class="constant">B_MOUSE_MOVED</code> messages by changing the cursor to the standard
I-beam image for editing text whenever the cursor enters the view and by
resetting it to the standard hand image when the cursor exits the view.
The cursor is changed to an I-beam for text that is selectable or
editable, but only if the <code class="classname">BTextView</code> is the current focus view in the
active window. However, when the cursor moves over the current selection,
this function changes it from the I-beam back to the standard hand image.
This is done to indicate that it's possible to drag and drop the current
selection.
</p><p>
If a message is being dragged to the <code class="classname">BTextView</code>, this function tests it
see whether it contains textual data and tracks it to its destination.
</p><p>
See also:
<a class="link" href="BView.html#BView_MouseMoved" title="MouseMoved()"><code class="methodname">BView::MouseMoved()</code></a>,
<a class="link" href="BTextView.html#BTextView_AcceptsDrop" title="AcceptsDrop(), AcceptsPaste()"><code class="methodname">AcceptsDrop()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Pulse"></a>Pulse()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Pulse</span>();</code><p>
Turns the caret marking the current insertion point on and off when the
<code class="classname">BTextView</code> is the focus view in the active window.
<code class="methodname">Pulse()</code> is called by
the system at regular intervals.
</p><p>
This function is first declared in the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> class.
</p><p>
See also:
<a class="link" href="BView.html#BView_Pulse" title="Pulse()"><code class="methodname">BView::Pulse()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_WindowActivated"></a>WindowActivated()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">WindowActivated</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span></span>);</code><p>
Highlights the current selection when the <code class="classname">BTextView</code>'s window becomes the
active window (when <code class="parameter">flag</code> is
<code class="constant">true</code>)—provided that the <code class="classname">BTextView</code> is
the current focus view—and removes the highlighting when the window
ceases to be the active window (when <code class="parameter">flag</code> is <code class="constant">false</code>).
</p><p>
If the current selection is empty (if it's an insertion point), it's
highlighted by turning the caret on and off (blinking it).
</p><p>
The Interface Kit calls this function for you whenever the <code class="classname">BTextView</code>'s
window becomes the active window or it loses that status.
</p><p>
See also:
<a class="link" href="BView.html#BView_WindowActivated" title="WindowActivated()"><code class="methodname">BView::WindowActivated()</code></a>,
<a class="link" href="BTextView.html#BTextView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_AcceptsDrop"></a><a id="BTextView_AcceptsPaste"></a>
AcceptsDrop(), AcceptsPaste()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">bool </span><span class="methodname">AcceptsDrop</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">bool </span><span class="methodname">AcceptsPaste</span>(<span class="methodparam"><span class="type"><a class="link" href="BClipboard.html" title="BClipboard"><code class="classname">BClipboard</code></a>* </span><span class="parameter">clipboard</span></span>);</code><p>
These functions look at the data in their arguments, and return <code class="constant">true</code> if
its "acceptable." The default implementations return <code class="constant">true</code> if both of the
following are <code class="constant">true</code>:
</p><ul class="itemizedlist"><li><p>
the <code class="classname">BTextView</code> is editable
</p></li><li><p>
the message or clipboard contains <code class="constant">B_MIME_TYPE</code> data stored under the
name "text/plain".
</p></li></ul><p>
If the data isn't acceptable, the drop or paste operation is aborted.
</p><p>
<code class="methodname">AcceptsDrop()</code> is invoked in two places: When a message is dragged over
the <code class="classname">BTextView</code>, and when the message is dropped on the object.
<code class="methodname">AcceptsPaste()</code> is called when a <code class="constant">B_PASTE</code> message is received. If you
augment these functions to accept more types, you'll also have to augment
the
<a class="link" href="BTextView.html#BTextView_MessageReceived" title="MessageReceived()"><code class="methodname">MessageReceived()</code></a>
and
<a class="link" href="BTextView.html#BTextView_Paste"><code class="methodname">Paste()</code></a>
functions to insert the text found in
message or clipboard.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Archive"></a>Archive()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Archive</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>,<br />                         <span class="methodparam"><span class="type">bool </span><span class="parameter">deep</span><span class="initializer"> = <span class="constant">true</span></span></span>) <span class="modifier">const</span>;</code><p>
Calls the inherited version of
<a class="link" href="BView.html#BView_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
and stores the <code class="classname">BTextView</code> in the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> archive.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Archive" title="Archive()"><code class="methodname">BArchivable::Archive()</code></a>,
<a class="link" href="BTextView.html#BTextView_Instantiate" title="Instantiate()"><code class="methodname">Instantiate()</code></a> static function
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_CanEndLine"></a>CanEndLine()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">bool </span><span class="methodname">CanEndLine</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>);</code><p>
Returns <code class="constant">true</code> if the character at offset can be the last character in a
line of text, and <code class="constant">false</code> if not. Sometimes this depends on whether the
next character (if there is one) can begin a line. This function is
called as the <code class="classname">BTextView</code> figures out where to break lines, but only if
word wrapping is turned on.
</p><p>
As implemented, <code class="methodname">CanEndLine()</code> allows the following ASCII characters to end
a line regardless of the context:
</p><pre class="screen">
B_SPACE =  &lt; / &amp;
B_TAB   +  &gt; *
B_ENTER -- ^ | '\0'
</pre><p>
The default implementation also understands the line-ending conventions
for Chinese and Japanese. Because these languages are written without the
spaces that typically end lines in other languages, lines can potentially
break anywhere. However, certain characters are prohibited from ending a
line and others are prohibited from beginning a new line. <code class="methodname">CanEndLine()</code>
prevents lines from ending either on a prohibited ending character or on
the character before a prohibited beginning character.
</p><p>
Derived classes can override this function to apply different criteria
for where lines end, possibly looking at the context of the offset
character. You can also augment the current implementation so that it
understands the conventions for other languages.
</p><p>
If you override this function to look to the left or right of the
character at offset, be sure to check that you haven't stepped beyond the
range of the text. For example, this version of the function makes sure
that the first hyphen of a pair doesn't break a line:
</p><pre class="programlisting example cpp"><span class="type">bool</span> <code class="classname">MyTextView</code>::<code class="methodname">CanEndLine</code>(<span class="type">int32</span> <code class="parameter">offset</code>)
{
   if ( <code class="varname">ByteAt</code>[<code class="parameter">offset</code>] == '-' ) {
      if ( <code class="methodname">TextLength</code>() - <code class="varname">offset</code> &gt; 1 ) {
            if ( <code class="varname">ByteAt</code>[<code class="varname">offset</code> + 1] == '-' )
               return <code class="constant">false</code>;
      }
   }
   return (<span class="emphasis"><em><code class="classname">baseClass</code></em></span>::<code class="methodname">CanEndLine</code>(<code class="parameter">offset</code>));
}</pre><p>
See also:
<a class="link" href="BTextView.html#BTextView_SetWordWrap" title="SetWordWrap(), DoesWordWrap()"><code class="methodname">SetWordWrap()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Cut"></a><a id="BTextView_Copy"></a>
<a id="BTextView_Paste"></a>
<a id="BTextView_Clear"></a>
Cut(), Copy(), Paste(), Clear()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Cut</span>(<span class="methodparam"><span class="type"><a class="link" href="BClipboard.html" title="BClipboard"><code class="classname">BClipboard</code></a>* </span><span class="parameter">clipboard</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Copy</span>(<span class="methodparam"><span class="type"><a class="link" href="BClipboard.html" title="BClipboard"><code class="classname">BClipboard</code></a>* </span><span class="parameter">clipboard</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Paste</span>(<span class="methodparam"><span class="type"><a class="link" href="BClipboard.html" title="BClipboard"><code class="classname">BClipboard</code></a>* </span><span class="parameter">clipboard</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Clear</span>();</code><p>
These functions implement the standard cut, copy, paste, and clear
commands. <code class="methodname">Cut()</code> and <code class="methodname">Copy()</code> both copy the current selection to the
specified clipboard; <code class="methodname">Cut()</code> also deletes the text from the <code class="classname">BTextView</code> and
removes it from the display. The text is entered in the clipboard as
<code class="constant">B_MIME_TYPE</code> data under the name "text/plain". <code class="methodname">Paste()</code> looks in the
clipboard for just this type of data and pastes it into the
text—but only if
<a class="link" href="BTextView.html#BTextView_AcceptsPaste"><code class="methodname">AcceptsPaste()</code></a> returns <code class="constant">true</code>. The new text replaces
the current selection, or is placed at the site of the current insertion
point.
</p><p>
If the <code class="classname">BTextView</code> supports multiple character formats,
<code class="methodname">Cut()</code> and <code class="methodname">Copy()</code>
also place a <span class="type">text_run_array</span> structure describing the formats of the
copied text in the clipboard—as <code class="constant">B_MIME_TYPE</code> data under the name
"application/x-vnd.Be-text_run_array". If the <code class="classname">BTextView</code> that takes text
from the clipboard supports multiple formats, <code class="methodname">Paste()</code> looks for the
<span class="type">text_run_array</span> in the clipboard and sets the formats of the pasted text
accordingly.
</p><p>
In most cases, the clipboard argument will be identical to the global
<code class="varname">be_clipboard</code> object.
</p><p>
The <code class="methodname">Clear()</code> function simply removes the currently-selected text from the
<code class="classname">BTextView</code> without affecting any clipboard. If there's no selection,
nothing happens.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_AcceptsPaste"><code class="methodname">AcceptsPaste()</code></a>,
"<a class="xref" href="BTextView_Overview.html#BTextView_Overview_ShortcutsAndMenuItems" title="Shortcuts and Menu Items">Shortcuts and Menu Items</a>" in the overview
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_DisallowChar"></a><a id="BTextView_AllowChar"></a>
DisallowChar(), AllowChar()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DisallowChar</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">aChar</span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">AllowChar</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">aChar</span></span>);</code><p>
These functions inform the <code class="classname">BTextView</code> whether the user should be allowed
to enter <code class="parameter">aChar</code> into the text. By default, all characters are allowed.
Call <code class="methodname">DisallowChar()</code> for each character you want to prevent
the <code class="classname">BTextView</code>
from accepting, preferably when first setting up the object. Although
declared as <span class="type">uint32</span>, <code class="parameter">aChar</code> must be a character encoded in a single byte;
it can't be a 16-bit Unicode value or a multibyte UTF-8 string.
</p><p>
<code class="methodname">AllowChar()</code> reverses the effect of <code class="methodname">DisallowChar()</code>.
</p><p>
Alternatively, and for more control over the context in which characters
are accepted or rejected, you can implement an
<a class="link" href="BTextView.html#BTextView_InsertText" title="InsertText(), DeleteText()"><code class="methodname">InsertText()</code></a> function for
the <code class="classname">BTextView</code>.
<a class="link" href="BTextView.html#BTextView_InsertText" title="InsertText(), DeleteText()"><code class="methodname">InsertText()</code></a>
is called for all insertions, including each
character the user types, all text the user drags to the <code class="classname">BTextView</code>, and
all attempts to paste from the clipboard.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_FindWord"></a>FindWord()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">FindWord</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>,<br />                      <span class="methodparam"><span class="type">int32* </span><span class="parameter">start</span></span>,<br />                      <span class="methodparam"><span class="type">int32* </span><span class="parameter">finish</span></span>);</code><p>
Looks for a sequence of characters that qualifies as a word—that
is, a sequence that the user can double-click to select—that
includes the character at <code class="parameter">offset</code>. This function places the offset of the
word's first character in the variable that <code class="parameter">start</code> refers to and the
offset following the last character in the word in the variable that
<code class="parameter">finish</code> refers to. If the <code class="parameter">offset</code>
character can't be part of a word, the
<code class="parameter">start</code> and <code class="parameter">finish</code> offsets will be identical.
</p><p>
As implemented, this function allows the user to select a group of
similar characters with a double-click. For example, in the following
line of malformed text,
</p><pre class="screen">
"You what!!?"
</pre><p>
it would allow the user to select the words "You" and "what," the group
of spaces between the words, and the group of punctuation marks at the
end.
</p><p>
The function also defines similar groups of Japanese characters that can
be selected together.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_GetDragParameters"></a>GetDragParameters()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">GetDragParameters</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">drag</span></span>,<br />                               <span class="methodparam"><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>** </span><span class="parameter">bitmap</span></span>,<br />                               <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a>* </span><span class="parameter">point</span></span>,<br />                               <span class="methodparam"><span class="type"><a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>** </span><span class="parameter">handler</span></span>);</code><p>
<code class="methodname">GetDragParameters()</code> is called when a drag session is initiated. The
values that it retrieves (by reference in the arguments) are passed on to
<a class="link" href="BView.html#BView_DragMessage" title="DragMessage()"><code class="methodname">BView::DragMessage()</code></a>.
If you don't supply a bitmap (if you set <code class="parameter">*bitmap</code> to
<code class="constant">NULL</code>), the outline rectangle version of
<a class="link" href="BView.html#BView_DragMessage" title="DragMessage()"><code class="methodname">DragMessage()</code></a> is used.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_GetSelection"></a>GetSelection()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetSelection</span>(<span class="methodparam"><span class="type">int32* </span><span class="parameter">start</span></span>,<br />                  <span class="methodparam"><span class="type">int32* </span><span class="parameter">finish</span></span>);</code><p>
Provides the current selection by writing the offset before the first
selected character into the variable referred to by <code class="parameter">start</code> and the offset
after the last selected character into the variable referred to by
<code class="parameter">finish</code>. If no characters are selected, both offsets will record the
position of the current insertion point.
</p><p>
If the text isn't selectable, both offsets will be 0.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_Select" title="Select()"><code class="methodname">Select()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_GetTextRegion"></a>GetTextRegion()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetTextRegion</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />                   <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>,<br />                   <span class="methodparam"><span class="type"><a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a>* </span><span class="parameter">region</span></span>) <span class="modifier">const</span>;</code><p>
Calculates the region where the run of characters beginning at the <code class="parameter">start</code>
offset and ending at the <code class="parameter">finish</code> offset would be displayed within the
<code class="classname">BTextView</code>'s coordinate system, and modifies the
<a class="link" href="BRegion.html" title="BRegion"><code class="classname">BRegion</code></a> object passed as
the third argument, <code class="parameter">region</code>, so that it represents that region.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_TextHeight"><code class="methodname">TextHeight()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_GoToLine"></a><a id="BTextView_CountLines"></a>
<a id="BTextView_CurrentLine"></a>
GoToLine(), CountLines(), CurrentLine()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GoToLine</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>);</code><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CurrentLine</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountLines</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">GoToLine()</code> moves the insertion point to the beginning of the line at
<code class="parameter">index</code>. The first line has an index of 0, the second line an index of 1,
and so on. If the index is out-of-range, the insertion point is moved to
the beginning of the line with the nearest in-range index—that is,
to either the first or the last line.
</p><p>
<code class="methodname">CurrentLine()</code> returns the index of the line where the first character of
the selection—or the character following the insertion
point—is currently located.
</p><p>
<code class="methodname">CountLines()</code> returns how many lines of text
the <code class="classname">BTextView</code> currently
contains.
</p><p>
Like other functions that change the selection, <code class="methodname">GoToLine()</code> doesn't
automatically scroll the display to make the new selection visible. Call
<a class="link" href="BTextView.html#BTextView_ScrollToSelection"><code class="methodname">ScrollToSelection()</code></a>
to be sure that the user can see the start of the selection.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_HideTyping"></a><a id="BTextView_IsTypingHidden"></a>
HideTyping(), IsTypingHidden()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">HideTyping</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsTypingHidden</span>() <span class="modifier">const</span>;</code><p>
The first of these functions sets whether the user can see the text in
the <code class="classname">BTextView</code>; the second returns whether or not the text is currently
visible. When flag's state is <code class="constant">true</code>, text contained by the
<code class="classname">BTextView</code> isn't visible.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Highlight"></a>Highlight()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">inline </span><span class="void">void </span><span class="methodname">Highlight</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />                      <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>);</code><p>
Highlights (or unhighlights) the characters between the <code class="parameter">start</code> and <code class="parameter">finish</code>
offsets. This is the function that the <code class="classname">BTextView</code> calls to highlight and
unhighlight the current selection. You don't need to call it yourself for
this purpose. It's in the public API just in case you may need to
highlight a range of text in some other circumstance.
</p><p>
If the text is not currently highlighted, this function highlights it.
But if the text is already highlighted, it unhighlights it. If you
highlight some text, be sure to unhighlight it before the next editorial
change; the <code class="classname">BTextView</code> will not do it for you.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_Select" title="Select()"><code class="methodname">Select()</code></a>,
<a class="link" href="BTextView.html#BTextView_GetTextRegion" title="GetTextRegion()"><code class="methodname">GetTextRegion()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Insert"></a><a id="BTextView_Delete"></a>
Insert(), Delete()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Insert</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">text</span></span>,<br />            <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Insert</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">text</span></span>,<br />            <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />            <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Insert</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>,<br />            <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">text</span></span>,<br />            <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />            <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Delete</span>();</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Delete</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />            <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>);</code>
</div><p>
<code class="methodname">Insert()</code> adds <code class="parameter">length</code> bytes of
text to the <code class="classname">BTextView</code>—or if a length
isn't specified, all the characters of the text string up to the null
character that terminates it. The text is inserted at <code class="parameter">offset</code>—or at
the beginning of the current selection if an <code class="parameter">offset</code> isn't specified. The
current selection is not deleted and the insertion is not selected.
</p><p>
The inserted characters are displayed in the fonts and colors specified
in the accompanying <code class="parameter">runs</code> array, provided the
<code class="classname">BTextView</code> allows multiple
character formats. If multiple formats aren't allowed, the <code class="parameter">runs</code> array is
ignored. If multiple formats are allowed but a <code class="parameter">runs</code> array isn't provided,
the insertion is displayed in the font and color in force at the point of
insertion. This generally means the font and color of the first character
of the selection, or of the character immediately preceding the offset
character.
</p><p>
Offsets in the <code class="parameter">runs</code> array should describe the text being inserted; in
other words, the first offset should be 0. See
<a class="link" href="BTextView.html#BTextView_SetRunArray" title="SetRunArray(), RunArray()"><code class="methodname">SetRunArray()</code></a> for a
description of the <span class="type">text_run_array</span> structure.
</p><p>
<code class="methodname">Insert()</code> doesn't assume responsibility
for the <code class="parameter">text</code> data or the <code class="parameter">runs</code>
array. It copies the information it needs.
</p><p>
<code class="methodname">Delete()</code> removes the characters bounded by the
<code class="parameter">start</code> and <code class="parameter">finish</code> offsets
from the display and deletes them from the <code class="classname">BTextView</code>'s text, without
copying them to the clipboard. If the <code class="parameter">start</code>
and <code class="parameter">finish</code> offsets are the
same, nothing is deleted. If offsets are not provided, <code class="methodname">Delete()</code> deletes
the current selection.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_SetText" title="SetText()"><code class="methodname">SetText()</code></a>,
<a class="link" href="BTextView.html#BTextView_Cut" title="Cut(), Copy(), Paste(), Clear()"><code class="methodname">Cut()</code></a>,
<a class="link" href="BTextView.html#BTextView_SetRunArray" title="SetRunArray(), RunArray()"><code class="methodname">SetRunArray()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_InsertText"></a><a id="BTextView_DeleteText"></a>
InsertText(), DeleteText()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">InsertText</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">text</span></span>,<br />                        <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />                        <span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>,<br />                        <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">DeleteText</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />                        <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>);</code><p>
These protected functions are the vehicles through which the <code class="classname">BTextView</code>
performs every insertion and deletion of text (with one exception). You
can augment them in a subclass to take note of pending changes to the
text, and to modify or prevent the change.
</p><p>
Don't call <code class="methodname">Insert()</code>, <code class="methodname">Delete()</code>
or any other high-level text-manipulating
function in your implementation.
</p><p>
<code class="methodname">InsertText()</code> adds <code class="parameter">length</code> bytes
of text to the <code class="classname">BTextView</code>, inserting it at
<code class="parameter">offset</code> within the text buffer. The font and color of the inserted
characters may be described by an accompanying <code class="parameter">runs</code> array. If the
<code class="classname">BTextView</code> doesn't support multiple character formats, the <code class="parameter">runs</code> array is
ignored. If multiple formats are supported but the <code class="parameter">runs</code> array is <code class="constant">NULL</code>,
the text is displayed in the font and color of the character preceding
offset (or of the first character, if offset is 0.)
</p><p>
The offsets in the <code class="parameter">runs</code> data structure are relative to the inserted text;
that is, the first offset in the array is 0, not <code class="parameter">offset</code>.
</p><p>
<code class="methodname">InsertText()</code> is called for every insertion, except one. The exception
occurs when <a class="link" href="BTextView.html#BTextView_SetText" title="SetText()"><code class="methodname">SetText()</code></a>
takes text from a file; in this case the text goes
directly from the file to the <code class="classname">BTextView</code>; it's not stored in a temporary
buffer while <code class="methodname">InsertText()</code> is called.
</p><p>
<code class="methodname">DeleteText()</code> removes the text bounded by the
<code class="parameter">start</code> and <code class="parameter">finish</code> offsets. It
fails if the offsets don't differ, or if the <code class="parameter">finish</code> offset isn't greater
than the <code class="parameter">start</code> offset. This function is called for every deletion.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_Insert" title="Insert(), Delete()"><code class="methodname">Insert()</code></a>,
<a class="link" href="BTextView.html#BTextView_Delete"><code class="methodname">Delete()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_LineAt"></a><a id="BTextView_PointAt"></a>
<a id="BTextView_OffsetAt"></a>
LineAt(), PointAt(), OffsetAt()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">LineAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">LineAt</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>) <span class="modifier">const</span>;</code>
</div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="methodname">PointAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>,<br />               <span class="methodparam"><span class="type">float* </span><span class="parameter">height</span><span class="initializer"> = <span class="constant">NULL</span></span></span>) <span class="modifier">const</span>;</code><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">OffsetAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">OffsetAt</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>) <span class="modifier">const</span>;</code>
</div><p>
These functions translate between coordinate values, text offsets, and
line indices. <code class="methodname">LineAt()</code> returns the index of the line containing the
character at <code class="parameter">offset</code> in the text, or the line located at the specified
<code class="parameter">point</code> in the <code class="classname">BTextView</code>'s coordinate system. Line indices begin at 0.
</p><p>
<code class="methodname">PointAt()</code> returns the coordinate location of the character at <code class="parameter">offset</code>. The
point is the left top corner of a rectangle enclosing the character and
is stated in the <code class="classname">BTextView</code>'s coordinate system. The x-coordinate of the
point is the position on the baseline where the character is (or would
be) drawn; its y-coordinate is the top of the line where the <code class="parameter">offset</code>
character is located. If a <code class="parameter">height</code> argument is provided, <code class="methodname">PointAt()</code> returns
the height of the line by reference.
</p><p>
<code class="methodname">OffsetAt()</code> returns the offset to the character that begins the <code class="parameter">index</code>
line, or to the character displayed at <code class="parameter">point</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_LineHeight"></a><a id="BTextView_TextHeight"></a>
LineHeight(), TextHeight()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">LineHeight</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span><span class="initializer"> = 0</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">TextHeight</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">firstIndex</span></span>,<br />                 <span class="methodparam"><span class="type">int32 </span><span class="parameter">lastIndex</span></span>) <span class="modifier">const</span>;</code><p>
<code class="methodname">LineHeight()</code> returns the height of the line of text at <code class="parameter">index</code>, or the
first line if an index isn't specified. Line indices begin at 0. The
height is stated in coordinate units and depends on the font. It's the
sum of how far characters can ascend above and descend below the
baseline, plus the amount of leading that separates lines. If more than
one font is used on the line, the ascent is taken from the tallest font
and the descent and leading from the deepest.
</p><p>
<code class="methodname">TextHeight()</code> returns the height of the set of lines from <code class="parameter">firstIndex</code>
through <code class="parameter">lastIndex</code>.
</p><p>
Both functions reset out-of-range indices to be in-range—that is,
to the index of the first or last line.
</p><p>
See also:
<a class="link" href="BFont.html#BFont_GetHeight" title="GetHeight(), font_height"><code class="methodname">BFont::GetHeight()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_LineWidth"></a>LineWidth()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">LineWidth</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span><span class="initializer"> = 0</span></span>) <span class="modifier">const</span>;</code><p>
Returns the width of the line at <code class="parameter">index</code>—or, if no index is given,
the width of the first line. The value returned is the sum of the widths
(in coordinate units) of all the characters in the line, from the first
through the last, including tabs and spaces. Line indices begin at 0.
</p><p>
If the <code class="parameter">index</code> passed is out-of-range, it's reinterpreted to be the nearest
in-range index—that is, as the index to the first or the last line.
</p><p>
See also:
<a class="link" href="BFont.html#BFont_StringWidth" title="StringWidth(), GetStringWidths()"><code class="methodname">BFont::StringWidth()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MakeEditable"></a><a id="BTextView_IsEditable"></a>
MakeEditable(), IsEditable()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MakeEditable</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsEditable</span>() <span class="modifier">const</span>;</code><p>
The first of these functions sets whether the user can edit the text
displayed by the <code class="classname">BTextView</code>; the second returns whether or not the text is
currently editable. Text is editable by default.
</p><p>
When text is editable but not selectable, the user can enter and delete
text at the insertion point, but can't select text to make changes to
more than one character at a time.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_MakeSelectable" title="MakeSelectable() , IsSelectable()"><code class="methodname">MakeSelectable()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MakeFocus"></a>MakeFocus()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MakeFocus</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><p>
Overrides the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> version of
<a class="link" href="BView.html#BView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a> to highlight the current
selection when the <code class="classname">BTextView</code> becomes the focus view (when
<code class="parameter">flag</code> is <code class="constant">true</code>)
and to unhighlight it when the <code class="classname">BTextView</code> no longer is the focus view
(when <code class="parameter">flag</code> is <code class="constant">false</code>). However, the
current selection is highlighted only
if the <code class="classname">BTextView</code>'s window is the current active window.
</p><p>
This function is called for you whenever the user's actions make the
<code class="classname">BTextView</code> become the focus view, or force it to give up that status.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MakeResizable"></a><a id="BTextView_IsResizable"></a>
MakeResizable(), IsResizable()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MakeResizable</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">resizable</span></span>,<br />                   <span class="methodparam"><span class="type"><a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>* </span><span class="parameter">containerView</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsResizable</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">MakeResizable()</code> gives the <code class="classname">BTextView</code>
the ability to automatically resize
itself to fit its contents if the <code class="parameter">resizable</code> flag is
<code class="constant">true</code>, and takes away
that ability if the flag is <code class="constant">false</code>. <code class="methodname">IsResizable()</code> returns whether the
<code class="classname">BTextView</code> is currently resizable.
</p><p>
The frame rectangle and text rectangle of a resizable <code class="classname">BTextView</code>
automatically grow and shrink to exactly enclose all the characters
entered by the user. The object should display just a single line of text
(the resizing is horizontal); if the <code class="parameter">resizable</code> flag is <code class="constant">true</code>,
<code class="methodname">MakeResizable()</code> turns off line wrapping. The text can be aligned to the
left, right, or center of the text rectangle.
</p><p>
The <code class="parameter">containerView</code> is a view that draws a border around the text (like a
<a class="link" href="BScrollView.html" title="BScrollView"><code class="classname">BScrollView</code></a> object) and is
the parent of the <code class="classname">BTextView</code>; it's the view
that's resized to fit the text. The <code class="classname">BTextView</code>'s resizing mode should be
such that it will be resized in tandem with the container (for example,
<code class="constant">B_FOLLOW_LEFT_RIGHT</code> or <code class="constant">B_FOLLOW_ALL_SIDES</code>).
However, if the <code class="parameter">containerView</code>
is <code class="constant">NULL</code>, as it is by default, the <code class="classname">BTextView</code>
itself is resized to fit the text.
</p><p>
If the <code class="parameter">resizable</code> flag is <code class="constant">false</code>, the
<code class="parameter">containerView</code> argument is ignored.
</p><p>
This resizing mechanism is an alternative to the automatic resizing
behavior provided in the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
class. It triggers resizing on the user's
entry of text, not on a change in the parent view's size. The two schemes
are incompatible; the container view (or the <code class="classname">BTextView</code>, if there is no
container) should not automatically resize itself when its parent is
resized.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_SetAlignment" title="SetAlignment(), Alignment()"><code class="methodname">SetAlignment()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_MakeSelectable"></a><a id="BTextView_IsSelectable"></a>
MakeSelectable() , IsSelectable()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">MakeSelectable</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsSelectable</span>() <span class="modifier">const</span>;</code><p>
The first of these functions sets whether it's possible for the user to
select text displayed by the <code class="classname">BTextView</code>; the second returns whether or not
the text is currently selectable. Text is selectable by default.
</p><p>
When text is selectable but not editable, the user can select one or more
characters to copy to the clipboard, but can't position the insertion
point (an empty selection), enter characters from the keyboard, or paste
new text into the view.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_MakeEditable" title="MakeEditable(), IsEditable()"><code class="methodname">MakeEditable()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_ResolveSpecifier"></a>ResolveSpecifier()</h4></div></div></div><p>
See <a class="link" href="BHandler.html#BHandler_ResolveSpecifier" title="ResolveSpecifier()"><code class="methodname">BHandler::ResolveSpecifier()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_ScrollToOffset"></a><a id="BTextView_ScrollToSelection"></a>
ScrollToOffset(), ScrollToSelection()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">ScrollToOffset</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>);</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">ScrollToSelection</span>();</code><p>
These functions scroll the text so that the character at <code class="parameter">offset</code>—or
the character that begins the current selection—is within the
visible region of the view. If the <code class="classname">BTextView</code> is equipped with scroll
bars, the <a class="link" href="BScrollBar.html" title="BScrollBar"><code class="classname">BScrollBar</code></a>
objects are informed so they can update themselves.
</p><p>
See also:
<a class="link" href="BView.html#BView_ScrollTo"><code class="methodname">BView::ScrollTo()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Select"></a>Select()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Select</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />                    <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>);</code><p>
Selects the characters from <code class="parameter">start</code> up to <code class="parameter">finish</code>,
where <code class="parameter">start</code> and <code class="parameter">finish</code>
are offsets into the <code class="classname">BTextView</code>'s text. If
<code class="parameter">start</code> and <code class="parameter">finish</code> are the same,
the selection will be empty (an insertion point). See
"<a class="xref" href="BTextView_Overview.html#BTextView_Overview_Offsets" title="Offsets">Offsets</a>" in the
class overview for a discussion of the constraints on the offset
arguments.
</p><p>
Normally, the selection is changed by the user. This function provides a
way to change it programmatically.
</p><p>
If the <code class="classname">BTextView</code> is the current focus view in the active window,
<code class="methodname">Select()</code>
highlights the new selection (or displays a blinking caret at the
insertion point). However, it doesn't automatically scroll the contents
of the <code class="classname">BTextView</code> to make the new selection visible. Call
<a class="link" href="BTextView.html#BTextView_ScrollToSelection"><code class="methodname">ScrollToSelection()</code></a>
to be sure that the user can see the start of the selection.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_Text" title="Text(), GetText(), ByteAt()"><code class="methodname">Text()</code></a>,
<a class="link" href="BTextView.html#BTextView_GetSelection" title="GetSelection()"><code class="methodname">GetSelection()</code></a>,
<a class="link" href="BTextView.html#BTextView_ScrollToSelection"><code class="methodname">ScrollToSelection()</code></a>,
<a class="link" href="BTextView.html#BTextView_GoToLine" title="GoToLine(), CountLines(), CurrentLine()"><code class="methodname">GoToLine()</code></a>,
<a class="link" href="BTextView.html#BTextView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SelectAll"></a>SelectAll()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SelectAll</span>();</code><p>
Selects the entire text of the <code class="classname">BTextView</code>, and highlights it if the
<code class="classname">BTextView</code> is the current focus view in the active window.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_Select" title="Select()"><code class="methodname">Select()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetAlignment"></a><a id="BTextView_Alignment"></a>
SetAlignment(), Alignment()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetAlignment</span>(<span class="methodparam"><span class="type">alignment </span><span class="parameter">where</span></span>);</code><code class="methodsynopsis cpp"><span class="type">alignment </span><span class="methodname">Alignment</span>() <span class="modifier">const</span>;</code><p>
These functions set the way text is aligned within the text rectangle and
return the current alignment. Three settings are possible:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_ALIGN_LEFT</code></span></p></td><td><p>Each line is aligned at the left boundary of the text rectangle.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ALIGN_RIGHT</code></span></p></td><td><p>Each line is aligned at the right boundary of the text rectangle.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ALIGN_CENTER</code></span></p></td><td><p>Each line is centered between the left and right
boundaries of the text rectangle.</p></td></tr></tbody></table><p>
The default is <code class="constant">B_ALIGN_LEFT</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetAutoindent"></a><a id="BTextView_DoesAutoindent"></a>
SetAutoindent(), DoesAutoindent()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetAutoindent</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">DoesAutoindent</span>() <span class="modifier">const</span>;</code><p>
These functions set and return whether a new line of text is
automatically indented the same as the preceding line. When set to <code class="constant">true</code>
and the user types <span class="keycap">Return</span> at the end of a line that begins with tabs or
spaces, the new line will automatically indent past those tabs and spaces
to the position of the first visible character.
</p><p>
The default value is <code class="constant">false</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetColorSpace"></a><a id="BTextView_ColorSpace"></a>
SetColorSpace(), ColorSpace()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetColorSpace</span>(<span class="methodparam"><span class="type">color_space </span><span class="parameter">space</span></span>);</code><code class="methodsynopsis cpp"><span class="type">color_space </span><span class="methodname">ColorSpace</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the color space of the offscreen bitmap
that buffers the drawing the <code class="classname">BTextView</code> does. The default color space is
<code class="constant">B_CMAP8</code>.
</p><p>
See also: the <a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a> class
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetDoesUndo"></a><a id="BTextView_DoesUndo"></a>
<a id="BTextView_UndoState"></a>
<a id="BTextView_Undo"></a>
<a id="BTextView_undo_state"></a>
SetDoesUndo(), DoesUndo(), UndoState(), Undo(), undo_state</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetDoesUndo</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">sayIt</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">DoesUndo</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">undo_state </span><span class="methodname">UndoState</span>(<span class="methodparam"><span class="type">bool* </span><span class="parameter">isRedo</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Undo</span>(<span class="methodparam"><span class="type"><a class="link" href="BClipboard.html" title="BClipboard"><code class="classname">BClipboard</code></a>* </span><span class="parameter">clipboard</span></span>);</code><pre class="programlisting definition c">enum <span class="type">undo_state</span> {}</pre><p>
These functions and enum comprise <code class="classname">BTextView</code>'s undo world. The operations
that <code class="classname">BTextView</code> can undo are listed below. The
default undo mechanism is one operation deep: Udoing undoes the previous
(undo-able) operation; a second (immediate) undo redoes the operation.
</p><p>
You call <code class="methodname">SetDoesUndo()</code> to enable or disable the undo machinery for this
object. By default, undo is enabled. The ability to undo is also
controlled by the object's editability (
<a class="link" href="BTextView.html#BTextView_MakeEditable" title="MakeEditable(), IsEditable()"><code class="methodname">MakeEditable()</code></a>), but this is a
tautology, since in order to have something to undo you have to have been
able to edit the object in the first place.
</p><p>
<code class="methodname">DoesUndo()</code> tells you whether the object is "undoable" as set by
<code class="methodname">SetDoesUndo()</code>. It doesn't take editability into consideration.
</p><p>
<code class="methodname">UndoState()</code> tells you what the previous action was (as represented by the
constants listed below). This is the action that will be undone if the
object is told to undo. The <code class="parameter">isRedo</code> value that's returned by reference is
set to <code class="constant">true</code> if the previous action occurred because of an undo.
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_UNDO_UNAVAILABLE</code></span></p></td><td><p>Nothing to undo</p></td></tr><tr><td><p><span class="term"><code class="constant">B_UNDO_TYPING</code></span></p></td><td><p>Text was inserted or deleted</p></td></tr><tr><td><p><span class="term"><code class="constant">B_UNDO_CUT</code></span></p></td><td><p>Selection was cut</p></td></tr><tr><td><p><span class="term"><code class="constant">B_UNDO_PASTE</code></span></p></td><td><p>Text was pasted</p></td></tr><tr><td><p><span class="term"><code class="constant">B_UNDO_CLEAR</code></span></p></td><td><p>Selection was cleared</p></td></tr><tr><td><p><span class="term"><code class="constant">B_UNDO_DROP</code></span></p></td><td><p>Message was dropped</p></td></tr></tbody></table><p>
The <code class="methodname">Undo()</code> hook function is called when the
<code class="classname">BTextView</code> receives a <code class="constant">B_UNDO</code>
message. (By default, <code class="constant">B_UNDO</code> is bound to the window's
<span class="keycap">Command</span>+<span class="keycap">z</span> shortcut;
Undo menu items need to set up the binding explicitly.) The <code class="parameter">clipboard</code>
argument is a pointer to the <code class="varname">be_clipboard</code>; if you're using a custom
clipboard in your <code class="classname">BTextView</code> subclass, you should pass along your
clipboard when you invoke the inherited version of <code class="methodname">Undo()</code>.
</p><p>
Don't try to do too much in a subclass implementation of <code class="methodname">Undo()</code>. In
particular, you probably won't get too far if you're trying to "broaden"
the undo tree.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetFontAndColor"></a><a id="BTextView_GetFontAndColor"></a>
SetFontAndColor(), GetFontAndColor()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetFontAndColor</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />                     <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>,<br />                     <span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>* </span><span class="parameter">font</span></span>,<br />                     <span class="methodparam"><span class="type">uint32 </span><span class="parameter">properties</span><span class="initializer"> = <span class="constant">B_FONT_ALL</span></span></span>,<br />                     <span class="methodparam"><span class="type">rgb_color* </span><span class="parameter">color</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetFontAndColor</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>* </span><span class="parameter">font</span></span>,<br />                     <span class="methodparam"><span class="type">uint32 </span><span class="parameter">properties</span><span class="initializer"> = <span class="constant">B_FONT_ALL</span></span></span>,<br />                     <span class="methodparam"><span class="type">rgb_color* </span><span class="parameter">color</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetFontAndColor</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>,<br />                     <span class="methodparam"><span class="type"><a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>* </span><span class="parameter">font</span></span>,<br />                     <span class="methodparam"><span class="type">rgb_color* </span><span class="parameter">color</span><span class="initializer"> = <span class="constant">NULL</span></span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetFontAndColor</span>(<span class="methodparam"><span class="type"><a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>* </span><span class="parameter">font</span></span>,<br />                     <span class="methodparam"><span class="type">uint32* </span><span class="parameter">sameProperties</span><span class="initializer"> = <span class="constant">B_FONT_ALL</span></span></span>,<br />                     <span class="methodparam"><span class="type">rgb_color* </span><span class="parameter">color</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />                     <span class="methodparam"><span class="type">bool* </span><span class="parameter">sameColor</span><span class="initializer"> = <span class="constant">NULL</span></span></span>) <span class="modifier">const</span>;</code>
</div><p>
These functions set and get the font and color used to display the text.
If the <code class="classname">BTextView</code> supports multiple character formats, <code class="methodname">SetFontAndColor()</code>
sets the font and color of the characters bounded by the <code class="parameter">start</code> and <code class="parameter">finish</code>
offsets. If no offsets are given, it sets the font and color of the
current selection. However, if multiple character formats are not
supported, <code class="methodname">SetFontAndColor()</code> ignores the offsets and formats the entire
text.
</p><p>
<code class="methodname">SetFontAndColor()</code> works like
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>'s
<a class="link" href="BView.html#BView_SetFont" title="SetFont(), GetFont()"><code class="methodname">SetFont()</code></a> function.
It sets the <code class="parameter">font</code>
to the attributes of the font <a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a>
object that are enumerated by the
properties mask. The mask is formed by combining the following constants:
</p><ul class="itemizedlist"><li><p><code class="constant">B_FONT_FAMILY_AND_STYLE</code></p></li><li><p><code class="constant">B_FONT_SIZE</code></p></li><li><p><code class="constant">B_FONT_SHEAR</code></p></li><li><p><code class="constant">B_FONT_ROTATION</code></p></li><li><p><code class="constant">B_FONT_SPACING</code></p></li><li><p><code class="constant">B_FONT_ENCODING</code></p></li><li><p><code class="constant">B_FONT_FACE</code></p></li><li><p><code class="constant">B_FONT_FLAGS</code></p></li></ul><p>
In addition, <code class="constant">B_FONT_ALL</code> is a shorthand for all properties of the
specified font. However, the <code class="classname">BTextView</code> modifies the font to ensure that:
</p><ul class="itemizedlist"><li><p>Characters are not rotated.</p></li><li><p>Antialiasing is not disabled.</p></li><li><p>The spacing mode is <code class="constant">B_BITMAP_SPACING</code>.</p></li><li><p>The character encoding is UTF-8 (<code class="constant">B_UNICODE_UTF8</code>).</p></li></ul><p>
If the <code class="parameter">font</code> argument is <code class="constant">NULL</code>,
the font is not set and the properties mask is ignored.
</p><p>
The color of the characters is set by a pointer to an <span class="type">rgb_color</span>
structure. If the pointer is <code class="constant">NULL</code>, as it is by default, the color is not
set.
</p><p>
<code class="methodname">GetFontAndColor()</code> gets the font and color used to display the character
at <code class="parameter">offset</code>. It modifies the <code class="parameter">font</code>
<a class="link" href="BFont.html" title="BFont"><code class="classname">BFont</code></a> object and the <code class="parameter">color</code>
<span class="type">rgb_color</span>
structure so that they describe the font and color of the character.
</p><p>
If an <code class="parameter">offset</code> isn't specified, <code class="methodname">GetFontAndColor()</code>
looks at the current
selection. It provides a font and color description of the first
character of the selection—or the character at the insertion point
if the selection is empty. It also modifies that variable that the
<code class="parameter">sameProperties</code> argument refers to so that it lists all the font
properties that are uniform for all characters in the selection.
Similarly, it indicates, in the variable that <code class="parameter">sameColor</code> refers to,
whether all the characters in the selection are displayed in the same
color.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetMaxBytes"></a><a id="BTextView_MaxBytes"></a>
SetMaxBytes(), MaxBytes()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetMaxBytes</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">max</span></span>);</code><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">MaxBytes</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the maximum number of bytes that the
<code class="classname">BTextView</code> can accept. The default is the maximum number of bytes that can
be designated by a signed 32-bit integer, a number sufficiently large to
accommodate all uses of a <code class="classname">BTextView</code>. Use this function only if you need
to restrict the number of characters that the user can enter in a text
field.
</p><p>
Note that these functions count bytes, not characters.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetRunArray"></a><a id="BTextView_RunArray"></a>
SetRunArray(), RunArray()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetRunArray</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />                 <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>,<br />                 <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span></span>);</code><code class="methodsynopsis cpp"><span class="type">text_run_array* </span><span class="methodname">RunArray</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">start</span></span>,<br />                         <span class="methodparam"><span class="type">int32 </span><span class="parameter">finish</span></span>,<br />                         <span class="methodparam"><span class="type">int32* </span><span class="parameter">length</span><span class="initializer"> = <span class="constant">NULL</span></span></span>) <span class="modifier">const</span>;</code><p>
These functions set and return the font and color formats of all the
characters bounded by the <code class="parameter">start</code> and
<code class="parameter">finish</code> offsets. The formats are
described by a <span class="type">text_run_array</span> structure, which has the following fields:
</p><table class="variablelist fields"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><span class="type">int32</span> <code class="varname">count</code></span></p></td><td><p>
The number of <span class="type">text_run</span> structures in the array.
</p></td></tr><tr><td><p><span class="term"><span class="type">text_run</span> <code class="varname">runs[1]</code></span></p></td><td><p>
A structure describing the font and color formats in effect at a
particular offset in the <code class="classname">BTextView</code>'s text.
</p></td></tr></tbody></table><p>
The <span class="type">text_run</span> structure describes a run of characters that share the same
font and color formats. It has three fields:
</p><table class="variablelist fields"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><span class="type">int32</span> <code class="varname">offset</code></span></p></td><td><p>
An offset to the first byte of a character in the text buffer. The
text run begins with this character; it continues until another run
begins.
</p></td></tr><tr><td><p><span class="term"><span class="type">BFont</span> <code class="varname">font</code></span></p></td><td><p>
The font that's used to display the run of characters beginning at the
specified offset.
</p></td></tr><tr><td><p><span class="term"><span class="type">rgb_color</span> <code class="varname">color</code></span></p></td><td><p>
The color that's used to display the run of characters beginning at
the specified offset.
</p></td></tr></tbody></table><p>
The first offset of the first <span class="type">text_run</span> in the array passed to
<code class="methodname">SetRunArray()</code> should be 0; the array returned by
<code class="methodname">RunArray()</code> also begins at offset 0.
</p><p>
If the <code class="classname">BTextView</code> doesn't support multiple character formats,
<code class="methodname">SetRunArray()</code> ignores the <code class="parameter">start</code>
and <code class="parameter">finish</code> offsets and sets the entire
text to the font and color of the first <span class="type">text_run</span> in the array. Similarly,
<code class="methodname">RunArray()</code> returns a <span class="type">text_run_array</span>
with one <span class="type">text_run</span> describing the entire text.
</p><p>
<code class="methodname">RunArray()</code> returns a pointer to memory that it allocated (using
<code class="function">malloc()</code>). It puts the number of bytes that it allocated in the variable
that the <code class="parameter">length</code> argument points to. Although
<code class="methodname">RunArray()</code> allocated the
memory, the caller is responsible for freeing it when the returned
<span class="type">text_run_array</span> is no longer needed.
</p><p>
<code class="methodname">SetRunArray()</code> doesn't assume responsibility for the runs data it's
passed; it's up to the caller to free it.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_SetFontAndColor" title="SetFontAndColor(), GetFontAndColor()"><code class="methodname">SetFontAndColor()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetStylable"></a><a id="BTextView_IsStylable"></a>
SetStylable(), IsStylable()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetStylable</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">stylable</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsStylable</span>() <span class="modifier">const</span>;</code><p> <code class="methodname">SetStylable()</code> sets whether the
<code class="classname">BTextView</code> permits multiple character formats. If
the <code class="parameter">stylable</code> flag is
<code class="constant">true</code>, the functions that set the font and color of
the text can apply to particular characters in the text buffer. If the flag
is <code class="constant">false</code>, those functions apply only to the entire
text. When <code class="methodname">SetStylable()</code> is called to turn off
support for multiple formats, all the text is reformatted in the font and
color of the first character. </p><p> <code class="methodname">IsStylable()</code> returns whether multiple
formats are permitted. By default, they're not. </p><p>See also:
<a class="link" href="BTextView.html#BTextView_SetFontAndColor" title="SetFontAndColor(), GetFontAndColor()"><code class="methodname">SetFontAndColor()</code></a>
<a class="link" href="BTextView.html#BTextView_SetRunArray" title="SetRunArray(), RunArray()"><code class="methodname">SetRunArray()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetTabWidth"></a><a id="BTextView_TabWidth"></a>
SetTabWidth(), TabWidth()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetTabWidth</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">width</span></span>);</code><code class="methodsynopsis cpp"><span class="type">float </span><span class="methodname">TabWidth</span>() <span class="modifier">const</span>;</code><p>
These functions set the distance between tab stops to <code class="parameter">width</code> coordinate
units and return the current tab width. Tabs cannot be removed nor can
they be individually set; all tabs have a uniform width. The default tab
width is 28.0 coordinate units.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetText"></a>SetText()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetText</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">text</span></span>,<br />             <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetText</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">text</span></span>,<br />             <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />             <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetText</span>(<span class="methodparam"><span class="type"><a class="link" href="BFile.html" title="BFile"><code class="classname">BFile</code></a>* </span><span class="parameter">file</span></span>,<br />             <span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>,<br />             <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />             <span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>
</div><p>
Removes any text currently in the <code class="classname">BTextView</code> and
copies new text from a <code class="parameter">text</code> buffer or from a
<code class="parameter">file</code> to replace it. This function copies
<code class="parameter">length</code> bytes of text from the buffer—or all
the bytes in the buffer, up to the null character, if a
<code class="parameter">length</code> isn't specified. Or it copies
<code class="parameter">length</code> bytes from the <code class="parameter">file</code>
beginning at the <code class="parameter">offset</code> byte. If the
<code class="parameter">text</code> or <code class="parameter">file</code> is
<code class="constant">NULL</code> or <code class="parameter">length</code> is 0, it empties
the <code class="classname">BTextView</code> without replacing the text.
</p><p>
If a <code class="parameter">runs</code> <span class="type">text_run_array</span> is provided, it will be used to set the font and
color formats of the new text—provided that the <code class="classname">BTextView</code> permits
multiple character formats. If not, the <code class="parameter">runs</code> array is ignored.
</p><p>
The <code class="classname">BTextView</code> doesn't assume ownership of the
<code class="parameter">text</code> buffer, the <code class="parameter">file</code>, or the
<code class="parameter">runs</code> array; you can delete them when
<code class="methodname">SetText()</code> returns.
</p><p>
Text taken from a file is inserted directly into the text, bypassing the
<a class="link" href="BTextView.html#BTextView_InsertText" title="InsertText(), DeleteText()"><code class="methodname">InsertText()</code></a>
function. In other words, you won't receive an
<a class="link" href="BTextView.html#BTextView_InsertText" title="InsertText(), DeleteText()"><code class="methodname">InsertText()</code></a>
notification for text taken from a file.
</p><p>
This function is typically used to set the text initially displayed in
the view. If the <code class="classname">BTextView</code> is already attached to a window, it's updated
to show its new contents.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_Text" title="Text(), GetText(), ByteAt()"><code class="methodname">Text()</code></a>,
<a class="link" href="BTextView.html#BTextView_TextLength" title="TextLength()"><code class="methodname">TextLength()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetTextRect"></a><a id="BTextView_TextRect"></a>
SetTextRect(), TextRect()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetTextRect</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">rect</span></span>);</code><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="methodname">TextRect</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetTextRect()</code> makes <code class="parameter">rect</code> the
<code class="classname">BTextView</code>'s text rectangle—the
rectangle that locates where text is placed within the view. This
replaces the text rectangle originally set in the <code class="classname">BTextView</code> constructor.
The layout of the text is recalculated to fit the new rectangle, and the
text is redisplayed.
</p><p>
<code class="methodname">TextRect()</code> returns the current text rectangle.
</p><p>
See also:
the <code class="classname">BTextView</code> <a class="link" href="BTextView.html#BTextView_Constructor" title="BTextView()">constructor</a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_SetWordWrap"></a><a id="BTextView_DoesWordWrap"></a>
SetWordWrap(), DoesWordWrap()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetWordWrap</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">flag</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">DoesWordWrap</span>() <span class="modifier">const</span>;</code><p>
These functions set and return whether the <code class="classname">BTextView</code> wraps lines on word
boundaries, thus pushing entire words that don't fit at the end of a line
to the next line. When word wrapping is turned on, the <code class="classname">BTextView</code> calls
<a class="link" href="BTextView.html#BTextView_CanEndLine" title="CanEndLine()"><code class="methodname">CanEndLine()</code></a>
to determine exactly where a line can break. If word
wrapping is off, lines break only on a newline character (where the user
types <span class="keycap">Return</span>).
</p><p>
By default, word wrapping is turned on (<code class="methodname">DoesWordWrap()</code>
returns <code class="constant">true</code>).
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_SetTextRect" title="SetTextRect(), TextRect()"><code class="methodname">SetTextRect()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Text"></a><a id="BTextView_GetText"></a>
<a id="BTextView_ByteAt"></a>
Text(), GetText(), ByteAt()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">const </span><span class="type">char* </span><span class="methodname">Text</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">GetText</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>,<br />             <span class="methodparam"><span class="type">int32 </span><span class="parameter">length</span></span>,<br />             <span class="methodparam"><span class="type">char* </span><span class="parameter">buffer</span></span>) <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="type">uchar </span><span class="methodname">ByteAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">offset</span></span>) <span class="modifier">const</span>;</code><p>
These functions reveal the text contained in the <code class="classname">BTextView</code>.
</p><p>
<code class="methodname">Text()</code> returns a pointer to the text, which may be a pointer to an empty
string if the <code class="classname">BTextView</code> is empty. The returned pointer can be used to
read the text, but not to alter it (use
<a class="link" href="BTextView.html#BTextView_SetText" title="SetText()"><code class="methodname">SetText()</code></a>,
<a class="link" href="BTextView.html#BTextView_Insert" title="Insert(), Delete()"><code class="methodname">Insert()</code></a>,
<a class="link" href="BTextView.html#BTextView_Delete"><code class="methodname">Delete()</code></a>,
and other <code class="classname">BTextView</code> functions to do that).
</p><p>
<code class="methodname">GetText()</code> copies up to <code class="parameter">length</code> bytes of the text into <code class="parameter">buffer</code>, beginning
with the byte at <code class="parameter">offset</code>, and adds a null terminator ('0'). Fewer than
<code class="parameter">length</code> bytes are copied if there aren't that many between the specified
<code class="parameter">offset</code> and the end of the text. This function doesn't make any attempt to
ensure that only full character specifications are copied; it's up to the
caller to make sure that a character begins at <code class="parameter">offset</code> and that the last
byte copied isn't in the middle of a multibyte character. The results
won't be reliable if the <code class="parameter">offset</code> is out-of-range.
</p><p>
<code class="methodname">ByteAt()</code> returns the byte located at <code class="parameter">offset</code>.
The offset doesn't have to be to the first byte of a character.
</p><p>
The pointer that <code class="methodname">Text()</code> returns is to the <code class="classname">BTextView</code>'s internal
representation of the text. When it returns, the text string is
guaranteed to be null-terminated and without gaps. However, the <code class="classname">BTextView</code>
may have had to manipulate the text to get it in that condition.
Therefore, there may be a performance price to pay if <code class="methodname">Text()</code> is called
frequently. If you're going to copy the text, it's more efficient to have
<code class="methodname">GetText()</code> do it for you. If you're going to index into the text, it may
be more efficient to call <code class="methodname">ByteAt()</code>.
</p><p>
The pointer that <code class="methodname">Text()</code> returns may no longer be valid after the user or
the program next changes the text. Even if valid, the string may no
longer be null-terminated and gaps may appear.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_TextLength" title="TextLength()"><code class="methodname">TextLength()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_TextLength"></a>TextLength()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">TextLength</span>() <span class="modifier">const</span>;</code><p>
Returns the number of bytes of text data the <code class="classname">BTextView</code> currently
contains—the number of bytes in the string that
<a class="link" href="BTextView.html#BTextView_Text" title="Text(), GetText(), ByteAt()"><code class="methodname">Text()</code></a> returns (not
counting the null terminator).
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_SetMaxBytes" title="SetMaxBytes(), MaxBytes()"><code class="methodname">SetMaxBytes()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_StaticFunctions"></a>Static Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_FlattenRunArray"></a><a id="BTextView_UnflattenRunArray"></a>
FlattenRunArray(), UnflattenRunArray()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">static </span><span class="type">void* </span><span class="methodname">FlattenRunArray</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">text_run_array* </span><span class="parameter">runs</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />                             <span class="methodparam"><span class="type">int32* </span><span class="parameter">numBytes</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">static </span><span class="type">text_run_array* </span><span class="methodname">UnflattenRunArray</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">void* </span><span class="parameter">data</span></span>,<br />                                         <span class="methodparam"><span class="type">int32* </span><span class="parameter">numBytes</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><p>
These functions flatten and unflatten a <span class="type">text_run_array</span> structure so that
it can be treated as an untyped stream of bytes. A <span class="type">text_run_array</span> that's
saved on-disk will be valid when the user reboots the machine only if
it's saved as flat data. Both functions return pointers to memory they
allocate (with <code class="function">malloc()</code>). The caller is responsible for freeing the
memory when it's no longer needed.
</p><p>
<code class="methodname">FlattenRunArray()</code> flattens the runs
<span class="type">text_run_array</span> and returns the flat data.
<code class="methodname">UnflattenRunArray()</code> reconstructs a
<span class="type">text_run_array</span> from previously flattened data and returns a
pointer to the structure.
</p><p>
If a <code class="parameter">numBytes</code> argument is provided, both functions place the number of
bytes they allocated for the data in the variable that <code class="parameter">numBytes</code> refers to.
</p><p>
See also:
<a class="link" href="BTextView.html#BTextView_SetRunArray" title="SetRunArray(), RunArray()"><code class="methodname">SetRunArray()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Instantiate"></a>Instantiate()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">static </span><span class="type"><a class="link" href="BArchivable.html" title="BArchivable"><code class="classname">BArchivable</code></a>* </span><span class="methodname">Instantiate</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code><p>
Returns a new <code class="classname">BTextView</code> object, allocated by new and created by the
version of the constructor that takes a
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> archive. However, if the
archive doesn't contain data for a <code class="classname">BTextView</code> object, the return value
will be <code class="constant">NULL</code>.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Instantiate" title="Instantiate()"><code class="methodname">BArchivable::Instantiate()</code></a>,
<a class="link" href="BTextView.html#BTextView_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_ScriptingSupport"></a>Scripting Support</h3></div></div></div><p>
The <code class="classname">BTextView</code> class implements an unnamed suite consisting of the
following messages:
</p><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Property_Selection"></a>The Selection Property</h4></div></div></div><p>
The current text selection
</p><p>
Using two <span class="type">int32</span> offsets to the beginning and end of the selection in
either the "result" or "data" arrays, these messages convey the current
selection of the object in a manner identical to
<a class="link" href="BTextView.html#BTextView_GetSelection" title="GetSelection()"><code class="methodname">GetSelection()</code></a> and
<a class="link" href="BTextView.html#BTextView_Select" title="Select()"><code class="methodname">Select()</code></a>.
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns the current selection.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Sets the current selection.</td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Property_Text"></a>The Text Property</h4></div></div></div><p>
The text in the view
</p><p>
The "Text" get and set messages correspond to the method
<a class="link" href="BTextView.html#BTextView_GetText"><code class="methodname">GetText()</code></a> and
<a class="link" href="BTextView.html#BTextView_SetText" title="SetText()"><code class="methodname">SetText()</code></a>,
using a C string to store the data. If the <code class="constant">B_SET_PROPERTY</code>
message lacks a "data" member, the selection is deleted; otherwise,
"range" bytes are inserted at offset "index." The values specifying the
range are given in byte rather than character offsets. The range counts
towards the end of the text, even for <code class="constant">B_REVERSE_RANGE_SPECIFIER</code>.
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_COUNT_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns the length of the text in bytes.</td></tr><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_RANGE_SPECIFIER</code>, <code class="constant">B_REVERSE_RANGE_SPECIFIER</code></td><td>Returns the text in the specified range in the
<code class="classname">BTextView</code>.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_RANGE_SPECIFIER</code>, <code class="constant">B_REVERSE_RANGE_SPECIFIER</code></td><td>Removes or inserts text into the specified
range in the <code class="classname">BTextView</code>.</td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_Property_text_run_array"></a>The text_run_array Property</h4></div></div></div><p>
Font and color information for the text
</p><p>
These messages correspond to the methods
<a class="link" href="BTextView.html#BTextView_RunArray"><code class="methodname">RunArray()</code></a> and
<a class="link" href="BTextView.html#BTextView_SetRunArray" title="SetRunArray(), RunArray()"><code class="methodname">SetRunArray()</code></a>,
storing the result as a <code class="constant">B_RAW_TYPE</code>. As with the "Text" property, the
values specifying the range are given in byte rather than character
offsets. The range counts towards the end of the text, even for
<code class="constant">B_REVERSE_RANGE_SPECIFIER</code>.
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_RANGE_SPECIFIER</code>, <code class="constant">B_REVERSE_RANGE_SPECIFIER</code></td><td>Returns the style information for the text in
the specified range in the <code class="classname">BTextView</code>.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_RANGE_SPECIFIER</code>, <code class="constant">B_REVERSE_RANGE_SPECIFIER</code></td><td>Sets the style information for the text in the
specified range in the <code class="classname">BTextView</code>.</td></tr></tbody></table></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTextView_ArchivedFields"></a>Archived Fields</h3></div></div></div><p>
The <a class="link" href="BTextView.html#BTextView_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
function adds the following fields to its
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> argument:
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Field</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td><code class="varname">_text</code></td><td><code class="constant">B_STRING_TYPE</code></td><td>The <code class="classname">BTextView</code>'s text.</td></tr><tr><td><code class="varname">_align</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>The text alignment.</td></tr><tr><td><code class="varname">_tab</code></td><td><code class="constant">B_FLOAT_TYPE</code></td><td>The tab width.</td></tr><tr><td><code class="varname">_col_sp</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>Color space.</td></tr><tr><td><code class="varname">_trect</code></td><td><code class="constant">B_RECT_TYPE</code></td><td>The text rectangle.</td></tr><tr><td><code class="varname">_max</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>The maximum size (a la
<a class="link" href="BTextView.html#BTextView_SetMaxBytes" title="SetMaxBytes(), MaxBytes()"><code class="methodname">SetMaxBytes()</code></a>).</td></tr><tr><td><code class="varname">_sel</code> (array)</td><td><code class="constant">B_INT32_TYPE</code></td><td>index 0: selection start; index 1: selection end</td></tr><tr><td><code class="varname">_dis_ch</code> (array)</td><td><code class="constant">B_RAW_TYPE</code></td><td>Disallowed characters.</td></tr><tr><td><code class="varname">_runs</code></td><td><code class="constant">B_RAW_TYPE</code></td><td>Flattened run array.</td></tr><tr><td><code class="varname">_stylable</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> == is stylable.</td></tr><tr><td><code class="varname">_auto_in</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> == autoindent on</td></tr><tr><td><code class="varname">_wrap</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> == word wrapping on</td></tr><tr><td><code class="varname">_nsel</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> == not selectable</td></tr><tr><td><code class="varname">_nedit</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> == not editable</td></tr></tbody></table></div><p>
Some of these fields may not be present if the setting they represent
isn't used, or is the default value. For example, if word wrapping is
off, the <code class="varname">_wrap</code> field won't be found in the archive.
</p></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BTextControl.html">BTextControl</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BView.html">BView</a> </div><div id="footerB"><div id="footerBL"><a href="BTextControl.html" title="BTextControl"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BView.html" title="BView"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
