<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Media Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheMediaKit.html" title="The Media Kit" /><link rel="prev" href="BMediaEventLooper.html" title="BMediaEventLooper" /><link rel="next" href="BMediaFiles.html" title="BMediaFiles" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BMediaEventLooper.html" title="BMediaEventLooper"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheMediaKit.html" title="The Media Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BMediaFiles.html" title="BMediaFiles"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Media Kit</div></div><div id="headerB">Prev: <a href="BMediaEventLooper.html">BMediaEventLooper</a>  Up: <a href="TheMediaKit.html">The Media Kit</a>  Next: <a href="BMediaFiles.html">BMediaFiles</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile"></a>BMediaFile</h2></div></div></div><a id="id1139968" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td>–</td></tr><tr><td>Mix-in Classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">media/MediaFile.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libmedia.so</code></td></tr><tr><td>Allocation:</td><td>Constructor only</td></tr></tbody></table></td><td>
<a class="link overview" href="BMediaFile_Overview.html" title="BMediaFile">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BMediaFile.html#BMediaFile_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BMediaFile.html#BMediaFile_MemberFunctions">Member Functions</a></span></li><li><span class="section"><a href="BMediaFile.html#BMediaFile_Constants">Constants</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_Constructor"></a>BMediaFile()</h4></div></div></div><div class="synopsisgroup">
<code class="constructorsynopsis cpp"><span class="methodname">BMediaFile</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">entry_ref* </span><span class="parameter">ref</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMediaFile</span>(<span class="methodparam"><span class="type"><span class="classname">BDataIO</span>* </span><span class="parameter">source</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMediaFile</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">entry_ref* </span><span class="parameter">ref</span></span>,<br />           <span class="methodparam"><span class="type">int32 </span><span class="parameter">flags</span><span class="initializer"> = 0</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMediaFile</span>(<span class="methodparam"><span class="type"><span class="classname">BDataIO</span>* </span><span class="parameter">source</span></span>,<br />           <span class="methodparam"><span class="type">int32 </span><span class="parameter">flags</span><span class="initializer"> = 0</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMediaFile</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">entry_ref* </span><span class="parameter">ref</span></span>,<br />           <span class="methodparam"><span class="modifier">const </span><span class="type">media_file_format* </span><span class="parameter">fileFormat</span></span>,<br />           <span class="methodparam"><span class="type">int32 </span><span class="parameter">flags</span><span class="initializer"> = 0</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMediaFile</span>(<span class="methodparam"><span class="type"><span class="classname">BDataIO</span>* </span><span class="parameter">source</span></span>,<br />           <span class="methodparam"><span class="modifier">const </span><span class="type">media_file_format* </span><span class="parameter">fileFormat</span></span>,<br />           <span class="methodparam"><span class="type">int32 </span><span class="parameter">flags</span><span class="initializer"> = 0</span></span>);</code>
</div><p>The first four forms of the constructor initializes
the <code class="classname">BMediaFile</code> to read the file specified
by <code class="parameter">ref</code> or by <code class="parameter">source</code>. Once this has been done, be
sure to call
<a class="link" href="BMediaFile.html#BMediaFile_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a>
to ensure that the file was successfully
sniffed. If sniffing was successful, the <code class="classname">BMediaFile</code> object can then be
used to instantiate the
<a class="link" href="BMediaTrack.html" title="BMediaTrack"><code class="classname">BMediaTrack</code></a>
objects necessary to read the file's data.</p><p>The second two forms prepare a
<code class="classname">BMediaFile</code> object for writing to a media file,
which is specified by either <code class="parameter">ref</code> or
<code class="parameter">destination</code>. The format of the file to be
written is specified by <code class="parameter">fileFormat</code>.</p><p>The flags can be a combination of the following values:</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_REPLACE_MODE</code></span></p></td><td><p>Replace any existing media file, if writing.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_NO_READ_AHEAD</code></span></p></td><td><p>Don't read ahead in the file.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_UNBUFFERED</code></span></p></td><td><p>Use smaller reads. This can be handy if you're
trying to stream low-bitrate files without waiting for the extractor to
fill a large outgoing buffer.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_BIG_BUFFERS</code></span></p></td><td><p>Use large buffers.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_Destructor"></a>~BMediaFile()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BMediaFile()</span>();</code><p>Destructor.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_AddChunk"></a>AddChunk()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">AddChunk</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">type</span></span>,<br />                  <span class="methodparam"><span class="modifier">const </span><span class="type">void* </span><span class="parameter">data</span></span>,<br />                  <span class="methodparam"><span class="type">size_t </span><span class="parameter">size</span></span>);</code><p>Writes a user-defined chunk of data to the file (if doing so is
supported by the encoder). The <code class="parameter">type</code> argument
indicates the chunk type, <code class="parameter">data</code> points to the
data to be written, and <code class="parameter">size</code> indicates the size
of the data to write to the file.</p><div class="admonition warning"><div class="title">Warning</div><div class="graphic"><img class="icon" alt="Warning" width="32" src="./images/admonitions/Stop_32.png" /><div class="text"><p>The <code class="classname">BMediaFile</code> class doesn't
automatically perform any locking to prevent multiple writes to the file
from occurring at the same time. If you have multiple threads writing into
the same <code class="classname">BMediaFile</code>, you must use a locking
mechanism (such as a
<a class="link" href="TheKernelKit_Semaphores_Overview.html" title="Semaphores">semaphore</a>)
to keep writes from overlapping.</p></div></div></div><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_TYPE</code></span></p></td><td><p>The <code class="classname">BMediaFile</code> doesn't reference a valid
file.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>Are codec specific.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_AddCopyright"></a><a id="BMediaFile_Copyright"></a>
AddCopyright(), Copyright()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">AddCopyright</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">data</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">const </span><span class="type">char* </span><span class="methodname">Copyright</span>() <span class="modifier">const</span>;</code><p><code class="methodname">AddCopyright()</code> sets the file's
copyright notice to the string specified by
<code class="parameter">data</code>. Any existing notice is replaced. The
string is copied, so the original belongs to you.</p><p><code class="methodname">Copyright()</code> returns the media file's
copyright notice, or <code class="constant">NULL</code> if there isn't one. This
string belongs to the <code class="classname">BMediaFile</code>, so don't
delete or change it.</p><div class="admonition warning"><div class="title">Warning</div><div class="graphic"><img class="icon" alt="Warning" width="32" src="./images/admonitions/Stop_32.png" /><div class="text"><p>The <code class="classname">BMediaFile</code> class doesn't
automatically perform any locking to prevent multiple writes to the file
from occurring at the same time. If you have multiple threads writing into
the same <code class="classname">BMediaFile</code>, you must use a locking
mechanism (such as a
<a class="link" href="TheKernelKit_Semaphores_Overview.html" title="Semaphores">semaphore</a>)
to keep writes from overlapping.</p></div></div></div><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error. (<code class="methodname">AddCopyright()</code> only)</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_TYPE</code></span></p></td><td><p>The <code class="classname">BMediaFile</code> doesn't reference a valid
file. (<code class="methodname">AddCopyright()</code> only)</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>Are codec specific. (<code class="methodname">AddCopyright()</code> only)</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_CloseFile"></a>CloseFile()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">CloseFile</span>();</code><p>Once all media data has been written to all tracks, you need to call
<code class="methodname">CloseFile()</code> so the <code class="classname">BMediaFile</code>
object can tidy up the file and finish the writing tasks. If you forget
to call <code class="methodname">CloseFile()</code>, the resulting file may
not be complete.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_TYPE</code></span></p></td><td><p>The <code class="classname">BMediaFile</code> doesn't reference a valid
file.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>Are codec specific.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_CommitHeader"></a>CommitHeader()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">CommitHeader</span>();</code><p>After you've finished adding new tracks to a file, you need to call
<code class="methodname">CommitHeader()</code> to let the
<code class="classname">BMediaFile</code> set up the file's header. This helps
optimize the file writing process.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_TYPE</code></span></p></td><td><p>The <code class="classname">BMediaFile</code> doesn't reference a valid
file.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>Are codec specific.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_CountTracks"></a>CountTracks()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">CountTracks</span>() <span class="modifier">const</span>;</code><p>Returns the number of tracks in the media file. The return value is
undefined if the initialization failed.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_CreateTrack"></a>CreateTrack()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type"><span class="classname">BMediaTrack</span>* </span><span class="methodname">CreateTrack</span>(<span class="methodparam"><span class="type">media_format* </span><span class="parameter">mediaFormat</span></span>,<br />                         <span class="methodparam"><span class="modifier">const </span><span class="type">media_codec_info* </span><span class="parameter">codecInfo</span></span>);</code>

<code class="methodsynopsis cpp"><span class="type"><span class="classname">BMediaTrack</span>* </span><span class="methodname">CreateTrack</span>(<span class="methodparam"><span class="type">media_format* </span><span class="parameter">mediaFormat</span></span>);</code>
</div><p>Creates a new track in the file and returns a
<a class="link" href="BMediaTrack.html" title="BMediaTrack"><code class="classname">BMediaTrack</code></a> object
referencing it. The track is configured to use the media format specified
by <code class="parameter">mediaFormat</code>, and will be written using the
codec described by <code class="parameter">codecInfo</code>. You can only use
<a class="link" href="BMediaTrack.html#BMediaTrack_WriteFrames" title="WriteFrames()"><code class="methodname">BMediaTrack::WriteFrames()</code></a>
to write into the track.</p><p>If you use the second form of the constructor, without a
<code class="parameter">codecInfo</code> argument, the track will be written
containing raw media data. You can only use
<a class="link" href="BMediaTrack.html#BMediaTrack_WriteChunk" title="WriteChunk()"><code class="methodname">BMediaTrack::WriteChunk()</code></a>
to write into the track.</p><p>The <code class="parameter">mediaFormat</code> indicates the format of
the buffers you'll be passing along to the write function, and
<code class="parameter">codecInfo</code> specifies the codec you want to use to
encode the data into the track.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>The <code class="parameter">mediaFormat</code> can't contain any
wildcards; you have to specify the exact format that you're going to be
providing. <code class="parameter">mediaFormat</code> must also be the same
structure you passed to
<a class="link" href="BMediaFormats.html#get_next_encoder" title="get_next_encoder()"><code class="function">get_next_encoder()</code></a>.</p></div></div></div><p>When writing new media files, you should create all your tracks at
once before writing any media data. Once all the tracks have been created,
be sure to call
<a class="link" href="BMediaFile.html#BMediaFile_CommitHeader" title="CommitHeader()"><code class="methodname">CommitHeader()</code></a>
to write the header to disk. This is
necessary since the header size may vary depending on the number of
tracks you put in the file, and once you start writing media data into
the tracks, it would be difficult (and inefficient) to resize the header.</p><p>If an error occurs while creating the new track,
<code class="constant">NULL</code> is returned.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_GetFileFormatInfo"></a>GetFileFormatInfo()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetFileFormatInfo</span>(<span class="methodparam"><span class="type">media_file_format* </span><span class="parameter">info</span></span>) <span class="modifier">const</span>;</code><p>Fills the specified <span class="type">media_file_format</span> structure with information
describing the file format of the file referenced by the <code class="classname">BMediaFile</code>
object.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_INIT</code></span></p></td><td><p>The <code class="classname">BMediaFile</code> doesn't reference a valid file.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_GetParameterView"></a>GetParameterView()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><span class="classname">BView</span>* </span><span class="methodname">GetParameterView</span>() <span class="modifier">const</span>;</code><p>Returns a
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
containing controls for adjusting the file format's
parameters. Returns <code class="constant">NULL</code> if there isn't a view available.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_InitCheck"></a>InitCheck()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">InitCheck</span>() <span class="modifier">const</span>;</code><p>Returns the result code from the constructor. You should always call this
after instantiating a <code class="classname">BMediaFile</code> object, but before
using it.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_NO_HANDLER</code></span></p></td><td><p>No codec available for the required or requested
format.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MEMORY</code></span></p></td><td><p>Not enough memory to set up the codec (writing).</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_INDEX</code></span></p></td><td><p>The required add-on wasn't found (writing).</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MISSING_SYMBOL</code></span></p></td><td><p>The add-on doesn't support writing.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_ReleaseTrack"></a><a id="BMediaFile_ReleaseAllTracks"></a>
ReleaseTrack(), ReleaseAllTracks()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">ReleaseTrack</span>(<span class="methodparam"><span class="type"><span class="classname">BMediaTrack</span>* </span><span class="parameter">track</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">ReleaseAllTracks</span>();</code><p><code class="methodname">ReleaseTrack()</code> releases the
resources used by the specified <code class="parameter">track</code>. Doing
so reduces your application's memory usage. If you want to release every
track you're using, you can call
<code class="methodname">ReleaseAllTracks()</code>.</p><p>Once released, a track can't be used any longer until you use
<a class="link" href="BMediaFile.html#BMediaFile_TrackAt" title="TrackAt()"><code class="methodname">TrackAt()</code></a>
again.</p><p>If the <code class="classname">BMediaFile</code> wasn't properly
initialized, or the index is invalid, <code class="constant">NULL</code> is
returned.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ERROR</code></span></p></td><td><p>Couldn't release the track (it may be invalid, or not
actually in use).</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_SetParameterValue"></a><a id="BMediaFile_GetParameterValue"></a>
SetParameterValue(), GetParameterValue()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">SetParameterValue</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">id</span></span>,<br />                           <span class="methodparam"><span class="modifier">const </span><span class="type">void* </span><span class="parameter">value</span></span>,<br />                           <span class="methodparam"><span class="type">size_t </span><span class="parameter">size</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetParameterValue</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">id</span></span>,<br />                           <span class="methodparam"><span class="modifier">const </span><span class="type">void* </span><span class="parameter">value</span></span>,<br />                           <span class="methodparam"><span class="type">size_t </span><span class="parameter">size</span></span>);</code><p><code class="methodname">SetParameterValue()</code> sets the value of
the parameter specified by <code class="parameter">id</code> to
the data pointed to by <code class="parameter">value</code>; this data is
<code class="parameter">size</code> bytes long.</p><p><code class="methodname">GetParameterValue()</code> returns in
<code class="parameter">value</code> the value of the specified
parameter, and the size of the value in bytes in the
<code class="parameter">size</code> argument.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_INIT</code></span></p></td><td><p>The <code class="classname">BMediaFile</code> doesn't reference a valid file.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_TrackAt"></a>TrackAt()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><span class="classname">BMediaTrack</span>* </span><span class="methodname">TrackAt</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>);</code><p>Returns a
<a class="link" href="BMediaTrack.html" title="BMediaTrack"><code class="classname">BMediaTrack</code></a>
object referencing the track at the specified <code class="parameter">index</code>
into the file. The index must be a value between 0 and
<a class="link" href="BMediaFile.html#BMediaFile_CountTracks" title="CountTracks()"><code class="methodname">CountTracks()</code></a>
- 1.</p><p>If the <code class="classname">BMediaFile</code> wasn't properly initialized,
or the <code class="parameter">index</code> is invalid,
<code class="constant">NULL</code> is returned.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>You must call
<a class="link" href="BMediaFile.html#BMediaFile_ReleaseTrack" title="ReleaseTrack(), ReleaseAllTracks()"><code class="methodname">ReleaseTrack()</code></a>
when you're finished with the track.</p></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_Web"></a>Web()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><span class="classname">BParameterWeb</span>* </span><span class="methodname">Web</span>();</code><p>Returns a
<a class="link" href="BParameterWeb.html" title="BParameterWeb"><code class="classname">BParameterWeb</code></a>
that can be used for configuring the file format's parameters. Returns
<code class="constant">NULL</code> if the codec doesn't support user
configuration.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_Constants"></a>Constants</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFile_ConstructorFlags"></a>Constructor Flags</h4></div></div></div><p>Declared in: <code class="filename">media/MediaFile.h</code></p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_REPLACE_MODE</code></span></p></td><td><p>Replace any existing media file, if writing.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_NO_READ_AHEAD</code></span></p></td><td><p>Don't read ahead in the file.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_UNBUFFERED</code></span></p></td><td><p>Use smaller reads. This can be handy if you're
trying to stream low-bitrate files without waiting for the extractor to
fill a large outgoing buffer.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_FILE_BIG_BUFFERS</code></span></p></td><td><p>Use large buffers.</p></td></tr></tbody></table><p>These flags control the behavior of the constructor.</p></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BMediaEventLooper.html">BMediaEventLooper</a>  Up: <a href="TheMediaKit.html">The Media Kit</a>  Next: <a href="BMediaFiles.html">BMediaFiles</a> </div><div id="footerB"><div id="footerBL"><a href="BMediaEventLooper.html" title="BMediaEventLooper"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheMediaKit.html" title="The Media Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BMediaFiles.html" title="BMediaFiles"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
