<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Storage Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheStorageKit.html" title="The Storage Kit" /><link rel="prev" href="BNodeInfo.html" title="BNodeInfo" /><link rel="next" href="BQuery.html" title="BQuery" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BNodeInfo.html" title="BNodeInfo"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheStorageKit.html" title="The Storage Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BQuery.html" title="BQuery"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Storage Kit</div></div><div id="headerB">Prev: <a href="BNodeInfo.html">BNodeInfo</a>  Up: <a href="TheStorageKit.html">The Storage Kit</a>  Next: <a href="BQuery.html">BQuery</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath"></a>BPath</h2></div></div></div><a id="id1245048" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td><a class="link" href="BFlattenable.html" title="BFlattenable"><code class="classname">BFlattenable</code></a></td></tr><tr><td>Mix-in Classes:</td><td>None</td></tr><tr><td>Declared In:</td><td><code class="filename">storage/Path.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BPath_Overview.html" title="BPath">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BPath.html#BPath_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BPath.html#BPath_Member_Functions">Member Functions</a></span></li><li><span class="section"><a href="BPath.html#BPath_Operators">Operators</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Constructor"></a>BPath()</h4></div></div></div><div class="synopsisgroup">
<code class="constructorsynopsis cpp"><span class="methodname">BPath</span>();</code>

<code class="constructorsynopsis cpp"><span class="methodname">BPath</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BEntry.html" title="BEntry"><code class="classname">BEntry</code></a>* </span><span class="parameter">entry</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BPath</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">entry_ref* </span><span class="parameter">ref</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BPath</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">path</span></span>,<br />      <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">leaf</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />      <span class="methodparam"><span class="type">bool </span><span class="parameter">normalize</span><span class="initializer"> = <span class="constant">false</span></span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BPath</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BDirectory.html" title="BDirectory"><code class="classname">BDirectory</code></a>* </span><span class="parameter">dir</span></span>,<br />      <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">leaf</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />      <span class="methodparam"><span class="type">bool </span><span class="parameter">normalize</span><span class="initializer"> = <span class="constant">false</span></span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BPath</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">BPath&amp; </span><span class="parameter">path</span></span>);</code>
</div><p>
Creates a new <code class="classname">BPath</code> object that represents the path that's created from
the arguments. See the analogous
<a class="link" href="BPath.html#BPath_SetTo" title="SetTo(), Unset()"><code class="methodname">SetTo()</code></a> functions for descriptions of
the flavorful constructors.
</p><ul class="itemizedlist"><li><p>
The default constructor does nothing; it should be followed by a call
to <a class="link" href="BPath.html#BPath_SetTo" title="SetTo(), Unset()"><code class="methodname">SetTo()</code></a>.
</p></li><li><p>
The copy constructor makes a copy of the argument's pathname.
</p></li></ul><p>
The constructor automatically allocates memory for the object's stored
pathname. The memory is freed when the object is deleted.
</p><p>
To check to see if an initialization was successful, call
<a class="link" href="BPath.html#BPath_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Destructor"></a>~BPath</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BPath</span>();</code><p>
Frees the object's pathname storage and extinguishes the object.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Member_Functions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Append"></a>Append()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">Append</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">path</span></span>,<br />                <span class="methodparam"><span class="type">bool </span><span class="parameter">normalize</span><span class="initializer"> = <span class="constant">false</span></span></span>);</code><p>
Appends the pathname given by <code class="parameter">path</code> to the object's current pathname. <code class="parameter">path</code>
must be relative. If <code class="parameter">normalize</code> is <code class="constant">true</code>, the new pathname is normalized;
otherwise, it's normalized only if necessary.
</p><p>
Note that this…
</p><pre class="programlisting example cpp"><code class="methodname">Append</code>("subdir/file")</pre><p>
…is the same as (and is implemented as):
</p><pre class="programlisting example cpp"><code class="varname">path</code>.<code class="methodname">SetTo</code>(<code class="varname">path</code>.<code class="methodname">Path</code>(), "subdir/file");</pre><p>
The <code class="methodname">Append()</code> return value is picked up from the
<a class="link" href="BPath.html#BPath_SetTo" title="SetTo(), Unset()"><code class="methodname">SetTo()</code></a> call.
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">path</code> contained a leading "/",
or <code class="varname">this</code> is uninitialized.</p></td></tr></tbody></table><p>See <a class="link" href="BPath.html#BPath_SetTo" title="SetTo(), Unset()"><code class="methodname">SetTo()</code></a>
for other return values.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_GetParent"></a>GetParent()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetParent</span>(<span class="methodparam"><span class="type">BPath* </span><span class="parameter">path</span></span>) <span class="modifier">const</span>;</code><p>
Initializes the argument with the pathname to the parent directory of
<code class="varname">this</code>. Destructive parenting is acceptable (sociologically, it's a given):
</p><pre class="programlisting example cpp"><code class="classname">BPath</code> <code class="varname">path</code>("/boot/lbj/fido");

<code class="varname">path</code>.<code class="methodname">GetParent</code>(&amp;<code class="varname">path</code>);</pre><p>
Other details…
</p><ul class="itemizedlist"><li><p>
<code class="methodname">GetParent()</code> makes a call to
<a class="link" href="BPath.html#BPath_SetTo" title="SetTo(), Unset()"><code class="methodname">SetTo()</code></a>,
but it's guaranteed not to tickle the normalization machine.
</p></li><li><p>
You can't get the parent of "/".
</p></li></ul><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Hello, mother.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ENTRY_NOT_FOUND</code>.</span></p></td><td><p>You tried to get the parent of "/".</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">path</code> is <code class="constant">NULL</code>.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MEMORY</code>.</span></p></td><td><p>Couldn't allocate storage for the pathname.</p></td></tr></tbody></table><p>
If the initialization isn't successful, the argument's
<a class="link" href="BPath.html#BPath_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a> is set
to <code class="constant">B_NO_INIT</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_InitCheck"></a>InitCheck()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">InitCheck</span>() <span class="modifier">const</span>;</code><p>
Returns the status of the most recent construction or
<a class="link" href="BPath.html#BPath_SetTo" title="SetTo(), Unset()"><code class="methodname">SetTo()</code></a> call.
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>The initialization was successful.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_INIT</code>.</span></p></td><td><p>The object is uninitialized (this includes
<a class="link" href="BPath.html#BPath_Unset"><code class="methodname">Unset()</code></a>).</p></td></tr><tr><td><p><span class="term">For other errors.</span></p></td><td><p>See <a class="link" href="BPath.html#BPath_SetTo" title="SetTo(), Unset()"><code class="methodname">SetTo()</code></a></p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Path"></a><a id="BPath_Leaf"></a>
Path(), Leaf()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">const </span><span class="type">char* </span><span class="methodname">Path</span>() <span class="modifier">const</span>;</code><code class="methodsynopsis cpp"><span class="modifier">const </span><span class="type">char* </span><span class="methodname">Leaf</span>() <span class="modifier">const</span>;</code><p>
These functions return the object's full path and leaf name,
respectively. For example:
</p><pre class="programlisting example cpp"><code class="classname">BPath</code> <code class="varname">path</code>("/boot/lbj/fido");
<code class="function">printf</code>("Path: %sn", <code class="varname">path</code>.<code class="methodname">Path</code>());
<code class="function">printf</code>("Leaf: %sn", <code class="varname">path</code>.<code class="methodname">Leaf</code>());</pre><p>
Produces…
</p><pre class="screen">
$ Path: /boot/lbj/fido
$ Leaf: fido
</pre><p>
In both cases, the returned pointers belong to the <code class="classname">BPath</code> object. When the
<code class="classname">BPath</code> is deleted, the pointers go with it.
</p><p>
If the <code class="classname">BPath</code> isn't initialized, the functions
return pointers to <code class="constant">NULL</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_SetTo"></a><a id="BPath_Unset"></a>
SetTo(), Unset()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="methodname">SetTo</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BEntry.html" title="BEntry"><code class="classname">BEntry</code></a>* </span><span class="parameter">entry</span></span>);</code>

<code class="methodsynopsis cpp"><span class="methodname">SetTo</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">path</span></span>,<br />      <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">leaf</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />      <span class="methodparam"><span class="type">bool </span><span class="parameter">normalize</span><span class="initializer"> = <span class="constant">false</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="methodname">SetTo</span>(<span class="methodparam"><span class="modifier">const </span><span class="type"><a class="link" href="BDirectory.html" title="BDirectory"><code class="classname">BDirectory</code></a>* </span><span class="parameter">dir</span></span>,<br />      <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">leaf</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />      <span class="methodparam"><span class="type">bool </span><span class="parameter">normalize</span><span class="initializer"> = <span class="constant">false</span></span></span>);</code>
</div><code class="methodsynopsis cpp"><span class="methodname">Unset</span>();</code><p>
The <code class="methodname">SetTo()</code> function frees the pathname that the object currently holds,
and re-initializes the object according to the arguments:
</p><ul class="itemizedlist"><li><p>
The first version concatenates the <code class="parameter">path</code> and <code class="parameter">leaf</code> strings (interposing
a "/" if necessary). If <code class="parameter">path</code> is relative, the concatenated pathname is
appended to the current working directory. Note that you don't have to
split your pathname into two parts to call this constructor; the
optional <code class="parameter">leaf</code> argument is provided simply as a convenience.
</p></li><li><p>
The second version performs a similar operation using the path of the
<a class="link" href="BDirectory.html" title="BDirectory"><code class="classname">BDirectory</code></a> as the initial part of the pathname.
</p></li><li><p>
The third version initilizes the object with the <code class="parameter">path</code> and name of the
<code class="parameter">entry</code>.
</p></li></ul><p>
Regarding the <code class="parameter">leaf</code> argument:
</p><ul class="itemizedlist"><li><p>
The <code class="parameter">leaf</code> string can contain directories—it needn't be just a
leaf name.
</p></li><li><p>
However, <code class="parameter">leaf</code> must be a relative pathname (it can't start with "/").
</p></li></ul><p>
If set to <code class="constant">true</code>, the <code class="parameter">normalize</code> argument tells the object to normalize the
new pathname. By default (<code class="constant">false</code>), the pathname is normalized only if
necessary. Note that the default doesn't mean that the object absolutely
won't normalize, it just won't do it if it doesn't think it's necessary.
See  "<a class="xref" href="BPath_Overview.html#BPath_Initializing_And_Normalizing" title="Initializing and Normalizing">Initializing and Normalizing</a>" for the full story on
normalizing a pathname, including the conditions that trigger default
normalization. Normalizing has no meaning with the
<a class="link" href="BEntry.html" title="BEntry"><code class="classname">BEntry</code></a> version of
<code class="methodname">SetTo()</code>.
</p><p>
Storage for the pathname is allocated by the <code class="classname">BPath</code> object and is freed
when the object is deleted (or when you re-initialize through <code class="methodname">SetTo()</code>).
The path and leaf arguments are copied into the allocated storage.
</p><p>
Other details…
</p><ul class="itemizedlist"><li><p>
Destructive setting is safe:
</p><pre class="programlisting example cpp"><span class="comment">/* This works... */</span>
<code class="varname">path</code>.<code class="methodname">SetTo</code>(<code class="varname">path</code>.<code class="methodname">Path</code>(), ...);</pre></li><li><p>
Currently, <code class="methodname">SetTo()</code> only checks pathname and filename length if it has
to normalize.
</p></li></ul><p>
<code class="methodname">Unset()</code> frees the object's pathname storage and sets the
<a class="link" href="BPath.html#BPath_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a>
value to <code class="constant">B_NO_INIT</code>.
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Successful initialization.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">path</code> is <code class="constant">NULL</code>,
<code class="parameter">leaf</code> isn't relative (it starts with a
"/"), or <code class="parameter">dir</code> is uninitialized.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>A directory in the path doesn't exist (normalization
only).</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NAME_TOO_LONG</code>.</span></p></td><td><p>A pathname element is too long (normalization only).</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MEMORY</code>.</span></p></td><td><p>Couldn't allocate storage for the pathname.</p></td></tr></tbody></table><p>
The return value is also recorded in
<a class="link" href="BPath.html#BPath_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_BFlattenable_Functions"></a>BFlattenable Functions</h4></div></div></div><p>
The following functions are implemented in accordance with the rules set
down by the <a class="link" href="BFlattenable.html" title="BFlattenable"><code class="classname">BFlattenable</code></a> class. You never need to invoke these functions
directly; they're implemented so a <code class="classname">BPath</code> can added to a
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> (see
"<a class="xref" href="BPath_Overview.html#BPath_Passing_A_BPath_In_A_BMessage" title="Passing a BPath in a BMessage">Passing a BPath in a BMessage</a>"). But in case you're
interested…
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_AllowsTypeCode"></a>AllowsTypeCode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">bool </span><span class="methodname">AllowsTypeCode</span>(<span class="methodparam"><span class="type">type_code </span><span class="parameter">code</span></span>) <span class="modifier">const</span>;</code><p>
Returns <code class="constant">true</code> if <code class="parameter">code</code> is
<code class="constant">B_REF_TYPE</code>, and <code class="constant">false</code> otherwise.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Flatten"></a>Flatten()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Flatten</span>(<span class="methodparam"><span class="type">void* </span><span class="parameter">buffer</span></span>,<br />                         <span class="methodparam"><span class="type">ssize_t </span><span class="parameter">size</span></span>) <span class="modifier">const</span>;</code><p>
Converts the object's pathname to an <span class="type">entry_ref</span> and writes it into <code class="parameter">buffer</code>.
Currently, <code class="parameter">size</code> is ignored.
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Peachy.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NAME_TOO_LONG</code>.</span></p></td><td><p>The pathname is too long (&gt; 1024 characters).</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ENTRY_NOT_FOUND</code>.</span></p></td><td><p>A directory in the path doesn't exist.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_FlattenedSize"></a>FlattenedSize()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">ssize_t </span><span class="methodname">FlattenedSize</span>() <span class="modifier">const</span>;</code><p>
Returns the size of the <span class="type">entry_ref</span> that represents the flattened pathname.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_IsFixedSize"></a>IsFixedSize()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">bool </span><span class="methodname">IsFixedSize</span>() <span class="modifier">const</span>;</code><p>
Returns <code class="constant">false</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_TypeCode"></a>TypeCode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">type_code </span><span class="methodname">TypeCode</span>() <span class="modifier">const</span>;</code><p>
Returns <code class="constant">B_REF_TYPE</code>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Unflatten"></a>Unflatten()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Unflatten</span>(<span class="methodparam"><span class="type">type_code </span><span class="parameter">code</span></span>,<br />                           <span class="methodparam"><span class="modifier">const </span><span class="type">void* </span><span class="parameter">buffer</span></span>,<br />                           <span class="methodparam"><span class="type">ssize_t </span><span class="parameter">size</span></span>);</code><p>
Initializes the <code class="classname">BPath</code> with the flattened <span class="type">entry_ref</span> data that's found in
<code class="parameter">buffer</code>. The type code must be <code class="constant">B_REF_TYPE</code>.
</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p>Wrong type code (not <code class="constant">B_REF_TYPE</code>).</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ENTRY_NOT_FOUND</code>.</span></p></td><td><p>A directory in the <span class="type">entry_ref</span> data doesn't exist.</p></td></tr></tbody></table><p>
The <code class="methodname">Unflatten()</code> return value is recorded in
<a class="link" href="BPath.html#BPath_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a>.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_Operators"></a>Operators</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_operator_equals"></a>= (assignment)</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">BPath&amp; </span><span class="methodname">operator=</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">BPath&amp; </span><span class="parameter">path</span></span>);</code>

<code class="methodsynopsis cpp"><span class="type">BPath&amp; </span><span class="methodname">operator=</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>);</code>
</div><p>
Initializes this with a copy of the pathname that's gotten from the
argument. Also sets
<a class="link" href="BPath.html#BPath_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BPath_operator_equality"></a><a id="BPath_operator_inequality"></a>
== , != (comparison)</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">operator==</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">BPath&amp; </span><span class="parameter">path</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">operator==</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>) <span class="modifier">const</span>;</code>
</div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">operator!=</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">BPath&amp; </span><span class="parameter">path</span></span>) <span class="modifier">const</span>;</code>

<code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">operator!=</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>) <span class="modifier">const</span>;</code>
</div><p>
Compares <code class="varname">this</code>'s pathname with the pathname taken from the argument. The
comparison is a simple <code class="function">strcmp();</code> neither path is normalized or otherwise
altered before the comparison is made. For example:
</p><pre class="programlisting example cpp"><code class="classname">BPath</code> <code class="varname">path</code>("/boot/lbj/fido");

<code class="function">chdir</code>("/boot");
<code class="function">printf</code>("Are they equal? %dn", <code class="varname">path</code> == "lbj/fido");</pre><p>
Displays:
</p><pre class="screen">
$ Are they equal? 0
</pre></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BNodeInfo.html">BNodeInfo</a>  Up: <a href="TheStorageKit.html">The Storage Kit</a>  Next: <a href="BQuery.html">BQuery</a> </div><div id="footerB"><div id="footerBL"><a href="BNodeInfo.html" title="BNodeInfo"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheStorageKit.html" title="The Storage Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BQuery.html" title="BQuery"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
