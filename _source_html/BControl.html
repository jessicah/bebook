<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Interface Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheInterfaceKit.html" title="The Interface Kit" /><link rel="prev" href="BColorControl.html" title="BColorControl" /><link rel="next" href="BDragger.html" title="BDragger" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BColorControl.html" title="BColorControl"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BDragger.html" title="BDragger"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Interface Kit</div></div><div id="headerB">Prev: <a href="BColorControl.html">BColorControl</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BDragger.html">BDragger</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl"></a>BControl</h2></div></div></div><a id="id976884" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td><a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> &gt;
<a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>,
<a class="link" href="BInvoker.html" title="BInvoker"><code class="classname">BInvoker</code></a></td></tr><tr><td>Mix-in Classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">interface/Control.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BControl_Overview.html" title="BControl">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BControl.html#BControl_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BControl.html#BControl_HookFunctions">Hook Functions</a></span></li><li><span class="section"><a href="BControl.html#BControl_MemberFunctions">Member Functions</a></span></li><li><span class="section"><a href="BControl.html#BControl_StaticFunctions">Static Functions</a></span></li><li><span class="section"><a href="BControl.html#BControl_ScriptingSupport">Scripting Support</a></span></li><li><span class="section"><a href="BControl.html#BControl_ArchivedFields">Archived Fields</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Constructor"></a>BControl()</h4></div></div></div><div class="synopsisgroup">
<code class="constructorsynopsis cpp"><span class="methodname">BControl</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">frame</span></span>,<br />         <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">name</span></span>,<br />         <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">label</span></span>,<br />         <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>,<br />         <span class="methodparam"><span class="type">uint32 </span><span class="parameter">resizingMode</span></span>,<br />         <span class="methodparam"><span class="type">uint32 </span><span class="parameter">flags</span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BControl</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code>
</div><p>
Initializes the <code class="classname">BControl</code> by setting its initial value to 0
(<code class="constant">B_CONTROL_OFF</code>), assigning it a <code class="parameter">label</code>,
and registering a model <code class="parameter">message</code>
that captures what the control does—the command it gives when it's
invoked and the information that accompanies the command. The <code class="parameter">label</code> and
the <code class="parameter">message</code> can each be <code class="constant">NULL</code>.
</p><p>
The <code class="parameter">label</code> is copied, but the <code class="parameter">message</code>
is not. The <a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> object becomes
the property of the <code class="classname">BControl</code>; it should not be deleted, posted, assigned
to another object, or otherwise used in application code. The label and
message can be altered after construction with the
<a class="link" href="BControl.html#BControl_SetLabel" title="SetLabel(), Label()"><code class="methodname">SetLabel()</code></a> and
<a class="link" href="BInvoker.html#BInvoker_SetMessage" title="SetMessage(), Message(), Command()"><code class="methodname">SetMessage()</code></a> functions.
</p><p>
The <code class="classname">BControl</code> class doesn't define a
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>
function to draw the label or a
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a>
function to post the message. (It does define
<a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>,
but only to enable keyboard navigation between controls.) It's up to
derived classes to determine how the <code class="parameter">label</code> is drawn and how the <code class="parameter">message</code>
is to be used. Typically, when a <code class="classname">BControl</code> object needs to take action (in
response to a click, for example), it calls the
<a class="link" href="BControl.html#BControl_Invoke" title="Invoke()"><code class="methodname">Invoke()</code></a> function, which
copies the model message and delivers the copy to the designated target.
By default, the target is the window where the control is located, but
<a class="link" href="BInvoker.html#BInvoker_SetTarget" title="SetTarget(), Target(), IsTargetLocal(), Messenger()"><code class="methodname">BInvoker::SetTarget()</code></a>
can designate another handler.
</p><p>
Before delivering the message,
<a class="link" href="BControl.html#BControl_Invoke" title="Invoke()"><code class="methodname">Invoke()</code></a>
adds two data field to it, under
the names <code class="varname">when</code> and <code class="varname">source</code>.
These names should not be used for data items in the model.
</p><p>
The <code class="parameter">frame</code>, <code class="parameter">name</code>,
<code class="parameter">resizingMode</code>, and <code class="parameter">flags</code> arguments are identical to those
declared for the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> class and are passed unchanged to the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
constructor.
</p><p>
The <code class="classname">BControl</code> begins life enabled, and the system plain font is made the
default font for all control devices.
</p><p>
See also: the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
<a class="link" href="BView.html#BView_Constructor" title="BView()"><code class="methodname">constructor</code></a>,
<a class="link" href="BLooper.html#BLooper_PostMessage" title="PostMessage()"><code class="methodname">BLooper::PostMessage()</code></a>,
<a class="link" href="BControl.html#BControl_SetLabel" title="SetLabel(), Label()"><code class="methodname">SetLabel()</code></a>,
<a class="link" href="BInvoker.html#BInvoker_SetMessage" title="SetMessage(), Message(), Command()"><code class="methodname">SetMessage()</code></a>,
<a class="link" href="BInvoker.html#BInvoker_SetTarget" title="SetTarget(), Target(), IsTargetLocal(), Messenger()"><code class="methodname">BInvoker::SetTarget()</code></a>,
<a class="link" href="BControl.html#BControl_Invoke" title="Invoke()"><code class="methodname">Invoke()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Destructor"></a>~BControl()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BControl</span>();</code><p>
Frees the model message and all memory allocated by the <code class="classname">BControl</code>.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_HookFunctions"></a>Hook Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_AttachedToWindow"></a>AttachedToWindow()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">AttachedToWindow</span>();</code><p>
Overrides
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>'s
version of this function to set the <code class="classname">BControl</code>'s low
color and view color so that it matches the view color of its new parent.
It also makes the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>
to which the <code class="classname">BControl</code> has become attached the
default target for the <a class="link" href="BControl.html#BControl_Invoke" title="Invoke()"><code class="methodname">Invoke()</code></a>
function, provided that another target
hasn't already been set.
</p><p>
<code class="methodname">AttachedToWindow()</code> is called for you when the
<code class="classname">BControl</code> becomes a child of
a view already associated with the window.
</p><p>
See also:
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">BView::AttachedToWindow()</code></a>,
<a class="link" href="BControl.html#BControl_Invoke" title="Invoke()"><code class="methodname">Invoke()</code></a>,
<a class="link" href="BInvoker.html#BInvoker_SetTarget" title="SetTarget(), Target(), IsTargetLocal(), Messenger()"><code class="methodname">BInvoker::SetTarget()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_KeyDown"></a>KeyDown()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">KeyDown</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">bytes</span></span>,<br />                     <span class="methodparam"><span class="type">int32 </span><span class="parameter">numBytes</span></span>);</code><p>
Augments the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> version of
<a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>
to toggle the <code class="classname">BControl</code>'s value
and call <a class="link" href="BControl.html#BControl_Invoke" title="Invoke()"><code class="methodname">Invoke()</code></a>
when the character encoded in bytes is either <code class="constant">B_SPACE</code>
or <code class="constant">B_ENTER</code>. This is done to facilitate keyboard navigation and make all
derived control devices operable from the keyboard. Some derived
classes—<a class="link" href="BCheckBox.html" title="BCheckBox"><code class="classname">BCheckBox</code></a>
in particular—find this version of the
function to be adequate. Others, like
<a class="link" href="BRadioButton.html" title="BRadioButton"><code class="classname">BRadioButton</code></a>, reimplement it.
</p><p>
<code class="methodname">KeyDown()</code> is called only when the
<code class="classname">BControl</code> is the focus view in the
active window. (However, if the window has a default button, <code class="constant">B_ENTER</code>
events will be passed to that object and won't be dispatched to the focus
view.)
</p><p>
See also:
<a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">BView::KeyDown()</code></a>,
<a class="link" href="BControl.html#BControl_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_MessageReceived"></a>MessageReceived()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MessageReceived</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>);</code><p>
Handles scripting messages for the <code class="classname">BControl</code>. See
"<a class="link" href="BControl.html#BControl_ScriptingSupport" title="Scripting Support">Scripting Support</a>"
for a description of the messages.
</p><p>
See also: <a class="link" href="BHandler.html#BHandler_MessageReceived" title="MessageReceived()"><code class="methodname">BHandler::MessageReceived()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_SetEnabled"></a><a id="BControl_IsEnabled"></a>
SetEnabled(), IsEnabled()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetEnabled</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">enabled</span></span>);</code><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsEnabled</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetEnabled()</code> enables the <code class="classname">BControl</code>
if the <code class="parameter">enabled</code> flag is <code class="constant">true</code>, and
disables it if enabled is <code class="constant">false</code>.
<code class="methodname">IsEnabled()</code> returns whether or not the
object is currently enabled. <code class="classname">BControl</code>s are enabled by default.
</p><p>
While disabled, a <code class="classname">BControl</code> won't let the user navigate to it; the
<code class="constant">B_NAVIGABLE</code> flag is turned off if enabled is
<code class="constant">false</code> and turned on again if
<code class="parameter">enabled</code> is <code class="constant">true</code>.
</p><p>
Typically, a disabled <code class="classname">BControl</code> also won't post messages or respond
visually to mouse and keyboard manipulation. To indicate this
nonfunctional state, the control device is displayed on-screen in subdued
colors. However, it's left to each derived class to carry out this
strategy in a way that's appropriate for the kind of control it
implements. The <code class="classname">BControl</code> class merely marks an object as being enabled or
disabled; none of its functions take the enabled state of the device into
account.
</p><p>
Derived classes can augment <code class="methodname">SetEnabled()</code> (override it) to take action
when the control device becomes enabled or disabled. To be sure that
<code class="methodname">SetEnabled()</code> has been called to actually make a change, its current state
should be checked before calling the inherited version of the function.
For example:
</p><pre class="programlisting example cpp"><span class="type">void</span> <code class="classname">MyControl</code>::<code class="methodname">SetEnabled</code>(<span class="type">bool</span> <code class="parameter">enabled</code>)
{
   if ( <code class="parameter">enabled</code> == <code class="methodname">IsEnabled</code>() )
      return;
   <code class="classname">BControl</code>::<code class="methodname">SetEnabled</code>(<code class="parameter">enabled</code>);
   <span class="comment">/* Code that responds to the change in state goes here. */</span>
}</pre><p>
Note, however, that you don't have to override <code class="methodname">SetEnabled()</code> just to
update the on-screen display when the control becomes enabled or
disabled. If the <code class="classname">BControl</code> is attached to a window, the kit's version of
<code class="methodname">SetEnabled()</code> always calls the
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> function. Therefore, the device
on-screen will be updated automatically—as long as
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> has been
implemented to take the enabled state into account.
</p><p>
See also: the <code class="classname">BControl</code> <a class="link" href="BControl.html#BControl_Constructor" title="BControl()">constructor</a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_SetValue"></a><a id="BControl_Value"></a>
SetValue(), Value()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetValue</span>(<span class="methodparam"><span class="type">int32 </span><span class="parameter">value</span></span>);</code><code class="methodsynopsis cpp"><span class="type">int32 </span><span class="methodname">Value</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the value of the <code class="classname">BControl</code> object.
</p><p>
<code class="methodname">SetValue()</code> assigns the object a new value. If the <code class="parameter">value</code> passed is in fact
different from the <code class="classname">BControl</code>'s current value, this function calls the
object's <a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> function so that the new value will be reflected in what
the user sees on-screen; otherwise it does nothing.
</p><p>
<code class="methodname">Value()</code> returns the current value.
</p><p>
Classes derived from <code class="classname">BControl</code> should call
<code class="methodname">SetValue()</code> to change the value
of the control device in response to user actions. The derived classes
defined in the Be software kits change values only by calling this
function.
</p><p>
Since <code class="methodname">SetValue()</code> is a virtual function, you can override it to take note
whenever a control's value changes. However, if you want your code to act
only when the value actually changes, you must check to be sure the new
value doesn't match the old before calling the inherited version of the
function. For example:
</p><pre class="programlisting example cpp"><span class="type">void</span> <code class="classname">MyControl</code>::<code class="methodname">SetValue</code>(<span class="type">int32</span> <code class="parameter">value</code>)
{
   if ( <code class="parameter">value</code> != <code class="methodname">Value</code>() ) {
      <code class="classname">BControl</code>::<code class="methodname">SetValue</code>(<code class="parameter">value</code>);
      <span class="comment">/* MyControl's additions to SetValue() go here*/</span>
   }
}</pre><p>
Remember that the <code class="classname">BControl</code> version of
<code class="methodname">SetValue()</code> does nothing unless the
new value differs from the old.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_WindowActivated"></a>WindowActivated()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">WindowActivated</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">active</span></span>);</code><p>
Makes sure that the <code class="classname">BControl</code>, if it's the focus view, is redrawn when the
window is activated or deactivated.
</p><p>
See also:
<a class="link" href="BView.html#BView_WindowActivated" title="WindowActivated()"><code class="methodname">BView::WindowActivated()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Archive"></a>Archive()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Archive</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>,<br />                         <span class="methodparam"><span class="type">bool </span><span class="parameter">deep</span><span class="initializer"> = <span class="constant">true</span></span></span>) <span class="modifier">const</span>;</code><p>
Archives the <code class="classname">BControl</code> by recording its label, current value, model
message, and whether or not it's disabled in the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> <code class="parameter">archive</code>.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Archive" title="Archive()"><code class="methodname">BArchivable::Archive()</code></a>,
<a class="link" href="BControl.html#BControl_Instantiate" title="Instantiate()"><code class="methodname">Instantiate()</code></a> static function
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_GetSupportedSuites"></a>GetSupportedSuites()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetSupportedSuites</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>);</code><p>
Adds the name "suite/vnd.Be-control" to the message. See
"<a class="link" href="BControl.html#BControl_ScriptingSupport" title="Scripting Support">Scripting Support</a>"
and the
"<a class="link" href="TheApplicationKit_Scripting.html" title="Scripting">Scripting</a>"
section in The Application Kit overview for more information.
</p><p>
See also:
<a class="link" href="BHandler.html#BHandler_GetSupportedSuites" title="GetSupportedSuites()"><code class="methodname">BHandler::GetSupportedSuites()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Invoke"></a>Invoke()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Invoke</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><p>
Copies the <code class="classname">BControl</code>'s model
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> and sends the copy so that it will
be dispatched to the designated target (which may be a
<a class="link" href="BLooper.html" title="BLooper"><code class="classname">BLooper</code></a>'s
preferred handler). The following two pieces of information are added to
the copy before it's delivered:
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Data name</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td>"when"</td><td><code class="constant">B_INT64_TYPE</code></td><td>When the control was invoked, as measured in the
number of milliseconds since 12:00:00 AM January 1, 1970.</td></tr><tr><td>"source"</td><td><code class="constant">B_POINTER_TYPE</code></td><td>A pointer to the <code class="classname">BControl</code> object. This permits
the message handler to request more information from the source of the
message.</td></tr></tbody></table></div><p>
These two names shouldn't be used for data fields in the model.
</p><p>
<code class="classname">BControl</code>'s version of <code class="methodname">Invoke()</code>
overrides the
<a class="link" href="BInvoker.html#BInvoker_Invoke" title="Invoke(), InvokeNotify()">version</a>
that the <a class="link" href="BInvoker.html" title="BInvoker"><code class="classname">BInvoker</code></a>
class defines. It's designed to be called by derived classes in their
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a> and
<a class="link" href="BControl.html#BControl_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>
functions; it's not called for you in <code class="classname">BControl</code>
code. It's up to each derived class to define what user actions trigger
the call to <code class="methodname">Invoke()</code>—what activity constitutes "invoking" the
control.
</p><p>
This function doesn't check to make sure the <code class="classname">BControl</code> is currently
enabled. Derived classes should make that determination before calling
<code class="methodname">Invoke()</code>.
</p><p>
See also:
<a class="link" href="BControl.html#BControl_SetEnabled" title="SetEnabled(), IsEnabled()"><code class="methodname">SetEnabled()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_IsFocusChanging"></a>IsFocusChanging()</h4></div><div xmlns:d="http://docbook.org/ns/docbook"><h5 xmlns="http://www.w3.org/1999/xhtml" class="subtitle">protected</h5></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">IsFocusChanging</span>() <span class="modifier">const</span>;</code><p>
Returns <code class="constant">true</code> if the <code class="classname">BControl</code>
is being asked to draw because the focus
changed, and <code class="constant">false</code> if not. If the return value is <code class="constant">true</code>, either the
<code class="classname">BControl</code> has just become the focus view or it has just lost that status
and the
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>
function has been called to update the on-screen display.
</p><p>
This function can be called from inside
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a> to learn whether it's
necessary to draw or erase the visible indication that the <code class="classname">BControl</code> is
the focus view. <code class="methodname">IsFocusChanging()</code>
will return the new status of the view.
</p><p>
See also: <a class="link" href="BControl.html#BControl_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_MakeFocus"></a>MakeFocus()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MakeFocus</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">focused</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code><p>
Augments the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
version of this function to call the <code class="classname">BControl</code>'s
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>
function when the focus changes. This is done to aid keyboard navigation
among control devices. If the
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>
function of a derived class has a
section of code that checks whether the object is in focus and marks the
on-screen display to show that it is (and removes any such marking when
it isn't), the visual part of keyboard navigation will be taken care of.
The derived class doesn't have to reimplement
<code class="methodname">MakeFocus()</code>. Most of the
derived classes implemented in the Interface Kit depend on this version
of the function.
</p><p>
When <a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a>
is called from this function,
<a class="link" href="BControl.html#BControl_IsFocusChanging" title="IsFocusChanging()"><code class="methodname">IsFocusChanging()</code></a>
returns <code class="constant">true</code>.
</p><p>
See also: <a class="link" href="BView.html#BView_MakeFocus" title="MakeFocus()"><code class="methodname">BView::MakeFocus()</code></a>,
<a class="link" href="BControl.html#BControl_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>,
<a class="link" href="BControl.html#BControl_IsFocusChanging" title="IsFocusChanging()"><code class="methodname">IsFocusChanging()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_ResolveSpecifier"></a>ResolveSpecifier()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type"><a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>* </span><span class="methodname">ResolveSpecifier</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">message</span></span>,<br />                                   <span class="methodparam"><span class="type">int32 </span><span class="parameter">index</span></span>,<br />                                   <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">specifier</span></span>,<br />                                   <span class="methodparam"><span class="type">int32 </span><span class="parameter">command</span></span>,<br />                                   <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">property</span></span>);</code><p>
Resolves specifiers for the "Label" and "Value" properties. See
"<a class="link" href="BControl.html#BControl_ScriptingSupport" title="Scripting Support">Scripting Support</a>"
and the
"<a class="link" href="TheApplicationKit_Scripting.html" title="Scripting">Scripting</a>"
section in The Application Kit overview for more information.
</p><p>
See also: <a class="link" href="BHandler.html#BHandler_ResolveSpecifier" title="ResolveSpecifier()"><code class="methodname">BHandler::ResolveSpecifier()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_SetLabel"></a><a id="BControl_Label"></a>
SetLabel(), Label()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">SetLabel</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">string</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">const </span><span class="type">char* </span><span class="methodname">Label</span>() <span class="modifier">const</span>;</code><p>
These functions set and return the label on a control device—the
text that's displayed, for example, on top of a button or alongside a
check box or radio button. The label is a null-terminated string.
</p><p>
<code class="methodname">SetLabel()</code> frees the old label, replaces it with a copy of
<code class="parameter">string</code>, and
updates the control on-screen so the new label will be displayed to the
user—but only if the string that's passed differs from the current
label. The label is first set by the
<a class="link" href="BControl.html#BControl_Constructor" title="BControl()">constructor</a>
and can be modified thereafter by this function.
</p><p>
<code class="methodname">Label()</code> returns the current label. The string it returns belongs to the
<code class="classname">BControl</code> and may be altered or freed in due course.
</p><p>
See also: the <code class="classname">BControl</code> constructor,
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">BView::AttachedToWindow()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_StaticFunctions"></a>Static Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Instantiate"></a>Instantiate()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">static </span><span class="type"><a class="link" href="BArchivable.html" title="BArchivable"><code class="classname">BArchivable</code></a>* </span><span class="methodname">Instantiate</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code><p>
Returns a new <code class="classname">BControl</code> object, allocated by new and created with the
version of the constructor that takes a <a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> archive. However, if the
archive doesn't contain data for a <code class="classname">BControl</code> object, <code class="methodname">Instantiate()</code> returns
<code class="constant">NULL</code>.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Instantiate" title="Instantiate()"><code class="methodname">BArchivable::Instantiate()</code></a>,
<a class="link" href="TheSupportKit_Functions.html#instantiate_object" title="instantiate_object()"><code class="function">instantiate_object()</code></a>,
<a class="link" href="BControl.html#BControl_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_ScriptingSupport"></a>Scripting Support</h3></div></div></div><p>
The <code class="classname">BControl</code> class implements the suite called "suite/vnd.Be-control"
consisting of the following messages:
</p><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Property_Enabled"></a>The Enabled Property</h4></div></div></div><p>
Whether or not the control is enabled
</p><p>
The "Enabled" property corresponds to the methods
<a class="link" href="BControl.html#BControl_IsEnabled"><code class="methodname">IsEnabled()</code></a> and
<a class="link" href="BControl.html#BControl_SetEnabled" title="SetEnabled(), IsEnabled()"><code class="methodname">SetEnabled()</code></a>,
using a boolean to store the data.
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns whether or not the <code class="classname">BControl</code> is
currently enabled.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Enables or disables the <code class="classname">BControl</code>.</td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Property_Label"></a>The Label Property</h4></div></div></div><p>
The text label for the control
</p><p>
The "Label" property corresponds to the methods
<a class="link" href="BControl.html#BControl_Label"><code class="methodname">Label()</code></a> and
<a class="link" href="BControl.html#BControl_SetLabel" title="SetLabel(), Label()"><code class="methodname">SetLabel()</code></a>,
using a string to store the data.
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns the <code class="classname">BControl</code>'s label.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Sets the label of the <code class="classname">BControl</code>.</td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_Property_Value"></a>The Value Property</h4></div></div></div><p>
The value of the control
</p><p>
The "Value" property corresponds to the methods
<a class="link" href="BControl.html#BControl_Value"><code class="methodname">Value()</code></a> and
<a class="link" href="BControl.html#BControl_SetValue" title="SetValue(), Value()"><code class="methodname">SetValue()</code></a>,
using an <span class="type">int32</span> to store the data.
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Message</th><th>Specifiers</th><th>Description</th></tr></thead><tbody><tr><td><code class="constant">B_GET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Returns the <code class="classname">BControl</code>'s value.</td></tr><tr><td><code class="constant">B_SET_PROPERTY</code></td><td><code class="constant">B_DIRECT_SPECIFIER</code></td><td>Sets the value of the <code class="classname">BControl</code>.</td></tr></tbody></table></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BControl_ArchivedFields"></a>Archived Fields</h3></div></div></div><p>
The <a class="link" href="BControl.html#BControl_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
function adds the following fields to its
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> argument:
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Field</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td><code class="varname">_msg</code></td><td><code class="constant">B_MESSAGE_TYPE</code></td><td>The <code class="classname">BControl</code>'s modal invocation message.</td></tr><tr><td><code class="varname">_label</code></td><td><code class="constant">B_STRING_TYPE</code></td><td>The <code class="classname">BControl</code>'s label.</td></tr><tr><td><code class="varname">_val</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>The <code class="classname">BControl</code>'s value.</td></tr><tr><td><code class="varname">_disable</code></td><td><code class="constant">B_BOOL_TYPE</code></td><td><code class="constant">true</code> if the control is disabled.</td></tr></tbody></table></div><p>
Some of these fields may not be present if the setting they represent
isn't used, or is the default value. For example, if the value is 0, the
<code class="varname">_val</code> field won't be found in the archive.
</p></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BColorControl.html">BColorControl</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BDragger.html">BDragger</a> </div><div id="footerB"><div id="footerBL"><a href="BColorControl.html" title="BColorControl"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BDragger.html" title="BDragger"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div><!-- Fathom -->
<script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, 'https://metrics.haiku-os.org/tracker.js', 'fathom');
fathom('trackPageview');
</script>
<!-- / Fathom --></body></html>
